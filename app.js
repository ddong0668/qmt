(function (e) {
    function t(t) {
        for (var i, n, r = t[0], c = t[1], l = t[2], u = 0, h = []; u < r.length; u++)
            n = r[u],
                Object.prototype.hasOwnProperty.call(a, n) && a[n] && h.push(a[n][0]),
                a[n] = 0;
        for (i in c)
            Object.prototype.hasOwnProperty.call(c, i) && (e[i] = c[i]);
        d && d(t);
        while (h.length)
            h.shift()();
        return o.push.apply(o, l || []),
            s()
    }
    function s() {
        for (var e, t = 0; t < o.length; t++) {
            for (var s = o[t], i = !0, r = 1; r < s.length; r++) {
                var c = s[r];
                0 !== a[c] && (i = !1)
            }
            i && (o.splice(t--, 1),
                e = n(n.s = s[0]))
        }
        return e
    }
    var i = {}
        , a = {
            app: 0
        }
        , o = [];
    function n(t) {
        if (i[t])
            return i[t].exports;
        var s = i[t] = {
            i: t,
            l: !1,
            exports: {}
        };
        return e[t].call(s.exports, s, s.exports, n),
            s.l = !0,
            s.exports
    }
    n.m = e,
        n.c = i,
        n.d = function (e, t, s) {
            n.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: s
            })
        }
        ,
        n.r = function (e) {
            "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
        }
        ,
        n.t = function (e, t) {
            if (1 & t && (e = n(e)),
                8 & t)
                return e;
            if (4 & t && "object" === typeof e && e && e.__esModule)
                return e;
            var s = Object.create(null);
            if (n.r(s),
                Object.defineProperty(s, "default", {
                    enumerable: !0,
                    value: e
                }),
                2 & t && "string" != typeof e)
                for (var i in e)
                    n.d(s, i, function (t) {
                        return e[t]
                    }
                        .bind(null, i));
            return s
        }
        ,
        n.n = function (e) {
            var t = e && e.__esModule ? function () {
                return e["default"]
            }
                : function () {
                    return e
                }
                ;
            return n.d(t, "a", t),
                t
        }
        ,
        n.o = function (e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        ,
        n.p = "/oe-web/";
    var r = window["webpackJsonp"] = window["webpackJsonp"] || []
        , c = r.push.bind(r);
    r.push = t,
        r = r.slice();
    for (var l = 0; l < r.length; l++)
        t(r[l]);
    var d = c;
    o.push([0, "chunk-vendors"]),
        s()
})({
    0: function (e, t, s) {
        e.exports = s("56d7")
    },
    "034f": function (e, t, s) {
        "use strict";
        var i = s("f195")
            , a = s.n(i);
        a.a
    },
    "071d": function (e, t, s) {
        "use strict";
        var i = s("7cb1")
            , a = s.n(i);
        a.a
    },
    "097c": function (e, t, s) {
        "use strict";
        var i = s("81ef")
            , a = s.n(i);
        a.a
    },
    "0af9": function (e, t, s) { },
    "0ce7": function (e, t, s) { },
    "0e91": function (e, t, s) {
        "use strict";
        var i = s("c3ab")
            , a = s.n(i);
        a.a
    },
    "0f11": function (e, t, s) {
        e.exports = s.p + "img/back.84c70c73.svg"
    },
    "0f90": function (e, t, s) {
        "use strict";
        var i = s("7f41")
            , a = s.n(i);
        a.a
    },
    1: function (e, t) { },
    1018: function (e, t, s) {
        "use strict";
        var i = s("78d8")
            , a = s.n(i);
        a.a
    },
    1121: function (e, t, s) { },
    "123d": function (e, t, s) { },
    "14b7": function (e, t, s) { },
    "15ad": function (e, t, s) {
        "use strict";
        s.d(t, "a", (function () {
            return o
        })),
            s.d(t, "b", (function () {
                return n
            })),
            s.d(t, "d", (function () {
                return r
            })),
            s.d(t, "c", (function () {
                return l
            }));
        s("5319"),
            s("498a"),
            s("ddb0");
        var i = s("823b")
            , a = s("2ef0");
        function o(e, t) {
            if ("undefined" == typeof nodeRequire)
                throw console.log("nodeRequire failed"),
                window._hmt.push(["_trackEvent", window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "涓嶅湪Electron涓紝璋冪敤 " + e + " 澶辫触"]),
                Object(i["b"])({
                    page: window.location.pathname,
                    action: "涓嶅湪Electron涓紝璋冪敤 " + e + " 澶辫触"
                }),
                new Error("涓嶅湪Electron涓紝璋冪敤 " + e + " 澶辫触");
            return new Promise(s => {
                window.nodeRequire("node-cmd").get("cmd /c chcp 65001>nul && " + e, async (a, n, r) => {
                    if (console.log(e, a, n),
                        Object(i["b"])({
                            page: window.location.pathname,
                            exeName: e,
                            error: JSON.stringify(a),
                            data: n,
                            stderr: JSON.stringify(r),
                            absPath: e.includes(":")
                        }),
                        !e.includes(":") && a) {
                        const s = window.nodeRequire("electron").remote.require("fs")
                            , i = window.nodeRequire("electron").remote.require("path")
                            , [a, n] = e.split(" ")
                            , r = i.join(window.nodeRequire("electron").remote.app.getAppPath(), "../../", a);
                        if (s.existsSync(r))
                            try {
                                await o([r, n].join(" ").trim(), t)
                            } catch (c) {
                                console.log("second try error", r)
                            }
                    }
                    await new Promise(e => setTimeout(() => e(), 1e3));
                    try {
                        await t()
                    } catch (l) {
                        console.log("call cb failed", l)
                    } finally {
                        s()
                    }
                }
                )
            }
            )
        }
        function n(e) {
            if ("undefined" == typeof nodeRequire)
                throw console.log("nodeRequire failed"),
                window._hmt.push(["_trackEvent", window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "涓嶅湪Electron涓紝璋冪敤 fs 澶辫触"]),
                Object(i["b"])({
                    page: window.location.pathname,
                    action: "涓嶅湪Electron涓紝璋冪敤 fs 澶辫触"
                }),
                new Error("涓嶅湪Electron涓紝璋冪敤 fs 澶辫触");
            return window.nodeRequire("fs").existsSync(e)
        }
        function r() {
            Object(i["b"])({
                page: window.location.pathname,
                action: "nodeCheckRemoteDesktop"
            });
            try {
                const e = window.nodeRequire("child_process").execSync("cmd /c chcp 65001>nul && tasklist /FO CSV").toString();
                if (!e)
                    return {};
                if (e.match(/sunloginclient/gi) && e.match(/sunloginclient/gi).length > 0 || e.match(/鍚戞棩钁�/gi) && e.match(/鍚戞棩钁�/gi).length > 0 || e.match(/閫夋嫨鍏嶅畨瑁呰繍琛岋紝鎴浘璇嗗埆/gi) && e.match(/閫夋嫨鍏嶅畨瑁呰繍琛岋紝鎴浘璇嗗埆/gi).length > 0)
                    return {
                        hasSun: !0
                    };
                if (e.match(/todesk/gi) && e.match(/todesk/gi).length > 0)
                    return {
                        hasTodesk: !0
                    }
            } catch (e) {
                console.log(e)
            }
            return {}
        }
        let c = [];
        function l() {
            try {
                let e = window.nodeRequire("child_process").execSync("cmd /c chcp 65001>nul && tasklist /FO CSV").toString();
                e = e.split("\r\n"),
                    e.shift(),
                    e = e.map(e => e.split(",")[0]);
                const t = Object(a["xor"])(c, e);
                t && t.length > 0 && Object(i["b"])({
                    page: window.location.pathname,
                    action: "nodeCheckProcess",
                    xorRes: t.join(" ||| ")
                }),
                    c = e
            } catch (e) {
                console.log("nodeCheckProcess exec error: ", e)
            }
        }
    },
    "170f": function (e, t, s) { },
    "17b4": function (e, t, s) {
        "use strict";
        s("ddb0");
        t["a"] = function (e, t) {
            const s = new Map;
            return function (i) {
                const a = i;
                if (t.some(e => i.match(e))) {
                    if (s.has(a)) {
                        const e = s.get(a);
                        return e
                    }
                    {
                        const t = e(...arguments);
                        return t.then(e => (200 === e.status && s.set(a, t),
                            t))
                    }
                }
                {
                    const t = e(...arguments);
                    return t
                }
            }
        }
    },
    "18a7": function (e, t, s) { },
    "1c71": function (e, t, s) {
        "use strict";
        var i = s("949d")
            , a = s.n(i);
        a.a
    },
    "1eee": function (e, t, s) { },
    2: function (e, t) { },
    "21d8": function (e, t, s) {
        "use strict";
        var i = function () {
            var e = this
                , t = e.$createElement
                , s = e._self._c || t;
            return s("div")
        }
            , a = []
            , o = {
                name: "DevTools",
                created() {
                    if ("undefined" != typeof nodeRequire) {
                        let e = !1
                            , t = !1
                            , s = [];
                        this.listener = document.addEventListener("keydown", (function (i) {
                            e && t && (s.push(i.code[i.code.length - 1]),
                                s.join("").toLowerCase() === window.QECSConfig.STUDENT_CLIENT_CONSOLE_CONFIG && window.nodeRequire("electron").remote.getCurrentWindow().toggleDevTools()),
                                i.ctrlKey && i.shiftKey && "KeyU" === i.code && (e = !0,
                                    setTimeout(() => {
                                        e = !1,
                                            t = !1,
                                            s = []
                                    }
                                        , 5e3)),
                                e && i.ctrlKey && i.shiftKey && "KeyP" === i.code && (t = !0)
                        }))
                    }
                },
                beforeDestroy() {
                    this.listener && document.removeEventListener(this.listener)
                }
            }
            , n = o
            , r = s("2877")
            , c = Object(r["a"])(n, i, a, !1, null, null, null);
        t["a"] = c.exports
    },
    "240b": function (e, t, s) { },
    2517: function (e, t, s) { },
    "287f": function (e, t, s) {
        "use strict";
        var i = s("2517")
            , a = s.n(i);
        a.a
    },
    "28be": function (e, t, s) { },
    2941: function (e, t, s) { },
    "2d57": function (e, t, s) {
        "use strict";
        var i = s("5785")
            , a = s.n(i);
        a.a
    },
    "2df4": function (e, t, s) {
        "use strict";
        var i = s("e42f")
            , a = s.n(i);
        a.a
    },
    "2e2a": function (e, t, s) {
        "use strict";
        var i = s("f6a7")
            , a = s.n(i);
        a.a
    },
    3: function (e, t) { },
    3220: function (e, t, s) {
        "use strict";
        var i = s("123d")
            , a = s.n(i);
        a.a
    },
    3429: function (e, t, s) {
        "use strict";
        var i = s("18a7")
            , a = s.n(i);
        a.a
    },
    4053: function (e, t, s) {
        "use strict";
        var i = s("f748")
            , a = s.n(i);
        a.a
    },
    "40c2": function (e, t, s) { },
    "41cb": function (e, t, s) {
        "use strict";
        var i = s("2b0e")
            , a = s("8c4f")
            , o = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "page-404"
                }, [s("h1", [e._v("椤甸潰涓嶅瓨鍦�!")]), s("br"), s("br"), s("div", [s("Button", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        size: "large",
                        long: ""
                    },
                    on: {
                        click: e.goLogin
                    }
                }, [e._v(" 杩斿洖鐧诲綍椤� ")])], 1)])
            }
            , n = []
            , r = {
                name: "Page404",
                methods: {
                    goLogin() {
                        this.logger({
                            page: "Page404",
                            button: "杩斿洖鐧诲綍椤垫寜閽�",
                            action: "鐐瑰嚮"
                        }),
                            this.$router.push("/login/")
                    }
                }
            }
            , c = r
            , l = (s("dffe"),
                s("2877"))
            , d = Object(l["a"])(c, o, n, !1, null, "512712ed", null)
            , u = d.exports
            , h = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 褰撳墠鎵€鍦ㄤ綅缃細 "), s("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), s("div", {
                    staticClass: "home"
                }, [s("ecs-online-list", {
                    attrs: {
                        courses: e.courses,
                        "end-courses": e.endCourses,
                        "exam-type": e.examType
                    }
                })], 1), s("PhoneVerifyForDD"), s("PrivacyDialog")], 1)
            }
            , m = []
            , p = s("f3f3")
            , _ = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "list"
                }, [s("div", {
                    staticStyle: {
                        display: "flex",
                        "margin-bottom": "10px"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    class: "EXAMING" != e.selectExamState && "disable-button",
                    staticStyle: {
                        "margin-right": "20px"
                    },
                    on: {
                        click: function (t) {
                            e.selectExamState = "EXAMING"
                        }
                    }
                }, [e._v(" 寰呰€冨垪琛� ")]), "ONLINE" === e.examType ? s("Button", {
                    staticClass: "qm-primary-button",
                    class: "EXAM_END" != e.selectExamState && "disable-button",
                    on: {
                        click: function (t) {
                            e.selectExamState = "EXAM_END"
                        }
                    }
                }, [e._v(" 宸茬粨鏉熻€冭瘯 ")]) : e._e()], 1), "EXAMING" == e.selectExamState ? s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("璇剧▼")]), e.isEpcc ? e._e() : s("td", {
                    key: "cc"
                }, [e._v("灞傛")]), e.isEpcc ? e._e() : s("td", {
                    key: "zy"
                }, [e._v("涓撲笟")]), s("td", [e._v("鑰冭瘯杩涘叆鏃堕棿")]), s("td", [e._v("鑰冭瘯鏃堕棿鍛ㄦ湡")]), s("td", [e._v("鍓╀綑鑰冭瘯娆℃暟")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("鎿嶄綔")])]), e._l(e.courses, (function (t) {
                    return s("tr", {
                        key: t.examId + t.courseId
                    }, [s("td", [e._v(e._s(t.courseName))]), e.isEpcc ? e._e() : s("td", {
                        key: "cc"
                    }, [e._v(e._s(t.courseLevel))]), e.isEpcc ? e._e() : s("td", {
                        key: "zy"
                    }, [e._v(e._s(t.specialtyName))]), s("td", [e._v(" " + e._s(t.startTime) + " "), s("br"), e._v(" ~ "), s("br"), e._v(" " + e._s(t.endTime) + " ")]), s("td", [s("span", {
                        domProps: {
                            innerHTML: e._s(e.cycleDesc(t))
                        }
                    })]), s("td", [e._v(e._s(t.allowExamCount))]), s("td", {
                        staticStyle: {
                            "min-width": "180px"
                        }
                    }, [s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-template-columns": "repeat(auto-fit, minmax(100px, 1fr))",
                            "grid-gap": "10px"
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        attrs: {
                            disabled: e.disableTheCourse(t) || e.spinShow || e.enterButtonClicked,
                            title: e.disableTheCourse(t) ? e.disableReason(t) : ""
                        },
                        on: {
                            click: function (s) {
                                return e.raceEnter(t)
                            }
                        }
                    }, [e._v(" 杩涘叆鑰冭瘯" + e._s(e.countdown > 0 ? "(" + e.countdown + ")" : "") + " ")]), e.isEpcc ? e._e() : s("Poptip", {
                        staticClass: "online-exam-list-override-poptip",
                        attrs: {
                            trigger: t.isObjScoreView ? "hover" : "click",
                            placement: "left"
                        },
                        on: {
                            "on-popper-show": function (s) {
                                e.overFlowStyle = !0,
                                    e.cid = t.courseId
                            },
                            "on-popper-hide": function (t) {
                                e.overFlowStyle = !1,
                                    e.cid = null
                            }
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        staticStyle: {
                            width: "100%"
                        },
                        attrs: {
                            disabled: !t.isObjScoreView
                        }
                    }, [e._v(" 瀹㈣鍒� ")]), s("ecs-online-exam-result-list", {
                        attrs: {
                            slot: "content",
                            "popper-show": e.cid === t.courseId,
                            "exam-student-id": t.examStudentId
                        },
                        slot: "content"
                    })], 1)], 1)])])
                }))], 2)]) : e._e(), "ONLINE" === e.examType && "EXAM_END" === e.selectExamState ? s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("璇剧▼")]), e.isEpcc ? e._e() : s("td", {
                    key: "cc"
                }, [e._v("灞傛")]), e.isEpcc ? e._e() : s("td", {
                    key: "zy"
                }, [e._v("涓撲笟")]), s("td", [e._v("鑰冭瘯杩涘叆鏃堕棿")]), s("td", [e._v("鑰冭瘯鏃堕棿鍛ㄦ湡")]), s("td", [e._v("鍓╀綑鑰冭瘯娆℃暟")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("鎿嶄綔")])]), e._l(e.endCourses, (function (t) {
                    return s("tr", {
                        key: t.examId + t.courseId
                    }, [s("td", [e._v(e._s(t.courseName))]), e.isEpcc ? e._e() : s("td", {
                        key: "cc"
                    }, [e._v(e._s(t.courseLevel))]), e.isEpcc ? e._e() : s("td", {
                        key: "zy"
                    }, [e._v(e._s(t.specialtyName))]), s("td", [e._v(" " + e._s(t.startTime) + " "), s("br"), e._v(" ~ "), s("br"), e._v(" " + e._s(t.endTime) + " ")]), s("td", [s("span", {
                        domProps: {
                            innerHTML: e._s(e.cycleDesc(t))
                        }
                    })]), s("td", [e._v(e._s(t.allowExamCount))]), s("td", {
                        staticStyle: {
                            "min-width": "180px"
                        }
                    }, [s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-template-columns": "repeat(auto-fit, minmax(100px, 1fr))",
                            "grid-gap": "10px"
                        }
                    }, [e.isEpcc ? e._e() : s("Poptip", {
                        staticClass: "online-exam-list-override-poptip",
                        attrs: {
                            trigger: t.isObjScoreView ? "hover" : "click",
                            placement: "left"
                        },
                        on: {
                            "on-popper-show": function (s) {
                                e.overFlowStyle = !0,
                                    e.cid = t.courseId
                            },
                            "on-popper-hide": function (t) {
                                e.overFlowStyle = !1,
                                    e.cid = null
                            }
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        staticStyle: {
                            width: "100%"
                        },
                        attrs: {
                            disabled: !t.isObjScoreView
                        }
                    }, [e._v(" 瀹㈣鍒� ")]), s("ecs-online-exam-result-list", {
                        attrs: {
                            slot: "content",
                            "popper-show": e.cid === t.courseId,
                            "exam-student-id": t.examStudentId
                        },
                        slot: "content"
                    })], 1)], 1)])])
                }))], 2)]) : e._e(), e.spinShow ? s("Spin", {
                    attrs: {
                        size: "large",
                        fix: ""
                    }
                }, [e._v(e._s(e.processingMessage))]) : e._e(), s("OnlineExamFaceCheckModal", {
                    attrs: {
                        open: e.faceCheckModalOpen,
                        course: e.selectedCourse
                    }
                }), s("Modal", {
                    ref: "checkEnvModal",
                    attrs: {
                        title: "鐜妫€娴�",
                        "footer-hide": "",
                        width: "800",
                        closable: !1,
                        "mask-closable": !1
                    },
                    model: {
                        value: e.shouldShowCheckEnvModal,
                        callback: function (t) {
                            e.shouldShowCheckEnvModal = t
                        },
                        expression: "shouldShowCheckEnvModal"
                    }
                }, [e.shouldShowCheckEnvModal ? s("CheckComputer", {
                    on: {
                        "on-close": e.resumeEnterExam
                    }
                }) : e._e()], 1), s("CommittmentDialog", {
                    ref: "committmentDialogRef",
                    attrs: {
                        content: e.committmentHtmlContent
                    }
                })], 1)
            }
            , g = []
            , w = s("2f62")
            , f = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(0), e._l(e.results, (function (t, i) {
                    return s("tr", {
                        key: i
                    }, [s("td", [e._v(e._s(t.examOrder))]), s("td", [e._v(e._s(t.startTime))]), s("td", [e._v(e._s(t.endTime))]), t.isExamEnded ? t.isAuditing ? s("td", [e._v("瀹℃牳涓�")]) : t.isIllegality ? s("td", [e._v("杩濈邯")]) : s("td", [e._v(e._s(t.objectiveScore))]) : s("td", [e._v("鍒嗘暟璁＄畻涓�")])])
                })), e.loading ? s("tr", [e._v(" 鍔犺浇涓� ")]) : e._e()], 2)])])
            }
            , v = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("娆℃暟")]), s("td", [e._v("寮€濮嬫椂闂�")]), s("td", [e._v("浜ゅ嵎鏃堕棿")]), s("td", [e._v("瀹㈣鍒�")])])
            }
            ]
            , y = (s("4e82"),
            {
                name: "EcsOnlineExamResultList",
                props: {
                    examStudentId: {
                        type: Number,
                        default: 0
                    },
                    popperShow: {
                        type: Boolean,
                        default: !1
                    }
                },
                data() {
                    return {
                        loading: !0,
                        results: []
                    }
                },
                watch: {
                    async popperShow() {
                        if (this.popperShow)
                            try {
                                const e = (await this.$http.get("/api/branch_ecs_oe_admin/exam/score/queryObjectiveScoreList?examStudentId=" + this.examStudentId)).data;
                                this.results = (e || []).sort((e, t) => t.examOrder - e.examOrder).slice(0, 10),
                                    this.loading = !1
                            } catch (e) {
                                this.$Message.error({
                                    content: "鏌ヨ瀹㈣鍒嗗垪琛ㄥ嚭閿欙紒",
                                    duration: 15,
                                    closable: !0
                                })
                            }
                    }
                }
            })
            , b = y
            , x = (s("4e61"),
                Object(l["a"])(b, f, v, !1, null, "7434a322", null))
            , E = x.exports
            , S = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    attrs: {
                        width: "900",
                        "mask-closable": !1,
                        closable: !1
                    },
                    on: {
                        "on-visible-change": e.updateCameraState
                    },
                    model: {
                        value: e.faceCheckModalOpen,
                        callback: function (t) {
                            e.faceCheckModalOpen = t
                        },
                        expression: "faceCheckModalOpen"
                    }
                }, [s("div", {
                    staticStyle: {
                        display: "flex",
                        "justify-content": "space-between",
                        "align-items": "center"
                    },
                    attrs: {
                        slot: "header"
                    },
                    slot: "header"
                }, [s("div", {
                    staticClass: "qm-title-text"
                }, [e._v("浜鸿劯璇嗗埆")]), s("Icon", {
                    staticClass: "qm-icon-button",
                    attrs: {
                        type: "ios-close",
                        size: "24"
                    },
                    on: {
                        click: e.closeModal
                    }
                })], 1), s("div", {
                    staticStyle: {
                        display: "grid",
                        "grid-template-columns": "200px 400px 1fr",
                        "grid-gap": "5px",
                        position: "relative"
                    }
                }, [s("div", {
                    staticClass: "avatar",
                    style: {
                        backgroundImage: "url('" + e.userPhoto + "')"
                    }
                }, [s("div", {
                    staticClass: "avatar-info",
                    staticStyle: {
                        "text-align": "center",
                        "margin-top": "260px",
                        color: "white"
                    }
                }, [s("span", {
                    staticStyle: {
                        "background-color": "rgba(0, 0, 0, 0.5)",
                        display: "inline-block",
                        padding: "6px 16px",
                        "border-radius": "6px"
                    }
                }, [e._v(" " + e._s(e.userPhoto ? "鎴戠殑搴曠収" : "鏃犲簳鐓�") + " ")])])]), s("div", {
                    staticClass: "camera"
                }, [e.faceCheckModalOpen ? s("FaceRecognition", {
                    attrs: {
                        width: "400",
                        height: "300",
                        "show-recognize-button": !0,
                        "close-camera": e.closeCamera
                    },
                    on: {
                        "on-recognize-result": e.getFaceRecognitionResult
                    }
                }) : e._e()], 1), s("div", {
                    staticClass: "verify-desc qm-primary-text"
                }, [s("h4", {
                    staticClass: "qm-big-text",
                    staticStyle: {
                        "font-weight": "bold"
                    }
                }, [e._v("鎿嶄綔鎻愮ず锛�")]), s("p", [e._v("1.璇峰厛纭繚鎽勫儚澶磋澶囧凡杩炴帴骞惰兘姝ｅ父宸ヤ綔锛�")]), s("p", [e._v("2.璇蜂繚鎸佸厜婧愬厖瓒筹紝涓嶈閫嗗厜鎿嶄綔锛�")]), s("p", [e._v(" 3.璇蜂繚璇佽劯閮ㄦ闈㈤潰鍚戞憚鍍忓ご锛屽苟閫傚綋璋冩暣濮垮娍淇濊瘉鏁翠釜鑴搁儴鑳藉杩涘叆宸︿晶璇嗗埆鐢婚潰锛� ")]), s("p", [e._v("4.绯荤粺璇嗗埆閫氳繃鍚庯紝灏嗚嚜鍔ㄨ烦杞繘鍏ヨ€冭瘯鐣岄潰锛�")])])]), s("div", {
                    attrs: {
                        slot: "footer"
                    },
                    slot: "footer"
                })])
            }
            , C = []
            , O = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [s("video", {
                    ref: "video",
                    attrs: {
                        id: "video",
                        width: e.width,
                        height: e.height,
                        autoplay: ""
                    }
                }), e.showRecognizeButton ? s("div", {
                    staticStyle: {
                        position: "absolute",
                        width: "400px",
                        "text-align": "center",
                        "margin-top": "-50px",
                        color: "#232323"
                    }
                }, [s("button", {
                    class: ["verify-button", e.disableSnap && "disable-verify-button"],
                    attrs: {
                        disabled: e.disableSnap
                    },
                    on: {
                        click: e.snap
                    }
                }, [e._v(" " + e._s(e.msg) + " ")])]) : e._e()])
            }
            , I = []
            , k = (s("5319"),
                s("498a"),
                s("ddb0"),
                s("2b3d"),
                s("8237"))
            , T = s.n(k)
            , A = s("685a");
        const { mapState: P, mapMutations: M } = Object(w["a"])("examingHomeModule");
        var D = {
            name: "FaceRecognition",
            props: {
                width: {
                    type: String,
                    default: "400"
                },
                height: {
                    type: String,
                    default: "300"
                },
                showRecognizeButton: Boolean,
                closeCamera: Boolean
            },
            data() {
                return {
                    disableSnap: !0,
                    msg: "寮€濮嬭瘑鍒�"
                }
            },
            computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user"])), P(["snapNow"])),
            watch: {
                snapNow(e) {
                    e && (!this.lastSnapTime || Date.now() - this.lastSnapTime > 2e4 ? (this.lastSnapTime = Date.now(),
                        this.snapTimer()) : (window._hmt.push(["_trackEvent", "鎽勫儚澶存", "涓婃鐨勬姄鎷嶆湭瓒呰繃20绉掞紝鏈鎶撴媿鎸囦护鍙栨秷"]),
                            this.logger({
                                page: "鎽勫儚澶存",
                                action: "鎶撴媿鍙栨秷",
                                detail: "涓婃鐨勬姄鎷嶆湭瓒呰繃20绉掞紝鏈鎶撴媿鎸囦护鍙栨秷"
                            }),
                            this.decreaseSnapCount()),
                        this.toggleSnapNow())
                },
                closeCamera: function (e) {
                    e ? (console.log("鍏抽棴鎽勫儚澶�"),
                        window.__stream = null,
                        this.$refs.video.srcObject && (this.$refs.video.srcObject.getTracks().forEach((function (e) {
                            e.stop()
                        })),
                            this.$refs.video.srcObject = null)) : this.openCamera()
                }
            },
            async mounted() {
                window.__stream = null,
                    this.openCamera()
            },
            beforeDestroy() {
                clearTimeout(this.retrySnapTimeout),
                    clearTimeout(this.showSnapResultTimeout),
                    window.__stream = null,
                    this.$refs.video.srcObject && (this.$refs.video.srcObject.getTracks().forEach((function (e) {
                        e.stop()
                    })),
                        this.$refs.video.srcObject = null)
            },
            methods: Object(p["a"])(Object(p["a"])({}, M(["toggleSnapNow", "decreaseSnapCount"])), {}, {
                async openCamera() {
                    const e = Date.now()
                        , t = this.$refs.video;
                    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia)
                        try {
                            console.log("鍚姩鎽勫儚澶�"),
                                this.logger({
                                    action: "鍚姩鎽勫儚澶�"
                                }),
                                console.log({
                                    getSupportedConstraints: navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints()
                                }),
                                this.logger({
                                    action: "鎽勫儚澶存墦寮€",
                                    detail: "鎽勫儚澶磄etSupportedConstraints",
                                    getSupportedConstraints: navigator.mediaDevices.getSupportedConstraints && JSON.stringify(navigator.mediaDevices.getSupportedConstraints())
                                });
                            const i = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user", aspectRatio: 4 / 3, resizeMode: "crop-and-scale", width: 640, height: 480 } });
                            if (i) {
                                {
                                    const e = i.getVideoTracks()[0];
                                    e && e.getCapabilities && e.getConstraints && e.getSettings ? console.log({
                                        getCapabilities: e.getCapabilities && e.getCapabilities(),
                                        getConstraints: e.getConstraints && e.getConstraints(),
                                        getSettings: e.getSettings && e.getSettings()
                                    }) : console.log("stream.getVideoTracks()[0] failed")
                                }
                                t.srcObject = i,
                                    window.__stream = i;
                                try {
                                    try {
                                        await t.play()
                                    } catch (s) {
                                        if ("AbortError" != s.name)
                                            throw s;
                                        console.log("AbortError and retry"),
                                            await t.play(),
                                            this.logger({
                                                action: "鎽勫儚澶存病鏈夋甯稿惎鐢�: AbortError 閲嶈瘯鎴愬姛"
                                            }),
                                            window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶寸姸鎬�", "鎽勫儚澶存病鏈夋甯稿惎鐢�: AbortError 閲嶈瘯鎴愬姛"])
                                    }
                                    this.disableSnap = !1;
                                    const i = Date.now();
                                    window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶存墦寮€鑰楁椂", Number(Math.floor((i - e) / 1e3)).toPrecision(1) + "绉�"]),
                                        console.log("鎽勫儚澶存墦寮€鑰楁椂", Math.floor((i - e) / 1e3) + "绉�"),
                                        this.logger({
                                            action: "鎽勫儚澶存墦寮€鑰楁椂",
                                            cost: i - e
                                        })
                                } catch (s) {
                                    console.log("鎽勫儚澶存病鏈夋甯稿惎鐢�", s),
                                        this.logger({
                                            action: "鎽勫儚澶存病鏈夋甯稿惎鐢�",
                                            detail: s,
                                            errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t),
                                            errorName: s.name,
                                            errorMessage: s.message,
                                            errorStack: s.stack
                                        }),
                                        this.$Message.error({
                                            content: "鎽勫儚澶存病鏈夋甯稿惎鐢�: " + s,
                                            duration: 15,
                                            closable: !0
                                        }),
                                        window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶寸姸鎬�", "鎽勫儚澶存病鏈夋甯稿惎鐢�: " + s])
                                }
                            } else
                                this.logger({
                                    action: "鎽勫儚澶存墦寮€澶辫触",
                                    detail: "娌℃湁鍙敤鐨勮棰戞祦"
                                }),
                                    this.$Message.error({
                                        content: "娌℃湁鍙敤鐨勮棰戞祦",
                                        duration: 15,
                                        closable: !0
                                    }),
                                    window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶寸姸鎬�", "娌℃湁鍙敤鐨勮棰戞祦"])
                        } catch (s) {
                            let e;
                            console.log("鏃犳硶鍚敤鎽勫儚澶�", s),
                                this.logger({
                                    action: "鎽勫儚澶存墦寮€澶辫触",
                                    detail: "鏃犳硶鍚敤鎽勫儚澶�",
                                    error: s.message
                                }),
                                e = s.name || s.message ? `${s.name} ${s.message}` : s,
                                "NotReadableError" === s.name ? this.$Message.error({
                                    content: "鏃犳硶鍚敤鎽勫儚澶�: " + s.name + " 璇烽噸璇曪紒",
                                    duration: 15,
                                    closable: !0
                                }) : "NotFoundError" === s.name || "DevicesNotFoundError" === s.name ? this.$Message.error({
                                    content: "鏃犳硶鍚敤鎽勫儚澶�: " + s.name + " 娌℃湁鎵惧埌鍚堥€傜殑鎽勫儚澶达紒璇烽噸璇曟垨鏇存崲鎽勫儚澶达紒",
                                    duration: 15,
                                    closable: !0
                                }) : this.$Message.error({
                                    content: "鏃犳硶鍚敤鎽勫儚澶�: " + s.name + e,
                                    duration: 15,
                                    closable: !0
                                });
                            const t = e + ("object" === typeof e ? JSON.stringify(e, (e, t) => "token" === e ? "" : t) : "");
                            this.logger({
                                action: "鎽勫儚澶存墦寮€澶辫触",
                                detail: "鏃犳硶鍚敤鎽勫儚澶�",
                                errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t),
                                errorName: s.name,
                                errorMessage: s.message,
                                errorStack: s.stack
                            }),
                                window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶寸姸鎬�", "鏃犳硶鍚敤鎽勫儚澶�" + t])
                        }
                    else
                        this.logger({
                            action: "鎽勫儚澶存墦寮€澶辫触",
                            detail: "娌℃湁鎵惧埌鍙敤鐨勬憚鍍忓ご"
                        }),
                            this.$Message.error({
                                content: "娌℃湁鎵惧埌鍙敤鐨勬憚鍍忓ご",
                                duration: 15,
                                closable: !0
                            }),
                            window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶寸姸鎬�", "娌℃湁鎵惧埌鍙敤鐨勬憚鍍忓ご"])
                },
                async snapTimer() {
                    try {
                        this.logger({
                            action: "瀹氭椂鎶撴媿寮€濮�"
                        });
                        const e = this.$route.params.examRecordDataId
                            , t = await this.getSnapShot({ compareSync: !1 });
                        if (this.logger({
                            action: "鎶撴媿鐓х墖鐨勫ぇ灏忥細" + t.size
                        }),
                            this.videoStartPlay(),
                            console.log("鎶撴媿鐓х墖鐨勫ぇ灏忥細" + t.size),
                            t.size < 2304 || t.size >= 2097152)
                            throw window._hmt.push(["_trackEvent", "鎽勫儚澶存", "瀹氭椂鎶撴媿鐓х墖澶у皬寮傚父" + A["a"].major, t.size < 2304 ? "灏忎簬 48 *48" : "澶т簬 2 * 1024 * 1024"]),
                            this.logger({
                                action: "鎽勫儚澶村紓甯�",
                                detail: "瀹氭椂鎶撴媿鐓х墖澶у皬寮傚父",
                                error: t.size
                            }),
                            new Error("瀹氭椂鎶撴媿鐓х墖澶у皬寮傚父");
                        const s = Date.now()
                            , [i, a] = await this.uploadToServer(t)
                            , o = Date.now();
                        this.logger({
                            action: "瀹氭椂鎶撴媿涓婁紶",
                            cost: o - s
                        }),
                            await this.faceCompare(i, a, e),
                            this.logger({
                                action: "瀹氭椂鎶撴媿姣斿",
                                cost: Date.now() - o
                            }),
                            console.log("瀹氭椂鎶撴媿娴佺▼鎴愬姛", a)
                    } catch (e) {
                        console.log("瀹氭椂鎶撴媿娴佺▼澶辫触", e),
                            this.logger({
                                action: "瀹氭椂鎶撴媿娴佺▼澶辫触",
                                errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                                errorName: e.name,
                                errorMessage: e.message,
                                errorStack: e.stack
                            }),
                            window._hmt.push(["_trackEvent", "鎽勫儚澶存", "瀹氭椂鎶撴媿娴佺▼澶辫触" + e, (this.lastSnapTime ? "(闈炲垵娆℃姄鎷�)" : "") + "灏嗗啀娆℃姄鎷�"]),
                            this.retrySnapTimeout = setTimeout(() => {
                                this.logger({
                                    action: "绛旈椤甸潰",
                                    detail: "瀹氭椂鎶撴媿娴佺▼澶辫触鍚庨噸璇�"
                                }),
                                    this.toggleSnapNow()
                            }
                                , 6e4)
                    } finally {
                        this.videoStartPlay(),
                            this.decreaseSnapCount()
                    }
                },
                videoStartPlay() {
                    const e = this.$refs.video;
                    e && e.play()
                },
                async snap() {
                    this.logger({
                        page: "鍚屾浜鸿劯姣斿",
                        button: "寮€濮嬭瘑鍒寜閽�",
                        action: "鐐瑰嚮"
                    }),
                        this.$Message.destroy();
                    try {
                        this.disableSnap = !0,
                            this.msg = "鎷嶇収涓�...";
                        const e = await this.getSnapShot({ compareSync: !0 });
                        if (console.log("鎶撴媿鐓х墖澶у皬", e.size),
                            e.size < 2304 || e.size >= 2097152)
                            throw this.$Message.error({
                                content: "鎶撴媿鐓х墖澶皬锛�",
                                duration: 15,
                                closable: !0
                            }),
                            window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎶撴媿鐓х墖澶у皬寮傚父" + A["a"].major, e.size < 2304 ? "灏忎簬 48 *48" : "澶т簬 2 * 1024 * 1024"]),
                            new Error("鎶撴媿鐓х墖澶у皬寮傚父");
                        this.videoStartPlay(),
                            this.msg = "涓婁紶鐓х墖涓�...",
                            console.log(this.msg);
                        const [t, s] = await this.uploadToServer(e);
                        this.msg = "浜鸿劯姣斿涓�...",
                            console.log(this.msg),
                            await this.faceCompareSync(t, s),
                            this.logger({
                                action: "鍚屾姣斿鐓х墖璇︾粏鏃ュ織",
                                fileUrl: t,
                                signIdentifier: s
                            }),
                            console.log("浜鸿劯姣斿鎴愬姛")
                    } catch (e) {
                        throw console.log("鍚屾鐓х墖姣斿娴佺▼澶辫触"),
                        e
                    } finally {
                        this.videoStartPlay(),
                            this.msg = "寮€濮嬭瘑鍒�",
                            await new Promise(e => setTimeout(() => e(), 3e3)),
                            this.disableSnap = !1
                    }
                },
                async getSnapShot({ compareSync: e }) {
                    return new Promise((t, s) => {
                        const i = this.$refs.video;
                        if (4 !== i.readyState || !i.srcObject.active)
                            return this.$Message.error({
                                content: "鎽勫儚澶存病鏈夋甯稿惎鐢�",
                                duration: 5,
                                closable: !0
                            }),
                                window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶寸姸鎬�", "鎽勫儚澶存病鏈夋甯稿惎鐢�" + (!e && this.lastSnapTime ? "-閫€鍑�(闈炲垵娆℃姄鎷�)" : "")]),
                                s("鎽勫儚澶存病鏈夋甯稿惎鐢�"),
                                void (e || this.logout("?LogoutReason=鎽勫儚澶存病鏈夋甯稿惎鐢�" + (!e && this.lastSnapTime ? "-閫€鍑�(闈炲垵娆℃姄鎷�)" : "")));
                        i.pause();
                        var a = document.createElement("canvas");
                        a.width = 220,
                            a.height = 165;
                        var o = a.getContext("2d");
                        o.drawImage(i, 0, 0, 220, 165),
                            a.toBlob(t, "image/png", .95)
                    }
                    )
                },
                async uploadToServer(e) {
                    async function t(e) {
                        return new Promise(t => {
                            var s = new FileReader;
                            s.addEventListener("loadend", (function () {
                                t(s.result)
                            })),
                                s.readAsArrayBuffer(e)
                        }
                        )
                    }
                    let s, i;
                    try {
                        const o = await t(e)
                            , n = window.btoa(String.fromCharCode(...T.a.digest(o)));
                        n === this.__previousFileMD5Base64 && this.logger({
                            page: "鎽勫儚澶存",
                            detail: "鎶撴媿鐓х墖寮傚父",
                            error: "涓ゆfileMd5Base64涓€鏍凤紝鐤戜技鎽勫儚澶村崱浣�"
                        }),
                            this.__duplicateMD5 = window.__previousPhotoMD5 === n,
                            window.__previousPhotoMD5 = n;
                        const r = new URLSearchParams;
                        r.append("fileSuffix", "png");
                        const c = await this.$http.get("/api/ecs_oe_student/examControl/getCapturePhotoYunSign?" + r);
                        let l = new FormData;
                        for (let [e, t] of Object.entries(c.data.formParams))
                            l.append(e, t);
                        l.append("file", e);
                        try {
                            const e = await fetch(c.data.formUrl, { method: "POST", body: l });
                            if (console.log(e, {
                                "res2.headers": e.headers,
                                'res2.headers.get("Content-MD5")': e.headers.get("Content-MD5"),
                                'res2.headers.get("Content-Type")': e.headers.get("Content-Type")
                            }),
                                !e.ok)
                                throw e.status;
                            if (e.headers.get("Content-MD5") != n)
                                throw window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎶撴媿鐓х墖淇濆瓨澶辫触--alioss content-md5 mismatch"]),
                                new Error("鍥剧墖鏍￠獙澶辫触");
                            this.__previousFileMD5Base64 = n
                        } catch (a) {
                            throw this.logger({
                                page: "鎽勫儚澶存",
                                detail: "鎶撴媿鐓х墖淇濆瓨澶辫触",
                                errorJSON: JSON.stringify(a, (e, t) => "token" === e ? "" : t),
                                errorName: a.name,
                                errorMessage: a.message,
                                errorStack: a.stack
                            }),
                            window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎶撴媿鐓х墖淇濆瓨澶辫触", JSON.stringify(a, (e, t) => "token" === e ? "" : t)]),
                            a
                        }
                        s = c.data.accessUrl,
                            i = c.data.signIdentifier,
                            this.logger({
                                page: "鎽勫儚澶存",
                                detail: "鎶撴媿鐓х墖淇濆瓨鎴愬姛",
                                resultUrl: s,
                                fileMd5Base64: n
                            }),
                            window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎶撴媿鐓х墖淇濆瓨鎴愬姛"])
                    } catch (o) {
                        throw console.log(o),
                        this.logger({
                            page: "鎽勫儚澶存",
                            detail: "淇濆瓨鎶撴媿鐓х墖鍒版湇鍔″櫒澶辫触锛�",
                            errorJSON: JSON.stringify(o, (e, t) => "token" === e ? "" : t),
                            errorName: o.name,
                            errorMessage: o.message,
                            errorStack: o.stack
                        }),
                        window._hmt.push(["_trackEvent", "鎽勫儚澶存", "淇濆瓨鎶撴媿鐓х墖鍒版湇鍔″櫒澶辫触锛�"]),
                        this.$Message.error({
                            content: "鎶撴媿鐓х墖淇濆瓨澶辫触锛�",
                            duration: 15,
                            closable: !0
                        }),
                        new Error("鎶撴媿鐓х墖淇濆瓨澶辫触锛�")
                    }
                    return [s, i]
                },
                async faceCompareSync(e, t) {
                    try {
                        this.logger({
                            page: "鎽勫儚澶存",
                            action: "鍚屾姣斿寮€濮�"
                        });
                        const s = await this.$http.post("/api/ecs_oe_student_face/examCaptureQueue/compareFaceSync?signIdentifier=" + t + "&fileUrl=" + encodeURIComponent(e));
                        this.logger({
                            page: "鎽勫儚澶存",
                            action: "鍚屾姣斿鎴愬姛"
                        }),
                            this.$emit("on-recognize-result", {
                                error: null,
                                pass: s.data.isPass,
                                stranger: s.data.isStranger
                            })
                    } catch (s) {
                        throw console.log(s),
                        this.logger({
                            page: "鎽勫儚澶存",
                            action: "鍚屾姣斿澶辫触",
                            errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t),
                            errorName: s.name,
                            errorMessage: s.message,
                            errorStack: s.stack
                        }),
                        new Error("鍚屾鐓х墖姣旇緝澶辫触锛�")
                    }
                },
                async faceCompare(e, t, s) {
                    try {
                        let o, n = !1;
                        if ("undefined" != typeof nodeRequire)
                            try {
                                var i = window.nodeRequire("fs");
                                i.existsSync("multiCamera.exe") && await new Promise((e, t) => { window.nodeRequire("node-cmd").get("multiCamera.exe", () => { try { if (o = i.readFileSync("CameraInfo.txt", "utf-8"), o && o.trim() && (o = o.trim(), o = o.replace(/\r\n/g, ""), o = o.replace(/\n/g, ""), console.log(o), this.logger({ page: "鎽勫儚澶存", cameraInfos: o })), o.includes('""') && (n = !0), o.includes("cameraInfo") && (o = JSON.stringify(JSON.parse(o).cameraInfo)), o.length >= 800) { this.logger({ page: "鎽勫儚澶存", type: "铏氭嫙鎽勫儚澶�-cameraInfos瓒呴暱", cameraInfos: o }); let e = JSON.parse(o); const t = []; e = e.filter(e => { const s = e.pid + "|" + e.vid, i = t.includes(s); return t.push(s), !i }), o = JSON.stringify(e), console.log("鎽勫儚澶存娴嬭秴闀匡細", "鍘婚櫎閲嶅pid&vid"), console.log(o), o.length >= 800 && (o = JSON.stringify(JSON.parse(o).map(e => ({ pid: e.pid, vid: e.pid, detail: "omitted", name: e.name }))), console.log("鎽勫儚澶存娴嬭秴闀匡細", "鍘婚櫎detail"), console.log(o)), o.length >= 800 && (console.log("鎽勫儚澶存娴嬭秴闀匡細", "绮剧畝鍚庤繕鏄秴闀�"), this.logger({ page: "鎽勫儚澶存", type: "铏氭嫙鎽勫儚澶�-绮剧畝鍚庤繕鏄秴闀�", cameraInfos: o }), console.log(o)) } e() } catch (s) { this.logger({ page: "鎽勫儚澶存", type: "铏氭嫙鎽勫儚澶�-璇诲彇鎽勫儚澶村垪琛ㄥけ璐�", errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t), errorName: s.name, errorMessage: s.message, errorStack: s.stack }), window._hmt.push(["_trackEvent", "鎽勫儚澶存", "铏氭嫙鎽勫儚澶�-璇诲彇鎽勫儚澶村垪琛ㄥけ璐�"]), t("璇诲彇鎽勫儚澶村垪琛ㄥけ璐�") } }) })
                            } catch (a) {
                                console.log(a)
                            }
                        let r = {
                            fileUrl: e,
                            signIdentifier: t,
                            examRecordDataId: s
                        };
                        o && (r.cameraInfos = o,
                            r.hasVirtualCamera = n,
                            this.logger({
                                action: "鎶撴媿鐓х墖璇︾粏鏃ュ織",
                                fileUrl: e,
                                signIdentifier: t,
                                examRecordDataId: s,
                                cameraInfos: o,
                                hasVirtualCamera: n,
                                duplicateMD5: this.__duplicateMD5
                            }));
                        const c = await this.$http.post("/api/ecs_oe_student_face/examCaptureQueue/uploadExamCapture", r)
                            , l = c.data;
                        try {
                            await this.showSnapResult(l, s)
                        } catch (a) {
                            this.logger({
                                page: "鎽勫儚澶存",
                                action: "璁剧疆鑾峰彇鎶撴媿缁撴灉澶辫触锛�",
                                errorJSON: JSON.stringify(a, (e, t) => "token" === e ? "" : t),
                                errorName: a.name,
                                errorMessage: a.message,
                                errorStack: a.stack
                            }),
                                this.$Message.error({
                                    content: "璁剧疆鑾峰彇鎶撴媿缁撴灉澶辫触锛�",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    } catch (o) {
                        throw console.log(o),
                        this.logger({
                            page: "鎽勫儚澶存",
                            action: "faceCompare澶辫触",
                            error: o.response ? o.response.data.desc : o
                        }),
                        window._hmt.push(["_trackEvent", "鎽勫儚澶存", "faceCompare澶辫触", o.response ? o.response.data.desc : o]),
                        new Error("寮傛姣旇緝鎶撴媿鐓х墖澶辫触")
                    }
                },
                async showSnapResult(e, t) {
                    if (e && "OnlineExamingHome" === this.$route.name)
                        try {
                            const s = (await this.$http.get("/api/ecs_oe_student_face/examCaptureQueue/getExamCaptureResult?fileName=" + e + "&examRecordDataId=" + t)).data || {};
                            s.isCompleted ? s.isStranger ? this.$Message.error({
                                content: "璇风嫭绔嬪畬鎴愯€冭瘯",
                                duration: 5,
                                closable: !0
                            }) : s.isPass || this.$Message.error({
                                content: "璇疯皟鏁村潗濮匡紝璇氫俊鑰冭瘯",
                                duration: 5,
                                closable: !0
                            }) : this.showSnapResultTimeout = setTimeout(this.showSnapResult.bind(this, e, t), 3e4)
                        } catch (s) {
                            if (console.log(s),
                                "OnlineExamingHome" !== this.$route.name)
                                return;
                            throw this.$Message.error(s.message),
                            s.message
                        }
                },
                async nativeFaceDetectorStats() {
                    if (window.FaceDetector)
                        try {
                            var e = document.createElement("canvas");
                            e.width = 220,
                                e.height = 165;
                            var t = e.getContext("2d");
                            t.drawImage(this.$refs.video, 0, 0, 220, 165);
                            var s = new window.FaceDetector;
                            const i = await s.detect(e);
                            console.log("nativeFaceDetector", i),
                                window._hmt.push(["_trackEvent", "鎽勫儚澶存", "native FaceDetector", "鎴愬姛"])
                        } catch (i) {
                            console.log(i),
                                window._hmt.push(["_trackEvent", "鎽勫儚澶存", "native FaceDetector", "澶辫触"])
                        }
                    else
                        window._hmt.push(["_trackEvent", "鎽勫儚澶存", "native FaceDetector", "娌℃湁鑳藉姏"])
                }
            })
        }
            , R = D
            , L = (s("a156"),
                Object(l["a"])(R, O, I, !1, null, "140e61fb", null))
            , q = L.exports;
        const { mapState: j, mapMutations: N } = Object(w["a"])("examHomeModule");
        var B = {
            name: "OnlineExamFaceCheckModal",
            components: {
                FaceRecognition: q
            },
            props: {
                open: {
                    type: Boolean,
                    default: !1
                },
                course: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    userPhoto: this.$store.state.user.photoPath,
                    closeCamera: !1
                }
            },
            computed: Object(p["a"])({}, j(["faceCheckModalOpen"])),
            methods: Object(p["a"])(Object(p["a"])({}, N(["toggleFaceCheckModal"])), {}, {
                closeModal() {
                    this.logger({
                        page: "OnlineExamFaceCheckModal",
                        button: "鍏抽棴鎸夐挳",
                        action: "鐐瑰嚮"
                    }),
                        this.closeCamera = !0,
                        this.toggleFaceCheckModal(!1)
                },
                updateCameraState(e) {
                    this.closeCamera = !e
                },
                getFaceRecognitionResult({ error: e, faceCount: t, pass: s }) {
                    return e ? (console.log("getFaceRecognitionResult", e, t, s),
                        this.logger({
                            action: "杩涘叆鑰冭瘯",
                            detail: "姣斿澶辫触",
                            error: e,
                            faceCount: t,
                            pass: s
                        }),
                        void this.$Message.error(e)) : s ? (this.$Message.success({
                            content: "浜鸿劯姣斿鎴愬姛",
                            duration: 5,
                            closable: !0
                        }),
                            window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "浜鸿劯姣斿妗�", "姣斿鎴愬姛"]),
                            window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "杩涘叆鑰冭瘯", "浜鸿劯妫€娴嬫垚鍔�"]),
                            this.toggleFaceCheckModal(!1),
                            this.logger({
                                action: "杩涘叆鑰冭瘯",
                                detail: "浜鸿劯妫€娴嬫垚鍔�"
                            }),
                            void this.$router.push(`/online-exam/exam/${this.course.examId}/overview?examStudentId=${this.course.examStudentId}`)) : (this.$Message.error({
                                content: "浜鸿劯姣斿澶辫触",
                                duration: 15,
                                closable: !0
                            }),
                                window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "浜鸿劯姣斿妗�", "姣斿澶辫触"]),
                                void (this.course.faceCheck || (this.toggleFaceCheckModal(!1),
                                    this.$Modal.confirm({
                                        title: "閮戦噸鎵胯",
                                        content: "鎴戞壙璇虹敱鏈汉鍙傚姞鑰冭瘯锛屽苟涓斿悓鎰忔帴鍙楄€冭瘯鐩戞帶绯荤粺淇℃伅瀹℃牳锛屼竴缁忓彂鐜颁綔寮婏紝绔嬪嵆鍙栨秷鏈棬璇剧▼鑰冭瘯鎴愮哗銆�",
                                        onOk: () => {
                                            this.logger({
                                                action: "杩涘叆鑰冭瘯",
                                                detail: "鎵胯鍚屾剰"
                                            }),
                                                this.$router.push(`/online-exam/exam/${this.course.examId}/overview?examStudentId=${this.course.examStudentId}`)
                                        }
                                    }))))
                }
            })
        }
            , $ = B
            , F = (s("c47a"),
                Object(l["a"])($, S, C, !1, null, "64f90cc9", null))
            , U = F.exports
            , Q = s("c1df")
            , W = s.n(Q)
            , V = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticStyle: {
                        "max-width": "800px",
                        margin: "30px auto"
                    }
                }, [s("Steps", {
                    attrs: {
                        current: e.current,
                        size: "small"
                    }
                }, [s("Step", {
                    attrs: {
                        title: "缃戦€�"
                    }
                }), s("Step", {
                    attrs: {
                        title: "鏃堕挓"
                    }
                }), s("Step", {
                    attrs: {
                        title: "鎽勫儚澶�"
                    }
                }), s("Step", {
                    attrs: {
                        title: "澹伴煶"
                    }
                }), s("Step", {
                    attrs: {
                        title: "寰俊灏忕▼搴�"
                    }
                }), s("Step", {
                    attrs: {
                        title: "妫€娴嬬粨鏋�"
                    }
                })], 1), 0 === e.current ? s("div", {
                    key: "0",
                    staticClass: "section"
                }, [s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(0), s("tr", [s("td", [e._v("鐢佃剳褰撳墠涓嬭浇閫熷害")]), s("td", [e._v(e._s(e.network.downlink) + "Mb")]), s("td", [e.network.downlinkStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "涓嬭浇閫熷害涓嶄匠",
                        type: "md-close"
                    }
                })], 1)])]), s("tr", [s("td", [e._v("鐢佃剳褰撳墠缃戠粶寤惰繜")]), s("td", [e._v(e._s(e.network.rrt) + "姣")]), s("td", [e.network.rrtStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "缃戠粶寤惰繜杈冨ぇ",
                        type: "md-close"
                    }
                })], 1)])])])])])]) : e._e(), 1 === e.current ? s("div", {
                    key: "1",
                    staticClass: "section"
                }, [s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(1), s("tr", [s("td", [e._v("鐢佃剳鏃跺尯")]), s("td", [e._v(e._s(e.time.currentTimeZone))]), s("td", [e.time.timeZoneStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "璇峰皢鐢佃剳璁剧疆涓哄寳浜椂鍖�",
                        type: "md-close"
                    }
                })], 1)])]), s("tr", [s("td", [e._v("鐢佃剳鏃堕挓棰戠巼")]), s("td", [e.time.clockRateStateResolved ? s("div", [e._v(" " + e._s(e.time.clockRateDiff > 3 ? "鏃堕挓杩囨參" : "姝ｅ父") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.time.clockRateStateResolved ? s("div", [e.time.clockRateStatus ? s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                }) : s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "璇锋洿鎹㈢數鑴�",
                        type: "md-close"
                    }
                })], 1) : s("div", [s("PulseLoader")], 1)])])])])])]) : e._e(), s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: 2 === e.current,
                        expression: "current === 2"
                    }],
                    key: "2",
                    staticClass: "section"
                }, [s("div", [s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("video", {
                    ref: "video",
                    attrs: {
                        id: "video",
                        width: "400",
                        height: "300",
                        autoplay: ""
                    }
                }), e.camera.openCameraResolved && e.camera.openCameraStatus ? s("div", {
                    staticStyle: {
                        "margin-left": "50px",
                        "margin-top": "100px"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "warning"
                    },
                    on: {
                        click: function (t) {
                            e.camera.identityResolved = !0,
                                e.camera.identityStatus = !1
                        }
                    }
                }, [e._v(" 鍥惧儚涓笉鏄數鑴戞搷浣滆€呮湰浜� ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "30px"
                    }
                }), s("Button", {
                    attrs: {
                        type: "primary"
                    },
                    on: {
                        click: function (t) {
                            e.camera.identityResolved = !0,
                                e.camera.identityStatus = !0
                        }
                    }
                }, [e._v(" 鍥惧儚涓槸鐢佃剳鎿嶄綔鑰呮湰浜� ")])], 1) : e._e()])]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(2), s("tr", [s("td", [e._v("鎽勫儚澶存甯稿惎鐢�")]), s("td", [e.camera.openCameraResolved ? s("div", [e._v(" " + e._s(e.camera.openCameraStatus ? "姝ｅ父" : "璇锋鏌ユ憚鍍忓ご") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.camera.openCameraResolved ? s("div", [e.camera.openCameraStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "璇锋鏌ユ憚鍍忓ご",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])]), s("tr", [s("td", [e._v("瑙嗛鏄剧ず鐨勬槸鐢佃剳鎿嶄綔鑰呮湰浜�")]), s("td", [e.camera.openCameraResolved && !e.camera.openCameraStatus || e.camera.identityResolved ? s("div", [e._v(" " + e._s(e.camera.identityStatus ? "姝ｅ父" : "璇锋鏌ユ憚鍍忓ご") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.camera.openCameraResolved && !e.camera.openCameraStatus || e.camera.identityResolved ? s("div", [e.camera.identityStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "璇锋鏌ユ憚鍍忓ご",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])])])])])]), s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: 3 === e.current,
                        expression: "current === 3"
                    }],
                    key: "3",
                    staticClass: "section",
                    staticStyle: {
                        "text-align": "center"
                    }
                }, [s("div", [s("div", {
                    staticStyle: {
                        display: "flex",
                        "margin-bottom": "30px"
                    }
                }, [s("audio", {
                    attrs: {
                        src: "https://ecs-static.qmth.com.cn/check-audio.mp3",
                        controls: "",
                        nodownload: ""
                    },
                    on: {
                        loadeddata: function (t) {
                            e.sound.downloadResolved = !0,
                                e.sound.downloadStatus = !0
                        },
                        error: function (t) {
                            e.sound.downloadResolved = !0,
                                e.sound.downloadStatus = !1
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "margin-left": "30px",
                        display: "flex"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "warning",
                        title: "鎴栬€呭惉涓嶅埌澹伴煶"
                    },
                    on: {
                        click: function (t) {
                            e.sound.playedStatusResolved = !0,
                                e.sound.playedStatus = !1
                        }
                    }
                }, [e._v(" 涓嶈兘鎾斁澹伴煶 ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "30px"
                    }
                }), s("Button", {
                    attrs: {
                        type: "primary"
                    },
                    on: {
                        click: function (t) {
                            e.sound.playedStatusResolved = !0,
                                e.sound.playedStatus = !0
                        }
                    }
                }, [e._v(" 鑳藉鎾斁澹伴煶 ")])], 1)])]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(3), s("tr", [s("td", [e._v("鏂囦欢涓嬭浇")]), s("td", [e.sound.downloadResolved ? s("div", [e._v(" " + e._s(e.sound.downloadStatus ? "姝ｅ父" : "鍑洪敊") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.sound.downloadResolved ? s("div", [e.sound.downloadStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "涓嬭浇鍑洪敊",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])]), s("tr", [s("td", [e._v("澹伴煶鎾斁")]), s("td", [e.sound.playedStatusResolved ? s("div", [e._v(" " + e._s(e.sound.playedStatus ? "姝ｅ父" : "鍑洪敊") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.sound.playedStatusResolved ? s("div", [e.sound.playedStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "涓嶈兘鎾斁澹伴煶",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])])])])])]), s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: 4 === e.current,
                        expression: "current === 4"
                    }],
                    key: "4",
                    staticClass: "section"
                }, [s("div", [s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("div", [e.wechat.qrValue ? s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("qrcode", {
                    staticStyle: {
                        "margin-left": "-10px"
                    },
                    attrs: {
                        value: e.wechat.qrValue,
                        options: {
                            width: 200
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "margin-top": "10px"
                    }
                }, [e._m(4), e.wechat.qrScanned ? s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        "font-size": "30px"
                    }
                }, [e._v(" " + e._s(e.wechat.studentAnswer ? "宸蹭笂浼�" : "宸叉壂鎻�") + " "), s("Icon", {
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : e._e()])], 1) : s("div", [e._v("姝ｅ湪鑾峰彇浜岀淮鐮�...")])])]), s("div", {
                    staticClass: "audio-answer audio-answer-line-height",
                    staticStyle: {
                        "margin-top": "20px",
                        "text-align": "left"
                    }
                }, [s("span", {
                    staticClass: "audio-answer-line-height"
                }, [e._v("涓婁紶鏂囦欢锛�")]), e.wechat.studentAnswer ? s("audio", {
                    staticClass: "audio-answer-line-height",
                    attrs: {
                        controls: "",
                        controlsList: "nodownload",
                        src: e.wechat.studentAnswer
                    }
                }) : s("span", {
                    staticClass: "audio-answer-line-height"
                }, [e._v("鏈笂浼犳枃浠�")])]), s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        display: "flex",
                        "margin-bottom": "30px"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "warning",
                        title: "鎵爜涓嶆垚鍔�"
                    },
                    on: {
                        click: function (t) {
                            e.wechat.qrScannedResolved = !0,
                                e.wechat.qrScanned = !1
                        }
                    }
                }, [e._v(" 涓嶈兘姝ｇ‘鎵弿浜岀淮鐮� ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "30px"
                    }
                }), s("Button", {
                    attrs: {
                        type: "warning",
                        title: "涓婁紶涓嶆垚鍔�"
                    },
                    on: {
                        click: function (t) {
                            e.wechat.uploadResolved = !0,
                                e.wechat.uploadStatus = !1
                        }
                    }
                }, [e._v(" 涓婁紶涓嶆垚鍔� ")])], 1)]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(5), s("tr", [s("td", [e._v("鎵弿浜岀淮鐮�")]), s("td", [e.wechat.qrScannedResolved ? s("div", [e._v(" " + e._s(e.wechat.qrScanned ? "姝ｅ父" : "鍑洪敊") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.wechat.qrScannedResolved ? s("div", [e.wechat.qrScanned ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "鎵弿鍑洪敊",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])]), s("tr", [s("td", [e._v("涓婁紶褰曢煶")]), s("td", [e.wechat.uploadResolved ? s("div", [e._v(" " + e._s(e.wechat.uploadStatus ? "姝ｅ父" : "鍑洪敊") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.wechat.uploadResolved ? s("div", [e.wechat.uploadStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])])])])])]), s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: 5 === e.current,
                        expression: "current === 5"
                    }],
                    key: "5",
                    staticClass: "section"
                }, [s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(6), s("tr", [s("td", [e._v("缃戦€�")]), s("td", [e.step1Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)])]), s("tr", [s("td", [e._v("鏃堕挓")]), s("td", [e.step2StatusResolved ? s("div", [e.step2Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])]), s("tr", [s("td", [e._v("鎽勫儚澶�")]), s("td", [e.step3StatusResolved ? s("div", [e.step3Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", {
                    staticClass: "fail-cross"
                }, [e._v(" 璇峰湪鈥滄憚鍍忓ご鈥濇楠よ繘琛屼汉宸ョ‘璁わ紒 ")])])]), s("tr", [s("td", [e._v("澹伴煶")]), s("td", [e.step4StatusResolved ? s("div", [e.step4Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", {
                    staticClass: "fail-cross"
                }, [e._v(" 璇峰湪鈥滃０闊斥€濇楠よ繘琛屼汉宸ョ‘璁わ紒 ")])])]), s("tr", [s("td", [e._v("寰俊灏忕▼搴�")]), s("td", [e.step5StatusResolved ? s("div", [e.step5Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", {
                    staticClass: "fail-cross"
                }, [e._v(" 璇峰湪鈥滃井淇″皬绋嬪簭鈥濇楠よ繘琛屼汉宸ョ‘璁わ紒 ")])])])])])]), s("div", {
                    staticStyle: {
                        color: "red"
                    }
                }, [e.step1Status ? e._e() : s("div", {
                    key: "a"
                }, [e._v(" 妫€鏌ョ綉缁滄槸鍚﹁繛鎺ワ紝璺敱鍣ㄦ槸鍚︽甯稿伐浣溿€� ")]), e.step2StatusResolved && !e.step2Status ? s("div", {
                    key: "b"
                }, [e._v(" 璇疯皟鏁寸數鑴戞椂闂村拰绀惧尯涓庡寳浜椂闂翠竴鑷淬€� ")]) : e._e(), e.step3StatusResolved && !e.step3Status ? s("div", {
                    key: "c"
                }, [e._v(" 璇风‘璁ゆ憚鍍忓ご杩炴帴绾挎甯革紝鑳芥甯稿伐浣滐紝鍏抽棴鏉€姣掕蒋浠躲€佸叧闂憚鍍忓ご婊ら暅杞欢锛涜纭鎮ㄧ殑鐢佃剳鏄惁涓哄弻鎽勬憚鍍忓ご锛屽惎鐢ㄧ殑鎽勫儚澶存槸鍚︽纭€� ")]) : e._e(), e.step4StatusResolved && !e.step4Status ? s("div", {
                    key: "d"
                }, [e._v(" 璇风‘璁ら煶绠辫繛鎺ユ甯革紝璋冩暣闊抽噺寮€鍏冲強澶у皬銆� ")]) : e._e(), e.step5StatusResolved && !e.step5Status ? s("div", {
                    key: "e"
                }, [e._v(" 璇风‘璁ゅ井淇″凡鐧诲綍骞惰繛鎺ョ綉缁溿€� ")]) : e._e(), !e.step1Status || e.step2StatusResolved && !e.step2Status || e.step3StatusResolved && !e.step3Status || e.step4StatusResolved && !e.step4Status || e.step5StatusResolved && !e.step5Status ? s("div", {
                    key: "f"
                }, [e._v(" 璇锋寜鎻愮ず妫€鏌ュ苟璋冭瘯锛岃皟璇曞悗鍙啀娆¤繘琛岀幆澧冩娴嬨€� ")]) : e._e()])]), s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        "text-align": "center"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "primary",
                        disabled: 0 === e.current
                    },
                    on: {
                        click: e.previous
                    }
                }, [e._v(" 涓婁竴姝� ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "1px",
                        display: "inline-block"
                    }
                }), s("Button", {
                    attrs: {
                        type: "primary",
                        disabled: 5 === e.current
                    },
                    on: {
                        click: e.next
                    }
                }, [e._v(" 涓嬩竴姝� ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "1px",
                        display: "inline-block"
                    }
                }), 5 === e.current ? s("Button", {
                    key: "xxx",
                    attrs: {
                        type: "primary"
                    },
                    on: {
                        click: function () {
                            return e.$emit("on-close")
                        }
                    }
                }, [e._v(" 杩涘叆鑰冭瘯 ")]) : e._e()], 1)], 1)
            }
            , H = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", {
                    staticClass: "first-td"
                }, [e._v("妫€鏌ラ」")]), s("td", [e._v("鍊�")]), s("td", [e._v("鐘舵€�")])])
            }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("妫€鏌ラ」")]), s("td", [e._v("鍊�")]), s("td", [e._v("鐘舵€�")])])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("妫€鏌ラ」")]), s("td", [e._v("鍊�")]), s("td", [e._v("鐘舵€�")])])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("妫€鏌ラ」")]), s("td", [e._v("鍊�")]), s("td", [e._v("鐘舵€�")])])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("div", {
                        staticStyle: {
                            "font-size": "30px"
                        }
                    }, [e._v(" 璇蜂娇鐢�"), s("span", {
                        staticStyle: {
                            "font-weight": "900",
                            color: "#1e90ff"
                        }
                    }, [e._v("寰俊")]), e._v("鎵弿浜岀淮鐮佸悗锛屽湪寰俊灏忕▼搴忎笂褰曢煶锛屽苟涓婁紶鏂囦欢銆� ")])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("妫€鏌ラ」")]), s("td", [e._v("鍊�")]), s("td", [e._v("鐘舵€�")])])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("妫€鏌ラ」")]), s("td", [e._v("缁撴灉")])])
                }
            ]
            , z = s("b2e5")
            , K = s.n(z)
            , G = s("8a5d")
            , J = s("117e")
            , X = s("c0d6")
            , Y = s("e6fd")
            , Z = s("823b");
        let ee, te = !0, se = [];
        const ie = 6e3
            , ae = 5e4;
        let oe = 0
            , ne = !1;
        function re({ examRecordDataId: e }) {
            if (window._hmt.push(["_trackEvent", "websocket", "鍑嗗杩炴帴"]),
                console.log("in openWS", e),
                Object(Z["b"])({
                    type: "寰俊灏忕▼搴弚ebsocket",
                    action: "鍑嗗杩炴帴",
                    examRecordDataId: e
                }),
                !ee || 0 !== ee.readyState && 1 !== ee.readyState) {
                if (ee && 3 !== ee.readyState) {
                    Object(Z["b"])({
                        type: "寰俊灏忕▼搴弚ebsocket",
                        action: "鍑嗗杩炴帴-鏃ebsocket鐘舵€佷笉鏄叧闂�",
                        readyState: ee.readyState,
                        examRecordDataId: e
                    });
                    try {
                        ee.close()
                    } catch (t) {
                        Object(Z["b"])({
                            type: "寰俊灏忕▼搴弚ebsocket",
                            action: "鍏抽棴ws寮傚父銆�",
                            dtl: "鍐嶆鍏抽棴",
                            detail: t
                        })
                    }
                }
                try {
                    ee = new WebSocket(Y["m"] + `?key=${X["a"].state.user.key}&token=${X["a"].state.user.token}`)
                } catch (s) {
                    console.log(s),
                        J["a"].error({
                            content: "Websocket鍒濆鍖栧け璐�",
                            duration: 5,
                            closable: !0
                        }),
                        console.log("WS init failed", e),
                        Object(Z["b"])({
                            type: "寰俊灏忕▼搴弚ebsocket",
                            action: "Websocket鍒濆鍖栧け璐�",
                            examRecordDataId: e
                        })
                }
                ne = !0,
                    ee.onopen = t => {
                        console.log("open ws", t),
                            Object(Z["b"])({
                                type: "寰俊灏忕▼搴弚ebsocket",
                                action: "杩炴帴鎴愬姛"
                            }),
                            oe = 0,
                            ee.onmessage = de,
                            ee.onclose = t => {
                                console.log("ws closed by server"),
                                    Object(Z["b"])({
                                        type: "寰俊灏忕▼搴弚ebsocket",
                                        action: "ws closed by server",
                                        detail: JSON.stringify(t),
                                        stayAlive: ne
                                    });
                                for (const e of se)
                                    clearInterval(e);
                                se = [],
                                    te ? (console.log("close -> reconnect"),
                                        setTimeout(() => {
                                            oe++,
                                                oe >= 5 && (oe = 0,
                                                    location.href.includes("/order/") ? J["a"].error({
                                                        content: "Websocket閲嶈繛澶辫触",
                                                        duration: 5,
                                                        closable: !0
                                                    }) : te = !1),
                                                window._hmt.push(["_trackEvent", "websocket", "杩炴帴琚叧闂悗-鍑嗗杩炴帴"]),
                                                Object(Z["b"])({
                                                    type: "寰俊灏忕▼搴弚ebsocket",
                                                    action: "杩炴帴琚叧闂悗-鍑嗗杩炴帴",
                                                    detail: "onclose"
                                                }),
                                                re({
                                                    examRecordDataId: e
                                                })
                                        }
                                            , ie)) : te = !0,
                                    ne && (Object(Z["b"])({
                                        type: "寰俊灏忕▼搴弚ebsocket",
                                        action: "杩炴帴琚叧闂悗-瀹㈡埛绔笉鍏佽鍏抽棴-鍑嗗杩炴帴",
                                        detail: "onclose"
                                    }),
                                        setTimeout(() => re({
                                            examRecordDataId: e
                                        }), 5e3))
                            }
                            ,
                            ce()
                    }
                    ,
                    ee.onerror = t => {
                        Object(Z["b"])({
                            type: "寰俊灏忕▼搴弚ebsocket",
                            action: "onerror",
                            error: JSON.stringify(t)
                        }),
                            setTimeout(() => {
                                oe++,
                                    oe >= 5 && (oe = 0,
                                        location.href.includes("/order/") ? (J["a"].error({
                                            content: "Websocket閲嶈繛澶辫触",
                                            duration: 5,
                                            closable: !0
                                        }),
                                            Object(Z["b"])({
                                                type: "寰俊灏忕▼搴弚ebsocket",
                                                action: "Websocket閲嶈繛澶辫触",
                                                detail: "onerror"
                                            })) : te = !1),
                                    location.href.includes("/order/") ? (window._hmt.push(["_trackEvent", "websocket", "杩炴帴閿欒鍚�-閲嶆柊杩炴帴"]),
                                        Object(Z["b"])({
                                            type: "寰俊灏忕▼搴弚ebsocket",
                                            action: "杩炴帴琚叧闂悗-鍑嗗杩炴帴",
                                            detail: "onerror"
                                        }),
                                        re({
                                            examRecordDataId: e
                                        })) : window._hmt.push(["_trackEvent", "websocket", "杩炴帴閿欒鍚�-涓嶅湪绛旈椤甸潰-閲嶆柊杩炴帴"])
                            }
                                , ie)
                    }
            } else
                Object(Z["b"])({
                    type: "寰俊灏忕▼搴弚ebsocket",
                    action: "鍑嗗杩炴帴-鏃ebsocket鐘舵€佸凡缁忔槸寮€鍚垨姝ｅ湪杩炴帴鐘舵€�",
                    readyState: ee.readyState,
                    examRecordDataId: e
                })
        }
        function ce() {
            const e = setInterval(() => {
                ee.send(JSON.stringify({
                    eventType: "HEARTBEAT"
                }))
            }
                , ae);
            se.push(e)
        }
        function le() {
            Object(Z["b"])({
                type: "寰俊灏忕▼搴弚ebsocket",
                action: "瀹㈡埛绔噯澶囧叧闂瓀s銆�"
            }),
                te = !1,
                ne = !1;
            try {
                ee && 1 === ee.readyState && ee.close()
            } catch (e) {
                console.log("鍏抽棴ws寮傚父銆�"),
                    Object(Z["b"])({
                        type: "寰俊灏忕▼搴弚ebsocket",
                        action: "鍏抽棴ws寮傚父銆�",
                        detail: e
                    })
            }
        }
        function de(e) {
            let t;
            try {
                t = JSON.parse(e.data).content
            } catch (s) {
                return void window._hmt.push(["_trackEvent", "websocket", "JSON.parse鍑洪敊" + s])
            }
            if (t)
                if (!t.eventType || "HEARTBEAT" === t.eventType || t.isSuccess)
                    switch (t.eventType) {
                        case "HEARTBEAT":
                            break;
                        case "SCAN_QR_CODE":
                            console.log("wx scanned qrcode", t),
                                window._hmt.push(["_trackEvent", "websocket", "浜岀淮鐮佽鎵弿"]),
                                X["a"].commit("examingHomeModule/setQuestionQrCodeScanned", {
                                    order: t.data.order
                                });
                            break;
                        case "GET_FILE_ANSWER":
                            console.log("get file url", t),
                                window._hmt.push(["_trackEvent", "websocket", "鑾峰緱闊抽鍦板潃"]),
                                X["a"].commit("examingHomeModule/setQuestionFileAnswerUrl", {
                                    order: t.data.order,
                                    fileUrl: t.data.fileUrl,
                                    transferFileType: t.data.transferFileType
                                });
                            break;
                        case "SYSTEM_ERROR":
                            console.log("ws get error", t);
                            break
                    }
                else
                    J["a"].error({
                        content: t.errorMessage,
                        duration: 10,
                        closable: !0
                    });
            else
                console.log("ws message format error", e)
        }
        const { mapState: ue } = Object(w["a"])("examingHomeModule")
            , he = 10;
        var me = {
            name: "CheckComputer",
            components: {
                qrcode: K.a,
                PulseLoader: G["a"]
            },
            data() {
                return {
                    current: 0,
                    network: {
                        downlink: navigator.connection.downlink,
                        downlinkStatus: navigator.connection.downlink > .5,
                        rrt: navigator.connection.rtt,
                        rrtStatus: navigator.connection.rtt < 1e3
                    },
                    time: {
                        currentTimeZone: W()().format("Z"),
                        timeZoneStatus: (new Date).getTimezoneOffset() / 60 === -8,
                        clockRateDiff: null,
                        clockRateStateResolved: !1,
                        clockRateStatus: !1
                    },
                    camera: {
                        openCameraResolved: !1,
                        openCameraStatus: !1,
                        identityStatus: !1,
                        identityResolved: !1
                    },
                    sound: {
                        downloadResolved: !1,
                        downloadStatus: !1,
                        playedStatusResolved: !1,
                        playedStatus: !1
                    },
                    wechat: {
                        qrValue: " ",
                        qrScannedResolved: !1,
                        qrScanned: !1,
                        uploadResolved: !1,
                        uploadStatus: !1,
                        studentAnswer: null,
                        examRecordDataId: null
                    }
                }
            },
            computed: Object(p["a"])(Object(p["a"])({}, ue(["questionQrCode", "questionQrCodeScanned", "questionAnswerFileUrl"])), {}, {
                timeCurrent() {
                    return W()(this.nowDate).utcOffset("+08:00").format("YYYY-MM-DD HH:mm:ssZZ")
                },
                step1Status() {
                    return this.network.downlinkStatus && this.network.rrtStatus
                },
                step2StatusResolved() {
                    return this.time.clockRateStateResolved
                },
                step2Status() {
                    return this.time.timeZoneStatus && this.time.clockRateStatus
                },
                step3StatusResolved() {
                    return this.camera.identityResolved && this.camera.openCameraResolved
                },
                step3Status() {
                    return this.camera.identityStatus && this.camera.openCameraStatus
                },
                step4StatusResolved() {
                    return this.sound.downloadResolved && this.sound.playedStatusResolved
                },
                step4Status() {
                    return this.sound.downloadStatus && this.sound.playedStatus
                },
                step5StatusResolved() {
                    return this.wechat.qrScannedResolved && this.wechat.uploadResolved
                },
                step5Status() {
                    return this.wechat.qrScanned && this.wechat.uploadStatus
                }
            }),
            watch: {
                questionQrCodeScanned() {
                    this.wechat.qrScanned = !0,
                        this.wechat.qrScannedResolved = !0
                },
                questionAnswerFileUrl(e) {
                    const t = this.wechat.examRecordDataId;
                    for (const s of e)
                        if (!s.saved) {
                            let e = "CONFIRMED";
                            this.$http.post("/api/ecs_oe_student/examControl/saveUploadedFileAcknowledgeStatus", {
                                examRecordDataId: t,
                                filePath: s.fileUrl,
                                order: s.order,
                                acknowledgeStatus: e
                            }).then(() => {
                                this.wechat.studentAnswer = s.fileUrl,
                                    this.wechat.uploadResolved = !0,
                                    this.wechat.uploadStatus = !0,
                                    s.saved = !0,
                                    "CONFIRMED" === e && this.$Message.info({
                                        content: "灏忕▼搴忎綔绛斿凡鏇存柊",
                                        duration: 5,
                                        closable: !0
                                    })
                            }
                            ).catch(() => {
                                this.$Message.error({
                                    content: "鏇存柊灏忕▼搴忕瓟妗堝け璐ワ紒",
                                    duration: 15,
                                    closable: !0
                                })
                            }
                            )
                        }
                }
            },
            async created() {
                this.getNowInterval = setInterval(() => {
                    this.nowDate = Date.now()
                }
                    , 1e3),
                    re({});
                const e = async () => {
                    const e = this.$store.state.user.id
                        , t = await this.$http.post("/api/ecs_oe_student/examControl/getQrCode", { examRecordDataId: e, order: 1, transferFileType: "AUDIO", testEnv: !0 });
                    this.wechat.qrValue = t.data;
                    const s = decodeURIComponent(t.data).match(/&examRecordDataId=(\d+)/)[1];
                    this.wechat.examRecordDataId = s
                }
                    ;
                this.wechat.qrValue && (this.getQRCodeTimeout = setTimeout(() => {
                    e()
                }
                    , 3e3))
            },
            async mounted() {
                let e, t;
                fetch("/oe-web/login", {
                    Method: "HEAD"
                }).then(t => {
                    e = W()(t.headers.get("date"))
                }
                ),
                    this.checkClockRateTimeout = setTimeout(() => {
                        fetch("/oe-web/login", {
                            Method: "HEAD"
                        }).then(s => {
                            this.time && (t = W()(s.headers.get("date")),
                                this.time.clockRateStateResolved = !0,
                                this.time.clockRateDiff = t.diff(e, "seconds") - he,
                                this.time.clockRateStatus = t.diff(e, "seconds") < he + 2)
                        }
                        )
                    }
                        , 1e3 * he),
                    await this.openCamera()
            },
            beforeDestroy() {
                clearInterval(this.getNowInterval),
                    clearTimeout(this.checkClockRateTimeout),
                    clearTimeout(this.getQRCodeTimeout),
                    this.$refs.video.srcObject && (this.$refs.video.srcObject.getTracks().forEach((function (e) {
                        e.stop()
                    })),
                        this.$refs.video.srcObject = null),
                    le()
            },
            methods: {
                previous() {
                    this.current >= 0 && (this.current -= 1)
                },
                next() {
                    this.current < 5 && (this.current += 1),
                        5 === this.current && window._hmt.push(["_trackEvent", "鐜妫€娴�", `缃戠粶: ${this.step1Status}; 鏃堕棿: ${this.step2Status}; 鎽勫儚澶�: ${this.step3Status}; 澹伴煶: ${this.step4Status}; 灏忕▼搴�: ${this.step5Status};`])
                },
                async openCamera() {
                    const e = this.$refs.video;
                    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia)
                        try {
                            console.log("鍚姩鎽勫儚澶�");
                            const s = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user", resizeMode: "crop-and-scale", width: 400, height: 300 } });
                            if (s) {
                                e.srcObject = s;
                                try {
                                    await e.play(),
                                        this.camera.openCameraStatus = !0
                                } catch (t) {
                                    console.log("鎽勫儚澶存病鏈夋甯稿惎鐢�", t),
                                        this.$Message.error({
                                            content: "鎽勫儚澶存病鏈夋甯稿惎鐢�: " + t,
                                            duration: 15,
                                            closable: !0
                                        }),
                                        window._hmt.push(["_trackEvent", "鎽勫儚澶存-鐜妫€娴�", "鎽勫儚澶寸姸鎬�", "鎽勫儚澶存病鏈夋甯稿惎鐢�: " + t])
                                }
                            } else
                                this.$Message.error({
                                    content: "娌℃湁鍙敤鐨勮棰戞祦",
                                    duration: 15,
                                    closable: !0
                                }),
                                    window._hmt.push(["_trackEvent", "鎽勫儚澶存-鐜妫€娴�", "鎽勫儚澶寸姸鎬�", "娌℃湁鍙敤鐨勮棰戞祦"])
                        } catch (t) {
                            let e;
                            console.log("鏃犳硶鍚敤鎽勫儚澶�", t),
                                e = t.name || t.message ? `${t.name} ${t.message}` : t,
                                this.$Message.error({
                                    content: "鏃犳硶鍚敤鎽勫儚澶�: " + e,
                                    duration: 15,
                                    closable: !0
                                }),
                                window._hmt.push(["_trackEvent", "鎽勫儚澶存-鐜妫€娴�", "鎽勫儚澶寸姸鎬�", "鏃犳硶鍚敤鎽勫儚澶�" + e])
                        } finally {
                            this.camera.openCameraResolved = !0
                        }
                    else
                        this.$Message.error({
                            content: "娌℃湁鎵惧埌鍙敤鐨勬憚鍍忓ご",
                            duration: 15,
                            closable: !0
                        }),
                            window._hmt.push(["_trackEvent", "鎽勫儚澶存-鐜妫€娴�", "鎽勫儚澶寸姸鎬�", "娌℃湁鎵惧埌鍙敤鐨勬憚鍍忓ご"]);
                    this.camera.openCameraResolved = !0
                }
            }
        }
            , pe = me
            , _e = (s("4e36"),
                Object(l["a"])(pe, V, H, !1, null, "1db1faf8", null))
            , ge = _e.exports
            , we = s("ff04")
            , fe = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    ref: "modalRef",
                    attrs: {
                        title: "鑰冪敓鎵胯涔�",
                        "footer-hide": "",
                        width: "800",
                        closable: !1,
                        "mask-closable": !1
                    }
                }, [s("div", {
                    staticStyle: {
                        "font-size": "16px"
                    }
                }, [s("div", {
                    staticClass: "privacy-content",
                    domProps: {
                        innerHTML: e._s(e.content)
                    }
                }), s("div", {
                    staticStyle: {
                        display: "flex",
                        "justify-content": "center",
                        "margin-top": "10px"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px",
                        width: "150px"
                    },
                    on: {
                        click: e.onOk
                    }
                }, [e._v(" 鍚屾剰 ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px",
                        width: "150px"
                    },
                    on: {
                        click: e.onDecline
                    }
                }, [e._v(" 鎷掔粷 ")])], 1)])])
            }
            , ve = []
            , ye = {
                name: "CommittmentDialog",
                props: {
                    content: {
                        type: String,
                        default: ""
                    }
                },
                methods: {
                    showDialog(e, t) {
                        return this.$refs.modalRef.visible = !0,
                            this.parentResolve = e,
                            this.parentReject = t,
                            !0
                    },
                    onOk() {
                        this.parentResolve(!0),
                            this.$refs.modalRef.visible = !1,
                            this.logger({
                                action: "鑰冪敓鎵胯涔�",
                                detail: "鎵胯鍚屾剰"
                            })
                    },
                    onDecline() {
                        this.parentReject(!1),
                            this.$refs.modalRef.visible = !1,
                            this.logger({
                                action: "鑰冪敓鎵胯涔�",
                                detail: "鎷掔粷鎵胯"
                            })
                    }
                }
            }
            , be = ye
            , xe = (s("c232"),
                Object(l["a"])(be, fe, ve, !1, null, "6d6f53bc", null))
            , Ee = xe.exports;
        const { mapState: Se, mapMutations: Ce } = Object(w["a"])("examHomeModule");
        var Oe = {
            name: "EcsOnlineList",
            components: {
                "ecs-online-exam-result-list": E,
                OnlineExamFaceCheckModal: U,
                CheckComputer: ge,
                CommittmentDialog: Ee
            },
            props: {
                courses: {
                    type: Array,
                    default() {
                        return []
                    }
                },
                endCourses: {
                    type: Array,
                    default() {
                        return []
                    }
                },
                examType: {
                    type: String,
                    default: "ONLINE"
                }
            },
            data() {
                return {
                    now: new Date,
                    selectedCourse: null,
                    spinShow: !1,
                    processingMessage: "",
                    cid: null,
                    shouldShowCheckEnvModal: !1,
                    countdown: 0,
                    enterButtonClicked: !1,
                    overFlowStyle: !1,
                    selectExamState: "EXAMING",
                    committmentHtmlContent: ""
                }
            },
            computed: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "timeDifference"])), Se(["faceCheckModalOpen"])), Object(w["c"])(["isEpcc"])),
            created() {
                this.getNow(),
                    this.intervalID = setInterval(() => this.getNow(), 1e3)
            },
            beforeDestroy() {
                this.toggleFaceCheckModal(!1),
                    clearInterval(this.intervalID),
                    clearInterval(this.countdownInterval)
            },
            methods: Object(p["a"])(Object(p["a"])({}, Ce(["toggleFaceCheckModal"])), {}, {
                cycleDesc(e) {
                    if (!e.examCycleEnabled)
                        return "";
                    const t = {
                        1: "涓€",
                        2: "浜�",
                        3: "涓�",
                        4: "鍥�",
                        5: "浜�",
                        6: "鍏�",
                        7: "鏃�"
                    }
                        , s = e.examCycleWeek.map(e => "鍛�" + t[e])
                        , i = e.examCycleTimeRange.map(e => e.timeRange).map(e => e[0] + "~" + e[1]).join("<br>");
                    return s + "<br>" + i
                },
                getNow() {
                    this.now = Date.now() + this.timeDifference
                },
                courseInBetween(e) {
                    return W()(this.now).isBetween(W()(e.startTime), W()(e.endTime))
                },
                disableReason(e) {
                    return this.courseInBetween(e) ? e.allowExamCount < 1 ? "鏃犲墿浣欒€冭瘯娆℃暟" : this.countdown > 0 ? "璇风◢鍚庣偣鍑�" : this.courseInCycle(e) ? "" : "涓嶅湪鑰冭瘯鏃堕棿鍛ㄦ湡鍐�" : "褰撳墠鏃堕棿涓嶅湪鑰冭瘯寮€鏀炬椂闂磋寖鍥�"
                },
                courseInCycle(e) {
                    if (!e.examCycleEnabled)
                        return !0;
                    const t = W()(this.now).isoWeekday();
                    if (!e.examCycleWeek.includes(t))
                        return !1;
                    const s = W()(this.now).format("HH:mm")
                        , i = e.examCycleTimeRange.map(e => e.timeRange)
                        , a = i.some(e => s >= e[0] && s <= e[1]);
                    return a
                },
                disableTheCourse(e) {
                    return !this.courseInBetween(e) || e.allowExamCount < 1 || this.countdown > 0 || !this.courseInCycle(e)
                },
                async raceEnter(e) {
                    this.logger({
                        page: "寰呰€冨垪琛ㄩ〉",
                        button: "杩涘叆鑰冭瘯鎸夐挳",
                        action: "鐐瑰嚮"
                    }),
                        this.spinShow = !0,
                        this.processingMessage = "姝ｅ湪璇锋眰...";
                    const t = Math.floor(W()(this.now).diff(W()(e.startTime), "seconds") / 60);
                    this.enterButtonClicked = !0;
                    const { limitResult: s, serverOk: i } = await Object(we["a"])({ action: "startExam", limit: 100 });
                    this.logger({
                        action: "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰",
                        logId: "寮€鑰冮檺娴丄PI call"
                    }),
                        this.enterButtonClicked = !1,
                        this.spinShow = !1,
                        s ? (window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "鎽囧彿杩涘叆鑰冭瘯"]),
                            this.logger({
                                action: "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰",
                                logId: "寮€鑰冩湭闄愭祦",
                                detail: "闄愭祦-" + t + "鍒嗚繘鍏�"
                            }),
                            this.enterExam(e)) : (window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "鎽囧彿杩涘叆鑰冭瘯-闄愭祦"]),
                                this.logger({
                                    action: "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰",
                                    logId: "寮€鑰冭闄愭祦",
                                    detail: "闄愭祦-" + t + "鍒嗚闄愭祦",
                                    serverOk: i
                                }),
                                this.$Modal.warning({
                                    title: "鎻愮ず",
                                    content: "缃戠粶绻佸繖锛岃绋嶅悗鍐嶈瘯銆�",
                                    onOk: () => {
                                        clearInterval(this.countdownInterval),
                                            this.countdown = 3,
                                            this.countdownInterval = setInterval(() => {
                                                this.countdown--
                                            }
                                                , 1e3)
                                    }
                                }))
                },
                async enterExam(e, t) {
                    this.spinShow = !0,
                        this.processingMessage = "姝ｅ湪妫€娴嬫柇鐐圭画鑰冧俊鎭�...";
                    try {
                        const e = await this.checkExamInProgress();
                        if (e)
                            return this.spinShow = !1,
                                this.logger({
                                    action: "鏂偣缁€�",
                                    detail: "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰"
                                }),
                                void window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "鏂偣缁€�", "杩涘叆"])
                    } catch (s) {
                        return void (this.spinShow = !1)
                    }
                    if (this.getNow(),
                        this.spinShow = !1,
                        this.disableTheCourse(e))
                        return this.logger({
                            page: "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰",
                            detail: "鏈埌鑰冭瘯寮€鏀炬椂闂达紒"
                        }),
                            void this.$Message.error({
                                content: "鏈埌鑰冭瘯寮€鏀炬椂闂达紒",
                                duration: 15,
                                closable: !0
                            });
                    if (e.showUndertaking && !t) {
                        this.logger({
                            page: "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰",
                            detail: "鑰冪敓鎵胯涔�"
                        });
                        const t = await new Promise((t, s) => { this.committmentHtmlContent = e.undertaking, this.$refs.committmentDialogRef.showDialog(t, s) });
                        if (!t)
                            return
                    }
                    this.spinShow = !0,
                        this.processingMessage = "姝ｅ湪妫€娴婭P鍚堟硶鎬�...";
                    try {
                        const t = (await this.$http.get("/api/ecs_exam_work/exam/ipLimit/" + e.examId)).data;
                        if (t.limited)
                            return window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "IP鍙楅檺"]),
                                this.spinShow = !1,
                                void this.$Message.error({
                                    content: "IP鍙楅檺锛岃鍒颁腑蹇冩寚瀹氬湴鐐硅繘琛岃€冭瘯锛�",
                                    duration: 15,
                                    closable: !0
                                })
                    } catch (s) {
                        return this.$Message.error({
                            content: "鏌ヨIP闄愬埗鍑洪敊锛�",
                            duration: 15,
                            closable: !0
                        }),
                            void (this.spinShow = !1)
                    }
                    if (this.processingMessage = "姝ｅ湪鑾峰彇鑰冭瘯璁剧疆...",
                        !t) {
                        let t = null;
                        try {
                            if (t = await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + e.examId + "/CHECK_ENVIRONMENT"),
                                "true" === t.data.CHECK_ENVIRONMENT) {
                                const t = await new Promise(t => { this.$Modal.confirm({ title: "杩涜鐜妫€娴�", content: "鐜妫€娴嬪彲浠ユ娴嬬數鑴戠殑纭欢閰嶇疆銆佺綉缁滈€熷害鍜屽父鐢ㄦ搷浣溿€傜幆澧冩娴嬩笉閫氳繃鐨勮瘽锛屽彲鑳藉奖鍝嶈€冭瘯鐨勬甯歌繘琛屻€�", okText: "杩涜妫€娴�", cancelText: "璺宠繃妫€娴�", onOk: () => { this.shouldShowCheckEnvModal = !0, this.selectedCourse = e, t() }, onCancel: () => { t(!0) } }) });
                                if (!t)
                                    return void (this.spinShow = !1)
                            }
                        } catch (s) {
                            return this.spinShow = !1,
                                void this.$Message.error({
                                    content: "鏌ヨ鑰冭瘯鐨勭幆澧冩娴嬭缃睘鎬у嚭閿欙紒",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    }
                    if (e.faceEnable) {
                        if (!this.user.photoPath)
                            return this.spinShow = !1,
                                window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "鏃犲簳鐓�"]),
                                void this.$Message.info("鏈満鑰冭瘯闇€瑕佽繘琛屼汉鑴告娴嬶紝浣嗘槸鎮ㄦ病鏈変笂浼犲簳鐓э紝璇疯仈绯昏€佸笀锛�");
                        let t = null;
                        try {
                            t = await this.$http.get("/api/ecs_exam_work/exam/identificationOfLivingEnabled/" + e.examId)
                        } catch (s) {
                            return this.spinShow = !1,
                                void this.$Message.error({
                                    content: "鏌ヨ鑰冭瘯鐨勪汉鑴告娴嬭缃睘鎬у嚭閿欙紒",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                        if (t.data) {
                            let e;
                            this.processingMessage = "姝ｅ湪妫€娴嬪簳鐓ф槸鍚︽弧瓒虫椿浣撴娴嬫爣鍑�...";
                            try {
                                if (e = (await this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/checkFaceLiveness?" + this.user.token)).data,
                                    this.spinShow = !1,
                                    !e.success)
                                    return this.$Message.error("鎮ㄤ笂浼犵殑搴曠収涓嶇鍚堟椿浣撴娴嬬殑瑕佹眰锛岃鑱旂郴鑰佸笀锛�"),
                                        void window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "浜鸿劯璇嗗埆妗�", "鎮ㄤ笂浼犵殑搴曠収涓嶇鍚堟椿浣撴娴嬬殑瑕佹眰锛岃鑱旂郴鑰佸笀锛�"])
                            } catch (s) {
                                return this.spinShow = !1,
                                    void this.$Message.error({
                                        content: "鏌ヨ妫€娴嬪簳鐓ф槸鍚︽弧瓒虫椿浣撴娴嬫爣鍑嗙殑鎺ュ彛鍑洪敊锛�",
                                        duration: 15,
                                        closable: !0
                                    })
                            }
                        }
                        this.spinShow = !1,
                            this.selectedCourse = e,
                            window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "浜鸿劯璇嗗埆妗�", "寮瑰嚭妗�"]),
                            this.toggleFaceCheckModal(!0)
                    } else
                        this.spinShow = !1,
                            this.logger({
                                action: "杩涘叆鑰冭瘯",
                                detail: "鏃犱汉鑴告娴�"
                            }),
                            window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰", "杩涘叆鑰冭瘯", "鏃犱汉鑴告娴�"]),
                            this.$router.push(`/online-exam/exam/${e.examId}/overview?examStudentId=${e.examStudentId}`)
                },
                async faceCheckResultCallback(e, t) { },
                async resumeEnterExam() {
                    this.shouldShowCheckEnvModal = !1,
                        this.enterExam(this.selectedCourse, !0)
                }
            })
        }
            , Ie = Oe
            , ke = (s("45d8"),
                s("f3c0"),
                Object(l["a"])(Ie, _, g, !1, null, "dd1877fc", null))
            , Te = ke.exports
            , Ae = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    attrs: {
                        closable: !1,
                        "mask-closable": !1,
                        title: "璇烽獙璇侀鐣欐墜鏈哄彿",
                        "footer-hide": !0,
                        "z-index": 2e3
                    },
                    model: {
                        value: e.phoneModal,
                        callback: function (t) {
                            e.phoneModal = t
                        },
                        expression: "phoneModal"
                    }
                }, [s("div", {
                    staticStyle: {
                        display: "grid",
                        "grid-template-rows": "40px 40px 40px",
                        "font-size": "20px"
                    }
                }, [s("p", [e._v(" 棰勭暀鎵嬫満鍙�: " + e._s(e.user.phoneNumber) + " ")]), s("p", [e._v(" 杈撳叆楠岃瘉鐮�: "), s("input", {
                    directives: [{
                        name: "model",
                        rawName: "v-model",
                        value: e.code,
                        expression: "code"
                    }],
                    attrs: {
                        size: "6",
                        placeholder: "楠岃瘉鐮�",
                        type: "number"
                    },
                    domProps: {
                        value: e.code
                    },
                    on: {
                        input: function (t) {
                            t.target.composing || (e.code = t.target.value)
                        }
                    }
                })]), s("div", [s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px"
                    },
                    attrs: {
                        disabled: e.remainTime > 0
                    },
                    on: {
                        click: e.getCode
                    }
                }, [e._v(e._s(e.btnText) + " " + e._s(e.remainTime > 0 ? "(" + e.remainTime + "绉�)" : "") + " ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px"
                    },
                    on: {
                        click: e.verify
                    }
                }, [e._v(" 楠岃瘉 ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px"
                    },
                    on: {
                        click: function () {
                            return e.logout("?LogoutReason=楠岃瘉棰勭暀鎵嬫満鍙�")
                        }
                    }
                }, [e._v(" 閫€鍑虹郴缁� ")])], 1)])])
            }
            , Pe = []
            , Me = {
                name: "PhoneVerifyForDD",
                data() {
                    return {
                        courses: [],
                        phoneModal: !1,
                        step: "1",
                        code: "",
                        remainTime: 0,
                        btnText: "鍙戦€侀獙璇佺爜"
                    }
                },
                computed: Object(p["a"])({}, Object(w["e"])(["user"])),
                async mounted() {
                    ["cugr.ecs.qmth.com.cn", "test.cugr.qmth.com.cn"].includes(localStorage.getItem("domain")) && !localStorage.getItem("phoneVerified") && (this.phoneModal = !0)
                },
                methods: {
                    async getCode() {
                        this.logger({
                            page: "PhoneVerifyForDD",
                            button: "鍙戦€侀獙璇佺爜鎸夐挳",
                            action: "鐐瑰嚮"
                        });
                        try {
                            await this.$http.post("/api/ecs_oe_student/sms/sendSmsCodeToStudent")
                        } catch (t) {
                            return void this.$Message.error({
                                content: "鍙戦€侀獙璇佺爜澶辫触锛岃閲嶈瘯锛�",
                                duration: 15,
                                closable: !0
                            })
                        }
                        this.remainTime = 90;
                        let e = setInterval(() => {
                            this.remainTime--,
                                this.remainTime <= 0 && clearInterval(e)
                        }
                            , 1e3)
                    },
                    async verify() {
                        this.logger({
                            page: "PhoneVerifyForDD",
                            button: "楠岃瘉鎸夐挳",
                            action: "鐐瑰嚮"
                        });
                        try {
                            await this.$http.post(`/api/ecs_oe_student/sms/checkSmsCode?phoneNumber=${this.user.phoneNumber}&code=${this.code}`),
                                this.phoneModal = !1,
                                localStorage.setItem("phoneVerified", "true")
                        } catch (e) {
                            this.$Message.error({
                                content: "楠岃瘉鎵嬫満鍙锋帴鍙ｅけ璐ワ紝璇烽噸璇曪紒",
                                duration: 15,
                                closable: !0
                            }),
                                this.logger({
                                    page: "PhoneVerifyForDD",
                                    action: "楠岃瘉鎵嬫満鍙锋帴鍙ｅけ璐ワ紝璇烽噸璇曪紒"
                                })
                        }
                    }
                }
            }
            , De = Me
            , Re = (s("c427"),
                Object(l["a"])(De, Ae, Pe, !1, null, "e9826430", null))
            , Le = Re.exports
            , qe = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    attrs: {
                        closable: !1,
                        "mask-closable": !1,
                        title: "闅愮鏉℃",
                        "footer-hide": !0,
                        "z-index": 3e3
                    },
                    model: {
                        value: e.privacyModal,
                        callback: function (t) {
                            e.privacyModal = t
                        },
                        expression: "privacyModal"
                    }
                }, [s("div", {
                    staticStyle: {
                        "font-size": "16px"
                    }
                }, [s("div", {
                    staticClass: "privacy-content"
                }, [s("p", {
                    staticStyle: {
                        "text-indent": "2em"
                    }
                }, [e._v(" 鏈骇鍝佸皧閲嶅苟淇濇姢鎵€鏈夋湇鍔＄敤鎴风殑涓汉闅愮鏉冦€備负浜嗙粰鎮ㄦ彁渚涙洿鍑嗙‘銆佹洿鏈変釜鎬у寲鐨勬湇鍔★紝浼氭寜鐓ф湰闅愮鏉冩斂绛栫殑瑙勫畾浣跨敤鍜屾姭闇叉偍鐨勪釜浜轰俊鎭€備絾灏嗕互楂樺害鐨勫嫟鍕夈€佸鎱庝箟鍔″寰呰繖浜涗俊鎭€傞櫎鏈殣绉佹潈鏀跨瓥瑙勫畾澶栵紝鍦ㄦ湭寰佸緱鎮ㄤ簨鍏堣鍙殑鎯呭喌涓嬶紝鏈骇鍝佷笉浼氬皢杩欎簺淇℃伅瀵瑰鎶湶鎴栧悜绗笁鏂规彁渚涳紙娉曞緥娉曡瑙勫畾搴斿綋鎶湶鎴栨彁渚涚殑闄ゅ锛夈€傛湰浜у搧浼氫笉鏃舵洿鏂版湰闅愮鏉冩斂绛栥€傛偍鍦ㄥ悓鎰忔湰浜у搧鏈嶅姟浣跨敤鍗忚涔嬫椂锛屽嵆瑙嗕负鎮ㄥ凡缁忓悓鎰忔湰闅愮鏉冩斂绛栧叏閮ㄥ唴瀹广€傛湰闅愮鏉冩斂绛栧睘浜庢湰浜у搧鏈嶅姟浣跨敤鍗忚涓嶅彲鍒嗗壊鐨勪竴閮ㄥ垎銆� ")]), s("p", [e._v("1.閫傜敤鑼冨洿")]), s("p", [e._v("1) 鍦ㄦ偍娉ㄥ唽浣跨敤鏈骇鍝佸笎鍙锋椂锛屾牴鎹湰浜у搧瑕佹眰鎻愪緵鐨勪釜浜烘敞鍐屼俊鎭紱")]), s("p", [e._v(" 2) 鍦ㄦ偍浣跨敤鏈骇鍝佺綉缁滄湇鍔★紝鎴栬闂湰浜у搧缃戦〉鏃讹紝鏈骇鍝佽嚜鍔ㄦ帴鏀跺苟璁板綍鐨勬偍鐨勮闂澶囦俊鎭紝鍖呮嫭浣嗕笉闄愪簬鎮ㄧ殑銆両P鍦板潃銆佹祻瑙堝櫒鐨勭被鍨嬨€佷娇鐢ㄧ殑璇█銆佽闂棩鏈熷拰鏃堕棿銆佽蒋纭欢鐗瑰緛淇℃伅鍙婃偍璁块棶鐨勭綉椤佃褰曠瓑鏁版嵁锛� ")]), s("p", [e._v("3) 鏈骇鍝侀€氳繃鍚堟硶閫斿緞浠庡晢涓氫紮浼村鍙栧緱鐨勭敤鎴蜂釜浜烘暟鎹紱")]), s("p", [e._v("4) 鎮ㄥ湪浣跨敤鏈骇鍝佸钩鍙拌繘琛岃€冭瘯韬唤楠岃瘉鏃堕噰闆嗙殑浜鸿劯淇℃伅")]), s("p", [e._v("5) 鎮ㄥ湪浣跨敤鏈骇鍝佸钩鍙版彁渚涚殑鎼滅储鏈嶅姟鏃惰緭鍏ョ殑鍏抽敭瀛椾俊鎭紱")]), s("p", [e._v("2.淇℃伅浣跨敤")]), s("p", [e._v(" 1) 鏈骇鍝佷笉浼氬悜浠讳綍鏃犲叧绗笁鏂规彁渚涖€佸嚭鍞€佸嚭绉熴€佸垎浜垨浜ゆ槗鎮ㄧ殑涓汉淇℃伅锛岄櫎闈炰簨鍏堝緱鍒版偍鐨勮鍙紝鎴栬绗笁鏂瑰拰鏈骇鍝侊紙鍚湰浜у搧鍏宠仈鍏徃锛夊崟鐙垨鍏卞悓涓烘偍鎻愪緵鏈嶅姟锛屼笖鍦ㄨ鏈嶅姟缁撴潫鍚庯紝鍏跺皢琚姝㈣闂寘鎷叾浠ュ墠鑳藉璁块棶鐨勬墍鏈夎繖浜涜祫鏂欍€� ")]), s("p", [e._v(" 2) 鏈骇鍝佷害涓嶅厑璁镐换浣曠涓夋柟浠ヤ换浣曟墜娈垫敹闆嗐€佺紪杈戙€佸嚭鍞垨鑰呮棤鍋夸紶鎾偍鐨勪釜浜轰俊鎭€備换浣曟湰浜у搧骞冲彴鐢ㄦ埛濡備粠浜嬩笂杩版椿鍔紝涓€缁忓彂鐜帮紝鏈骇鍝佹湁鏉冪珛鍗崇粓姝笌璇ョ敤鎴风殑鏈嶅姟鍗忚銆� ")]), s("p", [e._v(" 3) 涓烘湇鍔＄敤鎴风殑鐩殑锛屾湰浜у搧鍙兘閫氳繃浣跨敤鎮ㄧ殑涓汉淇℃伅锛屽悜鎮ㄦ彁渚涙偍鎰熷叴瓒ｇ殑淇℃伅锛屽寘鎷絾涓嶉檺浜庡悜鎮ㄥ彂鍑轰骇鍝佸拰鏈嶅姟淇℃伅锛屾垨鑰呬笌鏈骇鍝佸悎浣滀紮浼村叡浜俊鎭互渚夸粬浠悜鎮ㄥ彂閫佹湁鍏冲叾浜у搧鍜屾湇鍔＄殑淇℃伅锛堝悗鑰呴渶瑕佹偍鐨勪簨鍏堝悓鎰忥級銆� ")]), s("p", [e._v("3.淇℃伅鎶湶")]), s("p", [e._v(" 鍦ㄥ涓嬫儏鍐典笅锛屾湰浜у搧灏嗕緷鎹偍鐨勪釜浜烘剰鎰挎垨娉曞緥鐨勮瀹氬叏閮ㄦ垨閮ㄥ垎鐨勬姭闇叉偍鐨勪釜浜轰俊鎭細 ")]), s("p", [e._v("1) 缁忔偍浜嬪厛鍚屾剰锛屽悜绗笁鏂规姭闇诧紱")]), s("p", [e._v("2) 涓烘彁渚涙偍鎵€瑕佹眰鐨勪骇鍝佸拰鏈嶅姟锛岃€屽繀椤诲拰绗笁鏂瑰垎浜偍鐨勪釜浜轰俊鎭紱")]), s("p", [e._v(" 3) 鏍规嵁娉曞緥鐨勬湁鍏宠瀹氾紝鎴栬€呰鏀挎垨鍙告硶鏈烘瀯鐨勮姹傦紝鍚戠涓夋柟鎴栬€呰鏀裤€佸徃娉曟満鏋勬姭闇诧紱 ")]), s("p", [e._v(" 4) 濡傛偍鍑虹幇杩濆弽涓浗鏈夊叧娉曞緥銆佹硶瑙勬垨鑰呮湰浜у搧鏈嶅姟鍗忚鎴栫浉鍏宠鍒欑殑鎯呭喌锛岄渶瑕佸悜绗笁鏂规姭闇诧紱 ")]), s("p", [e._v("5) 鎮ㄨ嚜琛屽悜绀句細鍏紬鍏紑鐨勪釜浜轰俊鎭紱")]), s("p", [e._v(" 6) 浠庡悎娉曞叕寮€鎶湶鐨勪俊鎭腑鏀堕泦涓汉淇℃伅鐨勶紝濡傚悎娉曠殑鏂伴椈鎶ラ亾銆佹斂搴滀俊鎭叕寮€绛夋笭閬撱€傛牴鎹硶寰嬭瀹氾紝鍏变韩銆佽浆璁╃粡鍘绘爣璇嗗寲澶勭悊鐨勪釜浜轰俊鎭紝涓旂‘淇濇暟鎹帴鏀舵柟鏃犳硶澶嶅師骞堕噸鏂拌瘑鍒釜浜轰俊鎭富浣撶殑锛屼笉灞炰簬涓汉淇℃伅鐨勫澶栧叡浜€佽浆璁╁強鍏紑鎶湶琛屼负锛屽姝ょ被鏁版嵁鐨勪繚瀛樺強澶勭悊灏嗘棤闇€鍙﹁鍚戞偍閫氱煡骞跺緛寰楁偍鐨勫悓鎰忋€� ")]), s("p", [e._v("4.淇℃伅瀛樺偍鍜屼氦鎹�")]), s("p", [e._v(" 鏈骇鍝佸湪涓崕浜烘皯鍏卞拰鍥藉鍐呮敹闆嗙殑鏈夊叧鎮ㄧ殑淇℃伅鍜岃祫鏂欏皢淇濆瓨鍦ㄦ湰浜у搧鍙婏紙鎴栵級鍏跺叧鑱斿叕鍙镐綅浜庝腑鍗庝汉姘戝叡鍜屽浗澧冨唴鐨勬湇鍔″櫒涓婏紱閽堝澧冨鎯呭喌锛屾偍鐨勪釜浜轰俊鎭彲鑳戒細琚浆绉诲埌鎮ㄤ娇鐢ㄤ骇鍝佹垨鏈嶅姟鎵€鍦ㄥ浗瀹�/鍦板尯鐨勫澶栫杈栧尯锛屾垨鑰呭彈鍒版潵鑷繖浜涚杈栧尯鐨勮闂€� ")]), s("p", [e._v("5.Cookie鐨勪娇鐢�")]), s("p", [e._v(" 1) 鍦ㄦ偍鏈嫆缁濇帴鍙桟ookie鐨勬儏鍐典笅锛屾湰浜у搧浼氬湪鎮ㄧ殑璁块棶璁惧涓婅瀹氭垨璇诲彇Cookie锛屼互渚挎偍鑳界櫥褰曟垨浣跨敤渚濊禆浜嶤ookie鐨勬湰浜у搧骞冲彴鏈嶅姟鎴栧姛鑳姐€傛湰浜у搧浣跨敤Cookie鍙负鎮ㄦ彁渚涙洿鍔犲懆鍒扮殑涓€у寲鏈嶅姟銆� ")]), s("p", [e._v(" 2) 鎮ㄦ湁鏉冮€夋嫨鎺ュ彈鎴栨嫆缁濇帴鍙桟ookie銆傛偍鍙互閫氳繃淇敼娴忚鍣ㄨ缃殑鏂瑰紡鎷掔粷鎺ュ彈Cookie銆備絾濡傛灉鎮ㄩ€夋嫨鎷掔粷鎺ュ彈Cookie锛屽垯鎮ㄥ彲鑳芥棤娉曠櫥褰曟垨浣跨敤渚濊禆浜嶤ookie鐨勬湰浜у搧缃戠粶鏈嶅姟鎴栧姛鑳姐€� ")]), s("p", [e._v("3) 閫氳繃鏈骇鍝佹墍璁綜ookie鎵€鍙栧緱鐨勬湁鍏充俊鎭紝灏嗛€傜敤鏈斂绛栥€�")]), s("p", [e._v("6.淇℃伅瀹夊叏")]), s("p", [e._v(" 1) 鏈骇鍝佸笎鍙峰潎鏈夊畨鍏ㄤ繚鎶ゅ姛鑳斤紝璇峰Ε鍠勪繚绠℃偍鐨勭敤鎴峰悕鍙婂瘑鐮佷俊鎭€傛湰浜у搧浼氶噰鐢ㄧ鍚堜笟鐣屾爣鍑嗙殑瀹夊叏闃叉姢鎺柦锛屽寘鎷缓绔嬪悎鐞嗙殑鍒跺害瑙勮寖銆佸畨鍏ㄦ妧鏈潵闃叉鎮ㄧ殑涓汉淇℃伅閬埌鏈粡鎺堟潈鐨勮闂娇鐢ㄣ€佷慨鏀癸紝閬垮厤鏁版嵁鐨勬崯鍧忔垨涓㈠け銆� ")]), s("p", [e._v(" 2) 鎴戜滑浼氶噰鍙栦竴鍒囧悎鐞嗗彲琛岀殑鎺柦锛岀‘淇濇湭鏀堕泦鏃犲叧鐨勪釜浜轰俊鎭€傛垜浠彧浼氬湪杈炬垚鏈斂绛栨墍杩扮洰鐨勬墍闇€鐨勬湡闄愬唴淇濈暀鎮ㄧ殑涓汉淇℃伅锛岄櫎闈為渶瑕佸欢闀夸繚鐣欐湡鎴栧彈鍒版硶寰嬬殑鍏佽銆� ")]), s("p", [e._v(" 3) 浜掕仈缃戝苟闈炵粷瀵瑰畨鍏ㄧ殑鐜锛岃€屼笖鐢靛瓙閭欢銆佸嵆鏃堕€氳銆佸強涓庡叾浠栫敤鎴风殑浜ゆ祦鏂瑰紡骞舵湭鍔犲瘑锛屾垜浠己鐑堝缓璁偍涓嶈閫氳繃姝ょ被鏂瑰紡鍙戦€佷釜浜轰俊鎭€傝浣跨敤澶嶆潅瀵嗙爜锛屽崗鍔╂垜浠繚璇佹偍鐨勮处鍙峰畨鍏ㄣ€� ")]), s("p", [e._v(" 4) 濡傛偍鍙戠幇鑷繁鐨勪釜浜轰俊鎭硠瀵嗭紝灏ゅ叾鏄湰搴旂敤鐢ㄦ埛鍚嶅強瀵嗙爜鍙戠敓娉勯湶锛岃鎮ㄧ珛鍗宠仈缁滄湰搴旂敤瀹㈡湇锛屼互渚挎湰搴旂敤閲囧彇鐩稿簲鎺柦銆� ")]), s("p", [e._v("7.鏈殣绉佹斂绛栫殑鏇存敼")]), s("p", [e._v(" 1锛夊鏋滃喅瀹氭洿鏀归殣绉佹斂绛栵紝鎴戜滑浼氬湪鏈斂绛栦腑锛屼互鍙婃垜浠涓洪€傚綋鐨勪綅缃彂甯冭繖浜涙洿鏀癸紝浠ヤ究鎮ㄤ簡瑙ｆ垜浠浣曟敹闆嗐€佷娇鐢ㄦ偍鐨勪釜浜轰俊鎭紝鍝簺浜哄彲浠ヨ闂繖浜涗俊鎭紝浠ュ強鍦ㄤ粈涔堟儏鍐典笅鎴戜滑浼氶€忛湶杩欎簺淇℃伅銆� ")]), s("p", [e._v(" 2锛夋垜浠繚鐣欓殢鏃朵慨鏀规湰鏀跨瓥鐨勬潈鍒╋紝鍥犳璇风粡甯告煡鐪嬨€傚瀵规湰鏀跨瓥浣滃嚭閲嶅ぇ鏇存敼锛屾垜浠細閫氳繃缃戠珯閫氱煡鐨勫舰寮忓憡鐭ャ€� ")])]), s("div", {
                    staticStyle: {
                        display: "flex",
                        "justify-content": "center",
                        "margin-top": "10px"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px",
                        width: "150px"
                    },
                    attrs: {
                        disabled: e.remainTime > 0
                    },
                    on: {
                        click: e.agreeTerms
                    }
                }, [e._v(" 鍚屾剰" + e._s(e.remainTime ? "锛�" + e.remainTime + "绉掞級" : "") + " ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px",
                        width: "150px"
                    },
                    on: {
                        click: e.disagreeTerms
                    }
                }, [e._v(" 鎷掔粷 ")])], 1)])])
            }
            , je = []
            , Ne = {
                name: "PrivacyDialog",
                data() {
                    return {
                        privacyModal: !1,
                        remainTime: 0
                    }
                },
                computed: Object(p["a"])({}, Object(w["e"])(["user"])),
                async mounted() {
                    const e = localStorage.getItem("privacy-read-version-" + this.user.id);
                    if (e !== Y["g"]) {
                        this.privacyModal = !0,
                            this.remainTime = 15;
                        let e = setInterval(() => {
                            this.remainTime--,
                                this.remainTime <= 0 && clearInterval(e)
                        }
                            , 1e3)
                    }
                },
                methods: {
                    agreeTerms() {
                        this.logger({
                            page: "PrivacyDialog",
                            button: "鍚屾剰鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            localStorage.setItem("privacy-read-version-" + this.user.id, Y["g"]),
                            this.privacyModal = !1
                    },
                    disagreeTerms() {
                        this.logger({
                            page: "PrivacyDialog",
                            button: "鎷掔粷鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            this.logout("?LogoutReason=涓嶅悓鎰忛殣绉佹潯娆�")
                    }
                }
            }
            , Be = Ne
            , $e = (s("c2d5"),
                Object(l["a"])(Be, qe, je, !1, null, "33b750bf", null))
            , Fe = $e.exports
            , Ue = {
                name: "OnlineExamHome",
                components: {
                    "ecs-online-list": Te,
                    PhoneVerifyForDD: Le,
                    PrivacyDialog: Fe
                },
                beforeRouteEnter(e, t, s) {
                    s(e => {
                        e.previousUrl = t.path,
                            (t.path.includes("/online-homework") || t.path.includes("/online-exam")) && e.getData()
                    }
                    )
                },
                props: {
                    examType: {
                        type: String,
                        default: "ONLINE"
                    }
                },
                data() {
                    return {
                        previousUrl: "",
                        autoCloseModal: 1e5,
                        courses: [],
                        endCourses: []
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "siteMessagesTimeStamp", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    }
                }),
                watch: {
                    menus() {
                        if (this.menus[0]) {
                            if (this.menus[0].link.toUpperCase() !== "/online-exam".toUpperCase())
                                return void this.$router.push(this.menus[0].link)
                        } else
                            this.$Message.error({
                                content: "鏃犲彲鐢ㄨ彍鍗�",
                                duration: 15,
                                closable: !0
                            }),
                                this.logout()
                    }
                },
                beforeMount() {
                    const e = this.$createElement;
                    this.$nextTick(() => {
                        (this.previousUrl.startsWith("/login/") || "/" === this.previousUrl || "/login" === this.previousUrl) && (this.$Modal.info({
                            render: () => e("div", {
                                class: "welcome-modal"
                            }, [e("div", {
                                class: "smile-png"
                            }), e("div", {
                                style: "margin-left: 20px; flex: 1"
                            }, [e("div", {
                                style: "margin-bottom: 1.5em"
                            }, ["娆㈣繋浣跨敤鑰冭瘯绯荤粺锛岀椤哄埄瀹屾垚鑰冭瘯锛�"]), e("div", {
                                style: "font-weight:bold; line-height: 25px;"
                            }, ["濮撳悕锛�", this.$store.state.user.name, " -", " ", this.$store.state.user.studentCodeList.join(",")]), e("div", {
                                style: "font-weight:bold; line-height: 25px;"
                            }, ["涓撲笟锛�", this.$store.state.user.specialty])])]),
                            onOk: () => {
                                clearInterval(this.interval)
                            }
                        }),
                            this.interval = setInterval(() => {
                                const e = localStorage.getItem("privacy-read-version-" + this.user.id)
                                    , t = ["cugr.ecs.qmth.com.cn", "test.cugr.qmth.com.cn"].includes(localStorage.getItem("domain"))
                                    , s = localStorage.getItem("phoneVerified");
                                e === Y["g"] && (!t || s) && this.autoCloseModal > 10 && (this.autoCloseModal = 10),
                                    this.autoCloseModal--,
                                    this.autoCloseModal <= 0 && (this.$Modal.remove(),
                                        clearInterval(this.interval))
                            }
                                , 1e3))
                    }
                    )
                },
                async mounted() {
                    let e;
                    "ONLINE" === this.examType ? e = "鍦ㄧ嚎鑰冭瘯鍒楄〃椤甸潰" : "ONLINE_HOMEWORK" === this.examType && (e = "鍦ㄧ嚎缁冧範鍒楄〃椤甸潰"),
                        window._hmt.push(["_trackEvent", e, "杩涘叆椤甸潰"]),
                        this.logger({
                            page: e,
                            action: "杩涘叆椤甸潰"
                        }),
                        await this.getData()
                },
                beforeDestroy() {
                    this.$Modal.remove(),
                        clearInterval(this.interval)
                },
                methods: Object(p["a"])(Object(p["a"])({}, Object(w["d"])(["updateSiteMessages"])), {}, {
                    async getData() {
                        let e;
                        this.courses = [];
                        for (let s = 0; s < 4; s++) {
                            let t;
                            if ("ONLINE" === this.examType ? t = "/api/branch_ecs_oe_admin/examControl/queryExamList" : "ONLINE_HOMEWORK" === this.examType && (t = "/api/branch_ecs_oe_admin/examControl/queryHomeworkList"),
                                e = await this.$http.get(t),
                                503 !== e.status) {
                                if (200 === e.status)
                                    break
                            } else
                                await new Promise(e => setTimeout(() => e(), 2e3))
                        }
                        if (200 !== e.status)
                            return window._hmt.push(["_trackEvent", "寰呰€冨垪琛ㄨ幏鍙栧け璐�", "璋冪敤寰呰€冨垪琛ㄨ幏鍙栨帴鍙ｈ秴杩囧け璐ユ鏁�"]),
                                void this.$Message.error({
                                    content: "鏈嶅姟鍣ㄧ箒蹇�(503)锛佽绋嶅悗閲嶈瘯銆�",
                                    duration: 15,
                                    closable: !0
                                });
                        if (this.courses = e.data || [],
                            "ONLINE" === this.examType) {
                            let e = "/api/branch_ecs_oe_admin/examControl/queryExamEndList";
                            this.endCourses = (await this.$http.get(e)).data || []
                        }
                        try {
                            const e = (await this.$http.get("/api/ecs_exam_work/notice/getUserNoticeList?" + this.user.id + this.siteMessagesTimeStamp)).data;
                            this.updateSiteMessages(e)
                        } catch (t) {
                            console.log(t),
                                this.$Message.error({
                                    content: "鑾峰彇鍏憡閫氱煡寮傚父",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    }
                })
            }
            , Qe = Ue
            , We = (s("a741"),
                Object(l["a"])(Qe, h, m, !1, null, "45c34d2b", null))
            , Ve = We.exports
            , He = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.startInfo && e.paperStruct ? s("div", {
                    staticClass: "container",
                    attrs: {
                        id: "exam-overview"
                    }
                }, [s("div", {
                    staticClass: "instructions"
                }, [s("h1", {}, [e._v("鑰冭瘯璇存槑")]), s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-bottom": "20px"
                    }
                }, [s("p", {
                    domProps: {
                        innerHTML: e._s(e.beforeExamRemark)
                    }
                })]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        display: "inline-block",
                        width: "100%"
                    },
                    attrs: {
                        disabled: e.isForceRead
                    },
                    on: {
                        click: e.gotoPaperClicked
                    }
                }, [e._v(" 鎺ュ彈浠ヤ笂鏉℃锛屽紑濮嬭€冭瘯锛堝€掕鏃讹細 "), s("span", {
                    staticClass: "animated infinite pulse"
                }, [e._v(" " + e._s(e.remainTimeFormatted) + " ")]), e._v("锛� ")])], 1), s("div", {
                    staticClass: "exam-detail"
                }, [s("h3", {}, [e._v("绉戠洰锛�" + e._s(e.startInfo.courseName))]), s("br"), s("h4", {}, [e._v("璇曞嵎姒傝锛堟€诲垎锛�" + e._s(e.paperTotalScore) + "锛�")]), s("br"), s("ul", {
                    staticClass: "list-group"
                }, e._l(e.paperStruct.defaultPaper.questionGroupList, (function (t, i) {
                    return s("li", {
                        key: t.gruopName,
                        staticClass: "list-group-item"
                    }, [e._v(" " + e._s(i + 1) + "銆�" + e._s(t.groupName) + " "), s("small", {
                        staticClass: "pull-right"
                    }, [e._v(" 锛堝叡" + e._s(t.questionWrapperList.length) + "棰橈紝鍏�" + e._s(t.groupScore) + "鍒嗭級 ")])])
                })), 0), e._m(0)])]) : s("div", [e._v("姝ｅ湪绛夊緟鏁版嵁杩斿洖...")])
            }
            , ze = [function () {
                var e = this
                    , t = e.$createElement
                    , i = e._self._c || t;
                return i("div", [i("img", {
                    staticStyle: {
                        width: "100%",
                        "padding-top": "40px"
                    },
                    attrs: {
                        src: s("853c")
                    }
                })])
            }
            ];
        const Ke = 120
            , Ge = 10;
        var Je = {
            name: "OnlineExamOverview",
            data() {
                return {
                    beforeExamRemark: null,
                    startInfo: null,
                    paperStruct: null,
                    remainTime: Ke,
                    isForceRead: !0
                }
            },
            computed: {
                remainTimeFormatted: function () {
                    return W.a.utc(1e3 * this.remainTime).format("HH:mm:ss")
                }
            },
            async mounted() {
                window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯姒傝椤甸潰", "杩涘叆椤甸潰"]),
                    this.logger({
                        page: "鍦ㄧ嚎鑰冭瘯姒傝椤甸潰",
                        action: "寮€鑰冩垚鍔�"
                    }),
                    this.intervalId = setInterval(() => {
                        this.remainTime -= 1,
                            this.isForceRead = Ke - this.remainTime < Ge,
                            0 === this.remainTime && this.goToPaper()
                    }
                        , 1e3);
                try {
                    const e = await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + this.$route.params.examId + "/BEFORE_EXAM_REMARK");
                    this.beforeExamRemark = e.data.BEFORE_EXAM_REMARK || "";
                    const t = await this.$http.get("/api/ecs_oe_student/examControl/startExam?examStudentId=" + this.$route.query.examStudentId);
                    this.startInfo = t.data,
                        this.examRecordDataId = t.data.examRecordDataId;
                    const s = await this.$http.get("/api/ecs_oe_student/examRecordPaperStruct/getExamRecordPaperStruct?examRecordDataId=" + this.examRecordDataId);
                    this.paperStruct = s.data,
                        this.paperTotalScore = this.paperStruct.defaultPaper.questionGroupList.map(e => e.groupScore).reduce((e, t) => e + 1e3 * t, 0) / 1e3
                } catch (e) {
                    return window._hmt.push(["_trackEvent", "鍦ㄧ嚎鑰冭瘯姒傝椤甸潰", "鑾峰彇鑰冭瘯姒傝淇℃伅寮傚父", e.response ? e.response.data.desc : e]),
                        this.logger({
                            page: "鍦ㄧ嚎鑰冭瘯姒傝椤甸潰",
                            action: "鑾峰彇鑰冭瘯姒傝淇℃伅寮傚父"
                        }),
                        void this.$router.back()
                }
                document.body.style = ""
            },
            beforeDestroy() {
                clearInterval(this.intervalId)
            },
            methods: {
                gotoPaperClicked() {
                    this.logger({
                        page: "鍦ㄧ嚎鑰冭瘯姒傝椤甸潰",
                        button: "寮€濮嬭€冭瘯",
                        action: "鐐瑰嚮"
                    }),
                        this.goToPaper()
                },
                goToPaper() {
                    this.$router.replace(`/online-exam/exam/${this.$route.params.examId}/examRecordData/${this.examRecordDataId}/order/1`)
                }
            }
        }
            , Xe = Je
            , Ye = (s("8489"),
                s("4053"),
                Object(l["a"])(Xe, He, ze, !1, null, "f9b6bc56", null))
            , Ze = Ye.exports
            , et = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.exam && e.examQuestion() ? s("div", {
                    key: e.exam.id,
                    staticClass: "container"
                }, [s("div", {
                    staticClass: "header"
                }, [s("RemainTime"), s("div", {
                    staticStyle: {
                        display: "flex",
                        "flex-direction": "column"
                    }
                }, [s("div", {
                    staticStyle: {
                        "margin-bottom": "12px"
                    }
                }, [e._v(e._s(e.courseName))]), s("OverallProgress", {
                    attrs: {
                        "exam-question-list": e.examQuestionList
                    }
                })], 1), s("div", [e._v(" " + e._s(e.$store.state.user.displayName) + " - " + e._s(e.$store.state.user.studentCodeList.join(",")) + " ")]), s("QuestionFilters", {
                    attrs: {
                        "exam-question-list": e.examQuestionList
                    }
                }), s("Button", {
                    staticClass: "qm-primary-button",
                    on: {
                        click: e.submitPaper
                    }
                }, [e._v("浜ゅ嵎")])], 1), s("div", {
                    staticClass: "main",
                    attrs: {
                        id: "examing-home-question"
                    }
                }, [s("QuestionView", {
                    attrs: {
                        "exam-question": e.examQuestion()
                    }
                }), s("ArrowNavView", {
                    attrs: {
                        "previous-question-order": e.previousQuestionOrder,
                        "next-question-order": e.nextQuestionOrder
                    }
                })], 1), s("div", {
                    class: ["side"]
                }, [s("div", {
                    class: ["question-nav"]
                }, [s("QuestionNavView", {
                    attrs: {
                        "paper-struct": e.paperStruct
                    }
                })], 1), e.faceEnable && e.startVideoAfterDelay ? s("div", {
                    staticClass: "camera",
                    style: {
                        display: e.showFaceMotion ? "none" : "block"
                    }
                }, [e.faceEnable ? s("FaceRecognition", {
                    attrs: {
                        width: "400",
                        height: "300",
                        "show-recognize-button": !1
                    }
                }) : e._e()], 1) : e._e(), e.faceEnable && !e.startVideoAfterDelay ? s("div", {
                    staticClass: "camera"
                }, [e._m(0)]) : e._e()]), s("Modal", {
                    attrs: {
                        "mask-closable": !1,
                        closable: !1,
                        width: "800",
                        styles: {
                            top: "10px"
                        }
                    },
                    model: {
                        value: e.showFaceId,
                        callback: function (t) {
                            e.showFaceId = t
                        },
                        expression: "showFaceId"
                    }
                }, [e.showFaceId ? s("FaceId", {
                    on: {
                        "close-faceid": e.closeFaceId
                    }
                }) : e._e(), s("p", {
                    attrs: {
                        slot: "footer"
                    },
                    slot: "footer"
                })], 1), s("Modal", {
                    attrs: {
                        "mask-closable": !1,
                        closable: !1,
                        width: "800",
                        styles: {
                            top: "10px"
                        }
                    },
                    model: {
                        value: e.showFaceMotion,
                        callback: function (t) {
                            e.showFaceMotion = t
                        },
                        expression: "showFaceMotion"
                    }
                }, [e.showFaceMotion ? s("FaceMotion", {
                    on: {
                        "close-face-motion": e.closeFaceMotion
                    }
                }) : e._e(), s("p", {
                    attrs: {
                        slot: "footer"
                    },
                    slot: "footer"
                })], 1), e.faceEnable && e.startVideoAfterDelay && e.PRODUCTION ? s("FaceTracking") : e._e(), e.disableExamingBecauseRemoteApp ? s("div", {
                    staticStyle: {
                        top: "0",
                        left: "0",
                        width: "100vw",
                        height: "100vh",
                        "background-color": "rgba(77, 77, 77, 0.75)",
                        "z-index": "100",
                        position: "absolute"
                    }
                }, [s("h3", {
                    staticStyle: {
                        "margin-top": "80px"
                    }
                }, [e._v("璇峰叧闂繙绋嬫闈㈣蒋浠跺啀杩涜鑰冭瘯锛�")]), s("Button", {
                    on: {
                        click: e.checkRemoteAppClicked
                    }
                }, [e._v("纭宸插叧闂繙绋嬫闈㈣蒋浠�")])], 1) : e._e()], 1) : s("div", [e._v(" 姝ｅ湪绛夊緟鏁版嵁杩斿洖... "), e.timeouted ? s("Button", {
                    staticClass: "qm-primary-button",
                    on: {
                        click: e.reloadPage
                    }
                }, [e._v(" 閲嶈瘯 ")]) : e._e()], 1)
            }
            , tt = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticStyle: {
                        width: "400px",
                        height: "300px",
                        border: "1px solid lightgrey",
                        display: "flex",
                        "align-items": "center",
                        "justify-content": "center"
                    }
                }, [s("div", [e._v("姝ｅ湪鎵撳紑鎽勫儚澶�...")])])
            }
            ]
            , st = (s("c1f9"),
                function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("div", {
                        staticClass: "remain-time"
                    }, [s("span", {
                        staticStyle: {
                            "font-size": "14px"
                        }
                    }, [e._v("鍓╀綑鏃堕棿")]), s("br"), s("span", {
                        class: ["enhanced-remain-time", e.enhancedRemainTime && "animated infinite pulse"]
                    }, [e._v(" " + e._s(e.remainTimeFormatted) + " ")])])
                }
            )
            , it = [];
        const { mapMutations: at } = Object(w["a"])("examingHomeModule");
        var ot = {
            name: "RemainTime",
            data() {
                return {
                    remainTime: null,
                    enhancedRemainTime: !0
                }
            },
            computed: {
                remainTimeFormatted: function () {
                    return this.remainTime ? W.a.utc(this.remainTime).format("HH:mm:ss") : "璁＄畻涓�"
                }
            },
            watch: {
                remainTime(e) {
                    null !== e && 0 === e && this.setShouldSubmitPaper(),
                        this.updateRemainTime(e)
                }
            },
            async mounted() {
                if (this.heartbeatErrorNum = 0,
                    "OnlineExamingHome" === this.$route.name)
                    try {
                        await this.$httpPostRetry("/api/ecs_oe_student/examControl/startAnswer?examRecordDataId=" + this.$route.params.examRecordDataId)
                    } catch (e) {
                        const t = "/startAnswer 鍑洪敊";
                        return this.logout("?LogoutReason=" + t),
                            void Object(Z["b"])({
                                error: t
                            })
                    }
                await this.getRemainTimeFromServer(),
                    this.heartbeatInterval = setInterval(() => {
                        this.getRemainTimeFromServer()
                    }
                        , 6e4),
                    this.remainTimeInterval = setInterval(() => {
                        this.remainTime > 0 && (this.remainTime = this.remainTime - 1e3),
                            this.remainTime < 0 && (this.remainTime = 0)
                    }
                        , 1e3),
                    this.__count = 10,
                    this.enhancedRemainTimeInterval = setInterval(() => {
                        this.__count-- <= 0 && (this.enhancedRemainTime = !1,
                            clearInterval(this.enhancedRemainTimeInterval))
                    }
                        , 1e3)
            },
            beforeDestroy() {
                this.clearIntervals()
            },
            methods: Object(p["a"])(Object(p["a"])({}, at(["setShouldSubmitPaper", "updateRemainTime"])), {}, {
                async getRemainTimeFromServer() {
                    if ("OnlineExamingHome" === this.$route.name)
                        try {
                            const e = await this.$http.get("/api/ecs_oe_student/examControl/examHeartbeat");
                            this.logger({
                                action: "鍙戝嚭蹇冭烦",
                                response: e.data
                            }),
                                /\d+/.test(e.data) ? (e.data <= 0 && this.setShouldSubmitPaper(),
                                    this.remainTime = e.data,
                                    console.log("閲嶇疆鍓╀綑鏃堕棿锛�", e.data),
                                    this.logger({
                                        action: "閲嶇疆鍓╀綑鏃堕棿锛�",
                                        response: e.data,
                                        diff: this.remainTime - e.data
                                    }),
                                    this.heartbeatErrorNum = 0) : (this.$Message.error({
                                        content: "鏈嶅姟鍣ㄨ繑鍥炵殑蹇冭烦缁撴灉涓嶆槸鏁板瓧",
                                        duration: 15,
                                        closable: !0
                                    }),
                                        this.logger({
                                            action: "鍙戝嚭蹇冭烦",
                                            error: "鏈嶅姟鍣ㄨ繑鍥炵殑蹇冭烦缁撴灉涓嶆槸鏁板瓧"
                                        }))
                        } catch (e) {
                            if (e.response && e.response.data && e.response.data.desc && e.response.data.desc.includes("浼氳瘽宸茶繃鏈�,璇风寮€鑰冭瘯") ? (window._hmt.push(["_trackEvent", "绛旈椤甸潰", "蹇冭烦", "澶辫触-浼氳瘽杩囨湡"]),
                                this.logger({
                                    action: "鍙戝嚭蹇冭烦",
                                    error: "蹇冭烦澶辫触",
                                    detail: "澶辫触-浼氳瘽杩囨湡",
                                    extraDetail: "鑰冭瘯鍓╀綑鏃堕棿锛�" + this.remainTime / 1e3
                                })) : (window._hmt.push(["_trackEvent", "绛旈椤甸潰", "蹇冭烦", "澶辫触"]),
                                    this.logger({
                                        action: "鍙戝嚭蹇冭烦",
                                        error: "蹇冭烦澶辫触",
                                        detail: "鑰冭瘯鍓╀綑鏃堕棿锛�" + this.remainTime / 1e3,
                                        errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                                        errorName: e.name,
                                        errorMessage: e.message,
                                        errorStack: e.stack
                                    })),
                                this.heartbeatErrorNum++,
                                this.heartbeatErrorNum >= 10) {
                                clearInterval(this.heartbeatInterval),
                                    clearInterval(this.remainTimeInterval),
                                    window._hmt.push(["_trackEvent", "绛旈椤甸潰", "蹇冭烦", "澶辫触10娆�-閫€鍑�"]),
                                    this.logger({
                                        action: "鍙戝嚭蹇冭烦",
                                        error: "蹇冭烦澶辫触",
                                        detail: "澶辫触10娆�-閫€鍑�"
                                    }),
                                    console.log("澶辫触10娆�-閫€鍑�");
                                let e = !1;
                                return this.$Modal.error({
                                    title: "缃戠粶杩炴帴寮傚父",
                                    content: "閫€鍑鸿€冭瘯",
                                    onOk: () => {
                                        e = !0,
                                            this.logout("?LogoutReason=蹇冭烦澶辫触10娆�-閫€鍑�-clicked")
                                    }
                                }),
                                    void (this.exitTimeout = setTimeout(() => {
                                        e || (this.$Modal.remove(),
                                            this.logout("?LogoutReason=蹇冭烦澶辫触10娆�-閫€鍑�-timeout"))
                                    }
                                        , 9e4))
                            }
                            this.retryHeartbeatTimeout = setTimeout(() => {
                                this.logger({
                                    action: "鍙戝嚭蹇冭烦",
                                    detail: "蹇冭烦澶辫触鍚庯紝鍐嶈繃10绉掞紝閲嶆柊鍙戝嚭蹇冭烦"
                                }),
                                    this.getRemainTimeFromServer()
                            }
                                , 1e4)
                        }
                },
                clearIntervals() {
                    clearInterval(this.heartbeatInterval),
                        clearInterval(this.remainTimeInterval),
                        clearTimeout(this.retryHeartbeatTimeout),
                        clearInterval(this.enhancedRemainTimeInterval),
                        clearTimeout(this.exitTimeout)
                }
            })
        }
            , nt = ot
            , rt = (s("6fb0"),
                Object(l["a"])(nt, st, it, !1, null, "45b9c9e6", null))
            , ct = rt.exports
            , lt = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "progress-container"
                }, [s("Progress", {
                    staticStyle: {
                        color: "black"
                    },
                    attrs: {
                        percent: e.progressNum,
                        "stroke-width": 20,
                        status: "active",
                        "hide-info": ""
                    }
                }), s("span", [e._v(e._s(e.progress))])], 1)
            }
            , dt = []
            , ut = {
                name: "OverallProgress",
                props: {
                    examQuestionList: {
                        type: Array,
                        default() {
                            return []
                        }
                    }
                },
                data() {
                    return {}
                },
                computed: {
                    progressNum() {
                        return this.examQuestionList.filter(e => null !== e.studentAnswer).length / this.examQuestionList.length * 100
                    },
                    progress: function () {
                        return `${this.examQuestionList.filter(e => null !== e.studentAnswer).length} / ${this.examQuestionList.length}`
                    }
                }
            }
            , ht = ut
            , mt = (s("287f"),
                s("2df4"),
                Object(l["a"])(ht, lt, dt, !1, null, "2aa30e6e", null))
            , pt = mt.exports
            , _t = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "q-filters"
                }, [s("div", {
                    class: "ALL" == e.questionFilterType && "selected-type",
                    on: {
                        click: function (t) {
                            return e.updateQuestionFilter("ALL")
                        }
                    }
                }, [e._v(" 鍏ㄩ儴 "), s("span", {
                    staticClass: "all-type"
                }, [e._v(e._s(e.all))])]), s("div", {
                    class: "ANSWERED" == e.questionFilterType && "selected-type",
                    on: {
                        click: function (t) {
                            return e.updateQuestionFilter("ANSWERED")
                        }
                    }
                }, [e._v(" 宸茬瓟 "), s("span", {
                    staticClass: "answered-type"
                }, [e._v(e._s(e.answered))])]), s("div", {
                    class: "SIGNED" == e.questionFilterType && "selected-type",
                    on: {
                        click: function (t) {
                            return e.updateQuestionFilter("SIGNED")
                        }
                    }
                }, [e._v(" 鏍囪 "), s("span", {
                    staticClass: "signed-type"
                }, [e._v(e._s(e.signed))])]), s("div", {
                    class: "UNANSWERED" == e.questionFilterType && "selected-type",
                    on: {
                        click: function (t) {
                            return e.updateQuestionFilter("UNANSWERED")
                        }
                    }
                }, [e._v(" 鏈瓟 "), s("span", {
                    staticClass: "unanswered-type"
                }, [e._v(e._s(e.unanswered))])])])
            }
            , gt = [];
        const { mapState: wt, mapMutations: ft } = Object(w["a"])("examingHomeModule");
        var vt = {
            name: "QuestionFilters",
            props: {
                examQuestionList: {
                    type: Array,
                    default() {
                        return []
                    }
                }
            },
            data() {
                return {}
            },
            computed: Object(p["a"])(Object(p["a"])({}, wt(["questionFilterType"])), {}, {
                all: function () {
                    return this.examQuestionList.length
                },
                answered: function () {
                    return this.examQuestionList.filter(e => null !== e.studentAnswer).length
                },
                signed: function () {
                    return this.examQuestionList.filter(e => e.isSign).length
                },
                unanswered: function () {
                    return this.examQuestionList.filter(e => null === e.studentAnswer).length
                }
            }),
            methods: Object(p["a"])({}, ft(["updateQuestionFilter"]))
        }
            , yt = vt
            , bt = (s("0f90"),
                Object(l["a"])(yt, _t, gt, !1, null, "31c1df50", null))
            , xt = bt.exports
            , Et = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "question-container"
                }, [s("div", {
                    staticClass: "question-header"
                }, [s("Icon", {
                    staticClass: "star",
                    style: {
                        color: "#ffcc00"
                    },
                    attrs: {
                        type: e.examQuestion.isSign ? "ios-star" : "ios-star-outline"
                    },
                    on: {
                        click: e.toggleSign
                    }
                }), e.examQuestion.getQuestionContent ? s("question-index", {
                    attrs: {
                        "exam-question": e.examQuestion
                    }
                }) : e._e()], 1), e.parentQuestionBody ? s("split-pane", {
                    attrs: {
                        "min-percent": 10,
                        "default-percent": e.parentPaneHeight,
                        split: "horizontal"
                    }
                }, [s("template", {
                    slot: "paneL"
                }, [e.parentQuestionBody ? s("div", {
                    staticClass: "question-view parent-question"
                }, [s("question-body", {
                    key: e.examQuestion.questionId,
                    staticStyle: {
                        "margin-bottom": "20px"
                    },
                    attrs: {
                        "question-body": e.parentQuestionBody,
                        "exam-question": e.examQuestion
                    }
                })], 1) : e._e()]), s("template", {
                    slot: "paneR"
                }, [s("QuestionViewSingle", {
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })], 1)], 2) : e._e(), e.parentQuestionBody ? e._e() : s("QuestionViewSingle", {
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                }), e.examQuestion.getQuestionContent ? e._e() : s("div", [e._v("璇曢鑾峰彇涓�...")])], 1)
            }
            , St = []
            , Ct = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "container"
                }, [e._v(" " + e._s(e.sectionChinese) + "銆�" + e._s(e.examQuestion.groupName) + "锛�" + e._s(e.examQuestion.groupOrder) + " / " + e._s(e.examQuestion.groupTotal) + "锛� ")])
            }
            , Ot = []
            , It = s("ca00")
            , kt = {
                name: "QuestionIndex",
                props: {
                    examQuestion: {
                        type: Object,
                        default() {
                            return {}
                        }
                    }
                },
                computed: {
                    sectionChinese() {
                        return Object(It["i"])(this.examQuestion.mainNumber)
                    }
                }
            }
            , Tt = kt
            , At = (s("1c71"),
                Object(l["a"])(Tt, Ct, Ot, !1, null, "5b5e7352", null))
            , Pt = At.exports
            , Mt = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.questionDetail ? s("div", {
                    key: e.examQuestion.questionId,
                    staticClass: "question-body"
                }, [s("QuestionContainer", {
                    attrs: {
                        node: e.questionDetail.container,
                        "exam-question": e.examQuestion
                    }
                })], 1) : s("div", [e._v("鑾峰彇璇曢涓�...")])
            }
            , Dt = []
            , Rt = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [e._l(e.node.childNodes, (function (t, i) {
                    return ["audio-placeholder" === t.className ? [s("div", {
                        key: i,
                        staticClass: "audio-div",
                        staticStyle: {
                            position: "relative",
                            "font-size": "18px",
                            "word-break": "break-word",
                            "background-color": "lightblue",
                            "border-radius": "4px",
                            "padding-left": "2px",
                            "padding-top": "2px"
                        }
                    }, [s("QuestionAudio", {
                        attrs: {
                            name: t.getAttribute("data-name"),
                            src: t.getAttribute("data-src"),
                            "play-count": e.examQuestion.limitedPlayTimes ? e.getAudioPlayedTimes(t.getAttribute("data-name")) : 1
                        },
                        on: {
                            played: function (s) {
                                e.played(t.getAttribute("data-name"))
                            }
                        }
                    }), e.examQuestion.limitedPlayTimes ? s("span", [e._v(" 锛�"), s("span", {
                        staticStyle: {
                            color: "red"
                        }
                    }, [e._v("璇风偣鍑绘挱鏀�")]), e._v("鎸夐挳鍚煶浣滅瓟銆傚凡鎾鏁帮細"), s("span", {
                        staticStyle: {
                            color: "red"
                        }
                    }, [e._v(e._s(e.examQuestion.limitedPlayTimes - e.getAudioPlayedTimes(t.getAttribute("data-name"))))]), e._v("锛屽墿浣欐挱鏀炬鏁帮細"), s("span", {
                        staticStyle: {
                            color: "red"
                        }
                    }, [e._v(e._s(e.getAudioPlayedTimes(t.getAttribute("data-name"))))]), e._v("锛� ")]) : e._e(), e.audioInPlay.has(t.getAttribute("data-name")) ? s("div", {
                        staticStyle: {
                            position: "absolute",
                            top: "0",
                            right: "0",
                            bottom: "0",
                            left: "0"
                        }
                    }) : e._e()], 1)] : 3 == t.nodeType ? [e._v(" " + e._s(t.nodeValue) + " ")] : t.childNodes && t.querySelector && t.querySelector(".audio-placeholder") ? [s("QuestionContainer", {
                        key: i,
                        attrs: {
                            node: t,
                            "exam-question": e.examQuestion,
                            "audio-in-play": e.audioInPlay
                        }
                    })] : s("span", {
                        key: i,
                        domProps: {
                            innerHTML: e._s(t.outerHTML)
                        }
                    })]
                }))], 2)
            }
            , Lt = []
            , qt = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("span", {
                    staticClass: "a-container",
                    staticStyle: {
                        display: "inline-flex",
                        "align-items": "center"
                    }
                }, [s("span", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.shouldShowAudio,
                        expression: "shouldShowAudio"
                    }],
                    on: {
                        click: function (t) {
                            return t.stopPropagation(),
                                e.play(t)
                        }
                    }
                }, [e.playing ? s("Button", {
                    staticClass: "pause",
                    staticStyle: {
                        cursor: "not-allowed"
                    },
                    attrs: {
                        type: "primary",
                        shape: "circle",
                        icon: "md-pause"
                    }
                }) : s("Button", {
                    staticClass: "play",
                    staticStyle: {
                        "padding-left": "5px"
                    },
                    attrs: {
                        type: "primary",
                        shape: "circle",
                        icon: "md-play",
                        disabled: 0 === e.playCount
                    }
                })], 1), s("span", {
                    staticStyle: {
                        "padding-left": "2px"
                    }
                }), s("span", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.shouldShowAudio,
                        expression: "shouldShowAudio"
                    }],
                    staticStyle: {
                        color: "red"
                    }
                }, [e._v(" " + e._s(e.formatTime(e.currentTime)) + " / " + e._s(e.formatTime(e.duration)) + " ")]), e.shouldShowAudio ? e._e() : s("span", {
                    staticStyle: {
                        color: "blueviolet"
                    }
                }, [e._v(" 闊抽涓嬭浇涓�" + e._s(e.downloadPercent) + "% ")])])
            }
            , jt = []
            , Nt = {
                name: "QuestionAudio",
                props: {
                    src: {
                        type: String,
                        required: !0
                    },
                    name: {
                        type: String,
                        required: !0
                    },
                    playCount: {
                        type: Number,
                        required: !0
                    }
                },
                data() {
                    return {
                        done: !1,
                        downloadPercent: 0,
                        currentTime: 0,
                        duration: 0,
                        playing: !1,
                        context: null,
                        buffer: null
                    }
                },
                computed: {
                    shouldShowAudio() {
                        return 100 === this.downloadPercent
                    }
                },
                async created() {
                    this.loadData()
                },
                beforeDestroy() {
                    this.source && this.source.stop(),
                        this.context && (this.context.close(),
                            this.context = null)
                },
                methods: {
                    formatTime(e) {
                        return W.a.utc(1e3 * e).format("mm:ss")
                    },
                    loadData() {
                        this.context = new AudioContext,
                            this.buffer;
                        const e = e => {
                            var t = new XMLHttpRequest;
                            t.open("GET", e, !0),
                                t.responseType = "arraybuffer",
                                t.onload = () => {
                                    this.context.decodeAudioData(t.response, e => {
                                        this.buffer = e,
                                            this.duration = Math.floor(this.buffer.duration),
                                            this.downloadPercent = 100
                                    }
                                        , () => {
                                            console.log("error load audio")
                                        }
                                    )
                                }
                                ,
                                t.onprogress = e => {
                                    this.downloadPercent = Number(e.loaded / e.total * 100).toFixed(2)
                                }
                                ,
                                t.send()
                        }
                            ;
                        e(this.src)
                    },
                    async play() {
                        if (this.playCount <= 0)
                            return void console.log("鏃犳挱鏀炬鏁�");
                        if (this.playing)
                            return void console.log("姝ｅ湪鎾斁锛屾棤娉曟殏鍋�");
                        this.$emit("played"),
                            this.context.close(),
                            this.context = new AudioContext,
                            this.source = this.context.createBufferSource(),
                            this.source.buffer = this.buffer,
                            this.source.connect(this.context.destination),
                            this.source.start(0),
                            this.playing = !0,
                            this.currentTime = 0;
                        const e = () => {
                            this.currentTime = Math.floor(this.context.currentTime),
                                this.context.currentTime < this.buffer.duration ? requestAnimationFrame(e) : this.context.currentTime >= this.buffer.duration && (this.currentTime = 0,
                                    requestAnimationFrame(e))
                        }
                            ;
                        requestAnimationFrame(e),
                            this.source.onended = () => {
                                this.playing = !1,
                                    this.currentTime = 0
                            }
                    }
                }
            }
            , Bt = Nt
            , $t = (s("9584"),
                Object(l["a"])(Bt, qt, jt, !1, null, "0c676d4b", null))
            , Ft = $t.exports;
        const { mapState: Ut, mapMutations: Qt } = Object(w["a"])("examingHomeModule");
        var Wt = {
            name: "QuestionContainer",
            components: {
                QuestionAudio: Ft
            },
            props: {
                node: {
                    type: HTMLElement,
                    default: () => { }
                },
                examQuestion: {
                    type: Object,
                    default: () => { }
                },
                audioInPlay: {
                    type: Set,
                    default: () => new Set
                }
            },
            computed: Object(p["a"])({}, Ut(["allAudioPlayTimes"])),
            methods: Object(p["a"])(Object(p["a"])({}, Qt(["updateExamQuestion", "updateQuestionAudioPlayTimes"])), {}, {
                played(e) {
                    if (!this.examQuestion.limitedPlayTimes)
                        return !1;
                    console.log("寮€濮嬫挱鏀�"),
                        this.updateQuestionAudioPlayTimes(e)
                },
                getAudioPlayedTimes(e) {
                    return Math.max(this.examQuestion.limitedPlayTimes - (this.allAudioPlayTimes.find(t => t.name === e) || {
                        times: 0
                    }).times, 0)
                }
            })
        }
            , Vt = Wt
            , Ht = Object(l["a"])(Vt, Rt, Lt, !1, null, null, null)
            , zt = Ht.exports;
        const { mapState: Kt, mapMutations: Gt } = Object(w["a"])("examingHomeModule");
        var Jt = {
            name: "QuestionBody",
            components: {
                QuestionContainer: zt
            },
            props: {
                questionBody: {
                    type: String,
                    default: ""
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    questionDetail: null,
                    audioPlayTimes: null,
                    audioInPlay: new Set
                }
            },
            computed: Object(p["a"])({}, Kt(["allAudioPlayTimes"])),
            watch: {
                questionBody() {
                    this.parseQuestion()
                },
                examQuestion() {
                    this.parseQuestion()
                }
            },
            mounted() {
                this.parseQuestion()
            },
            methods: Object(p["a"])(Object(p["a"])({}, Gt(["updateExamQuestion", "updateQuestionAudioPlayTimes"])), {}, {
                async parseQuestion() {
                    let e = {};
                    const t = document.createElement("div");
                    if (this.questionBody.includes("question-audio")) {
                        let t, s;
                        e.text = this.questionBody.replace(/<a.*?name="([^"]*)".*?question-audio.*?url="([^"]*)".*?\/a>/g, "<span class='audio-placeholder' data-name='$1' data-src='$2'></span>"),
                            e.audio = [],
                            /<a.*?question-audio.*?\/a>/.test(this.questionBody) && (t = /name="([^"]*)".*?question-audio.*?url="([^"]*)"/g);
                        while (null !== (s = t.exec(this.questionBody)))
                            e.audio.push({
                                name: s[1],
                                src: s[2]
                            })
                    } else
                        e.text = this.questionBody,
                            e.audio = [];
                    t.innerHTML = e.text,
                        e.container = t,
                        this.questionDetail = e
                }
            })
        }
            , Xt = Jt
            , Yt = (s("ccab"),
                Object(l["a"])(Xt, Mt, Dt, !1, null, null, null))
            , Zt = Yt.exports
            , es = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("transition", {
                    attrs: {
                        name: "fade"
                    }
                }, [s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.question && e.examQuestion && e.examQuestion.getQuestionContent,
                        expression: "question && examQuestion && examQuestion.getQuestionContent"
                    }],
                    key: e.examQuestion.order,
                    staticClass: "question-view"
                }, [s("div", {
                    staticStyle: {
                        "margin-bottom": "-45px"
                    }
                }, [e._v(e._s(e.examQuestion.groupOrder) + "銆�")]), e.question && "SINGLE_CHOICE" === e.question.questionType && "SINGLE_CHOICE" === e.examQuestion.questionType ? [s("single-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e(), e.question && "MULTIPLE_CHOICE" === e.question.questionType && "MULTIPLE_CHOICE" === e.examQuestion.questionType ? [s("multiple-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e(), e.question && "TRUE_OR_FALSE" === e.question.questionType && "TRUE_OR_FALSE" === e.examQuestion.questionType ? [s("boolean-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e(), e.question && "FILL_UP" === e.question.questionType && "FILL_UP" === e.examQuestion.questionType ? [s("fill-blank-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e(), e.question && "ESSAY" === e.question.questionType && "ESSAY" === e.examQuestion.questionType ? [s("text-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e()], 2)])
            }
            , ts = []
            , ss = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState && "SINGLE_CHOICE" === e.examQuestion.questionType ? s("div", {
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.questionBody,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "stu-answer"
                }, [e._v(e._s(e.oldIndexToABCD))]), s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "鍒�)")])]), e._l(e.newQuestionOptions, (function (t, i) {
                    return s("div", {
                        key: i,
                        staticClass: "option",
                        on: {
                            click: function () {
                                e.answerQuestion(t.oldIndex)
                            }
                        }
                    }, [s("div", {
                        class: e.studentAnswer === t.oldIndex && "row-selected",
                        staticStyle: {
                            display: "flex"
                        }
                    }, [s("div", [s("input", {
                        staticStyle: {
                            "margin-top": "3px",
                            display: "block"
                        },
                        attrs: {
                            type: "radio",
                            name: "question"
                        },
                        domProps: {
                            value: t.oldIndex,
                            checked: e.studentAnswer === t.oldIndex
                        }
                    })]), s("span", {
                        staticStyle: {
                            padding: "0 10px"
                        }
                    }, [e._v(e._s(e.optionName[i]) + ": ")]), t.value ? s("div", {
                        staticClass: "question-options"
                    }, [s("question-body", {
                        attrs: {
                            "question-body": t.value.body,
                            "exam-question": e.examQuestion
                        }
                    })], 1) : e._e()])])
                })), s("div", {
                    staticClass: "reset"
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 鏄剧ず绛旀 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 姝ｇ‘绛旀锛� "), s("div", [e._v(e._s(e.rightAnswerTransform))])]) : e._e()])], 2) : e._e()
            }
            , is = [];
        const { mapMutations: as, mapGetters: os } = Object(w["a"])("examingHomeModule")
            , ns = "ABCDEFGHIJ".split("");
        var rs = {
            name: "SingleQuestionView",
            components: {
                QuestionBody: Zt
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    questionBody: this.question.body,
                    optionName: ns,
                    studentAnswer: this.examQuestion.studentAnswer,
                    isShowAnswer: !1
                }
            },
            computed: {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                newQuestionOptions() {
                    return this.question.questionOptionList.map((e, t) => ({
                        value: this.question.questionOptionList[this.examQuestion.optionPermutation[t]],
                        oldIndex: "" + this.examQuestion.optionPermutation[t],
                        name: ns[t]
                    }))
                },
                oldIndexToABCD() {
                    return this.examQuestion.studentAnswer && this.newQuestionOptions.filter(e => this.examQuestion.studentAnswer.includes(e.oldIndex)).map(e => e.name).join("")
                },
                rightAnswerTransform() {
                    return this.question.rightAnswer && this.newQuestionOptions.filter(e => this.question.rightAnswer.includes(e.oldIndex)).map(e => e.name).join("")
                }
            },
            watch: {
                examQuestion: function (e) {
                    this.studentAnswer = e.studentAnswer
                },
                question(e) {
                    this.questionBody = e.body
                }
            },
            created: function () {
                window.addEventListener("keyup", this.keyup)
            },
            beforeDestroy() {
                window.removeEventListener("keyup", this.keyup)
            },
            beforeUpdate() {
                this.answerQuestion(this.studentAnswer)
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, as(["updateExamQuestion"])), os(["examShouldShowAnswer"])), {}, {
                keyup(e) {
                    (["BODY", "A", "BUTTON", "DIV"].includes(document.activeElement.tagName) || ["INPUT"].includes(document.activeElement.tagName) && ["checkbox", "radio"].includes(document.activeElement.type)) && ns.map(e => "Key" + e).slice(0, this.question.questionOptionList.length).includes(e.code) && (window._hmt.push(["_trackEvent", "绛旈椤甸潰", "蹇嵎閿�", "ABCDE"]),
                        this.studentAnswer = this.newQuestionOptions.find(t => t.name == e.code[3]).oldIndex)
                },
                async answerQuestion(e) {
                    !1 !== this.isSyncState ? e !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                        order: this.examQuestion.order,
                        studentAnswer: e
                    }) : console.log("鏇存柊绛旀鏃讹紝闂涓庣瓟妗堢殑鍙风爜涓嶄竴鑷淬€�")
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                }
            })
        }
            , cs = rs
            , ls = (s("7e8b"),
                Object(l["a"])(cs, ss, is, !1, null, "504f9ae4", null))
            , ds = ls.exports
            , us = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState && "MULTIPLE_CHOICE" === e.examQuestion.questionType ? s("div", {
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.question.body,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "stu-answer"
                }, [e._v(e._s(e.oldIndexToABCD))]), s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "鍒�)")])]), e._l(e.newQuestionOptions, (function (t, i) {
                    return s("div", {
                        key: i,
                        staticClass: "option",
                        on: {
                            click: function (s) {
                                return e.toggleAnswer(t.oldIndex)
                            }
                        }
                    }, [s("div", {
                        class: e.studentAnswer.includes(t.oldIndex) && "row-selected",
                        staticStyle: {
                            display: "flex"
                        }
                    }, [s("input", {
                        staticStyle: {
                            "margin-top": "4px"
                        },
                        attrs: {
                            type: "checkbox",
                            name: "question",
                            value: "option.oldIndex"
                        },
                        domProps: {
                            checked: e.studentAnswer && e.studentAnswer.includes(t.oldIndex)
                        }
                    }), s("span", {
                        staticStyle: {
                            padding: "0 10px"
                        }
                    }, [e._v(e._s(e.optionName[i]) + ": ")]), t.value ? s("div", {
                        staticClass: "question-options"
                    }, [s("question-body", {
                        attrs: {
                            "question-body": t.value.body,
                            "exam-question": e.examQuestion
                        }
                    })], 1) : e._e()])])
                })), s("div", {
                    staticClass: "reset"
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 鏄剧ず绛旀 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 姝ｇ‘绛旀锛� "), s("div", [e._v(e._s(e.rightAnswerTransform))])]) : e._e()])], 2) : e._e()
            }
            , hs = [];
        const { mapMutations: ms, mapGetters: ps } = Object(w["a"])("examingHomeModule")
            , _s = "ABCDEFGHIJ".split("");
        var gs = {
            name: "MultipleQuestionView",
            components: {
                QuestionBody: Zt
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    questionBody: this.question.body,
                    optionName: _s,
                    studentAnswer: this.examQuestion.studentAnswer || "",
                    isShowAnswer: !1
                }
            },
            computed: {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                newQuestionOptions() {
                    return this.question.questionOptionList.map((e, t) => ({
                        value: this.question.questionOptionList[this.examQuestion.optionPermutation[t]],
                        oldIndex: "" + this.examQuestion.optionPermutation[t],
                        name: _s[t]
                    }))
                },
                oldIndexToABCD() {
                    return this.examQuestion.studentAnswer && this.newQuestionOptions.filter(e => this.examQuestion.studentAnswer.includes(e.oldIndex)).map(e => e.name).join("")
                },
                rightAnswerTransform() {
                    return this.question.rightAnswer && this.newQuestionOptions.filter(e => this.question.rightAnswer.includes(e.oldIndex)).map(e => e.name).join("")
                }
            },
            watch: {
                examQuestion: function () {
                    this.studentAnswer = this.examQuestion.studentAnswer || ""
                }
            },
            created: function () {
                window.addEventListener("keyup", this.keyup)
            },
            beforeDestroy() {
                window.removeEventListener("keyup", this.keyup)
            },
            beforeUpdate() {
                this.answerQuestion(this.studentAnswer)
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, ms(["updateExamQuestion"])), ps(["examShouldShowAnswer"])), {}, {
                keyup(e) {
                    if ((["BODY", "A", "BUTTON", "DIV"].includes(document.activeElement.tagName) || ["INPUT"].includes(document.activeElement.tagName) && ["checkbox", "radio"].includes(document.activeElement.type)) && _s.map(e => "Key" + e).slice(0, this.question.questionOptionList.length).includes(e.code)) {
                        window._hmt.push(["_trackEvent", "绛旈椤甸潰", "蹇嵎閿�", "ABCDE"]);
                        const t = "" + this.newQuestionOptions.find(t => t.name == e.code[3]).oldIndex;
                        this.studentAnswer.includes(t) ? this.studentAnswer = this.studentAnswer.replace(t, "") : this.studentAnswer = this.studentAnswer.concat(t).split("").sort().join("")
                    }
                },
                toggleAnswer: function (e) {
                    this.studentAnswer.includes(e) ? this.studentAnswer = this.studentAnswer.replace(e, "") : this.studentAnswer = this.studentAnswer.concat(e).split("").sort().join("")
                },
                async answerQuestion(e) {
                    if (!1 === this.isSyncState)
                        return void console.log("鏇存柊绛旀鏃讹紝闂涓庣瓟妗堢殑鍙风爜涓嶄竴鑷淬€�");
                    let t = e;
                    "" === e && (t = null),
                        t !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                            order: this.examQuestion.order,
                            studentAnswer: t
                        })
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                }
            })
        }
            , ws = gs
            , fs = (s("6745"),
                Object(l["a"])(ws, us, hs, !1, null, "6edf9d9e", null))
            , vs = fs.exports
            , ys = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState ? s("div", {
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.question.body,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "stu-answer"
                }, [e._v(" " + e._s({
                    true: "姝ｇ‘",
                    false: "閿欒"
                }[e.studentAnswer]) + " ")]), s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "鍒�)")])]), s("div", {
                    class: ["true" === e.studentAnswer && "row-selected", "option"],
                    on: {
                        click: function () {
                            return e.answerQuestion("true")
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        "margin-top": "3px",
                        display: "block"
                    },
                    attrs: {
                        type: "radio",
                        name: "question",
                        value: "true"
                    },
                    domProps: {
                        checked: "true" === e.studentAnswer
                    }
                }), s("span", {
                    staticClass: "question-options"
                }, [e._v("姝ｇ‘")])]), s("div", {
                    class: ["false" === e.studentAnswer && "row-selected", "option"],
                    on: {
                        click: function () {
                            return e.answerQuestion("false")
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        "margin-top": "3px",
                        display: "block"
                    },
                    attrs: {
                        type: "radio",
                        name: "question",
                        value: "false"
                    },
                    domProps: {
                        checked: "false" === e.studentAnswer
                    }
                }), s("span", {
                    staticClass: "question-options"
                }, [e._v("閿欒")])]), s("div", {
                    staticClass: "reset"
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 鏄剧ず绛旀 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 姝ｇ‘绛旀锛� "), s("div", [e._v(e._s({
                    true: "姝ｇ‘",
                    false: "閿欒"
                }[e.question.rightAnswer]))])]) : e._e()])], 1) : e._e()
            }
            , bs = [];
        const { mapMutations: xs, mapGetters: Es } = Object(w["a"])("examingHomeModule");
        var Ss = {
            name: "BooleanQuestionView",
            components: {
                QuestionBody: Zt
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    isShowAnswer: !1
                }
            },
            computed: {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                studentAnswer: e => e.examQuestion.studentAnswer
            },
            watch: {},
            created: function () {
                window.addEventListener("keyup", this.keyup)
            },
            beforeDestroy() {
                window.removeEventListener("keyup", this.keyup)
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, xs(["updateExamQuestion"])), Es(["examShouldShowAnswer"])), {}, {
                keyup(e) {
                    (["BODY", "A", "BUTTON", "DIV"].includes(document.activeElement.tagName) || ["INPUT"].includes(document.activeElement.tagName) && ["checkbox", "radio"].includes(document.activeElement.type)) && (window._hmt.push(["_trackEvent", "绛旈椤甸潰", "蹇嵎閿�", "YN"]),
                        "KeyY" === e.code && this.answerQuestion("true"),
                        "KeyN" === e.code && this.answerQuestion("false"))
                },
                async answerQuestion(e) {
                    !1 !== this.isSyncState ? e !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                        order: this.examQuestion.order,
                        studentAnswer: e
                    }) : console.log("鏇存柊绛旀鏃讹紝闂涓庣瓟妗堢殑鍙风爜涓嶄竴鑷淬€�")
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                }
            })
        }
            , Cs = Ss
            , Os = (s("e902"),
                Object(l["a"])(Cs, ys, bs, !1, null, "c0bec46c", null))
            , Is = Os.exports
            , ks = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState ? s("div", {
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.questionBody,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "鍒�)")])]), e._l(e.studentAnswer.split("##"), (function (t, i) {
                    return s("div", {
                        key: e.examQuestion.questionId + i,
                        staticClass: "option"
                    }, [s("span", {
                        staticClass: "question-options"
                    }, [e._v(e._s(i + 1) + ". ")]), s("input", {
                        staticClass: "input-answer",
                        attrs: {
                            type: "text",
                            maxlength: "5000",
                            name: "question"
                        },
                        domProps: {
                            value: t
                        },
                        on: {
                            input: e.inputAnswer
                        }
                    })])
                })), s("div", {
                    staticClass: "reset"
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 鏄剧ず绛旀 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 姝ｇ‘绛旀锛� "), s("div", {
                    staticClass: "right-answer-section",
                    domProps: {
                        innerHTML: e._s(e.rightAnswerTransform)
                    }
                })]) : e._e()])], 2) : e._e()
            }
            , Ts = [];
        const { mapMutations: As, mapGetters: Ps } = Object(w["a"])("examingHomeModule");
        var Ms = {
            name: "FillBlankQuestionView",
            components: {
                QuestionBody: Zt
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    studentAnswer: "",
                    questionBody: "",
                    isShowAnswer: !1
                }
            },
            computed: {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                rightAnswerTransform() {
                    return this.question.rightAnswer && this.question.rightAnswer.join("").split("##").map((e, t) => `${t + 1}銆�${e}<br>`).join("")
                }
            },
            watch: {
                question(e) {
                    this.questionBody = e.body,
                        this.prepareData()
                },
                studentAnswer() {
                    let e = null;
                    this.studentAnswer && this.studentAnswer.replace(/##/g, "").trim() && (e = this.studentAnswer.replace(/</gi, "&lt;").replace(/>/gi, "&gt;")),
                        e !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                            order: this.examQuestion.order,
                            studentAnswer: e
                        })
                }
            },
            created() {
                this.prepareData()
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, As(["updateExamQuestion"])), Ps(["examShouldShowAnswer"])), {}, {
                prepareData() {
                    const e = this.question.body.split(/_{5,}/).length - 1;
                    this.studentAnswer = this.examQuestion.studentAnswer || "##".repeat(e - 1);
                    const t = this.studentAnswer.replace(/</gi, "&lt;").replace(/>/gi, "&gt;").split("##");
                    this.questionBody = this.question.body.replace(/_{5,}/g, () => "<span style='display: inline-block; min-width: 80px; border-bottom: 1px solid black; text-align: center'>" + (t.shift() || e - t.length) + "</span>")
                },
                inputAnswer: function () {
                    const e = this.question.body.split(/_{5,}/).length - 1;
                    let t = "";
                    document.querySelectorAll(".option input").forEach(e => t += e.value + "##"),
                        this.studentAnswer = t.slice(0, -2);
                    const s = this.studentAnswer.replace(/</gi, "&lt;").replace(/>/gi, "&gt;").split("##");
                    this.questionBody = this.question.body.replace(/_{5,}/g, () => "<span style='display: inline-block; min-width: 80px; border-bottom: 1px solid black; text-align: center'>" + (s.shift() || e - s.length) + "</span>")
                },
                resetAnswer() {
                    this.updateExamQuestion({
                        order: this.examQuestion.order,
                        studentAnswer: null
                    }),
                        this.examQuestion.studentAnswer = null,
                        this.prepareData()
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                }
            })
        }
            , Ds = Ms
            , Rs = (s("f5d8"),
                s("93f8"),
                Object(l["a"])(Ds, ks, Ts, !1, null, "48f5d3e9", null))
            , Ls = Rs.exports
            , qs = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState ? s("div", {
                    key: e.answerDivKey,
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.question.body,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "鍒�)")])]), s("div", {
                    staticClass: "option"
                }, [e.isAudioAnswerType ? e._e() : s("div", [s("div", {
                    staticClass: "menu"
                }, [s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textCopy
                    }
                }, [e._v(" 澶嶅埗 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textCut
                    }
                }, [e._v(" 鍓垏 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textPaste
                    }
                }, [e._v(" 绮樿创 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textSup
                    }
                }, [e._v(" 涓婃爣 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.undoTextSup
                    }
                }, [e._v(" 鍙栨秷涓婃爣 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textSub
                    }
                }, [e._v(" 涓嬫爣 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.undoTextSup
                    }
                }, [e._v(" 鍙栨秷涓嬫爣 ")])], 1), s("div", {
                    ref: "answerDiv",
                    staticClass: "stu-answer",
                    attrs: {
                        ondragstart: "return false",
                        ondrop: "return false",
                        contenteditable: !0
                    },
                    domProps: {
                        innerHTML: e._s(e.originalStudentAnswer)
                    },
                    on: {
                        keydown: e.disableCtrl,
                        input: function (t) {
                            return e.textInput(t)
                        },
                        blur: function (t) {
                            return e.textInput(t)
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "margin-top": "-25px",
                        "margin-bottom": "25px",
                        width: "100%",
                        "max-width": "500px"
                    }
                }, [s("div", {
                    staticStyle: {
                        float: "right",
                        "margin-right": "10px"
                    }
                }, [e._v(" " + e._s(e.answerWordCount) + " ")])])]), e.shouldFetchQrCode && e.isAudioAnswerType ? s("div", [s("div", [e.qrValue ? s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("qrcode", {
                    staticStyle: {
                        "margin-left": "-10px"
                    },
                    attrs: {
                        value: e.qrValue,
                        options: {
                            width: 200
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "margin-top": "10px"
                    }
                }, [s("div", [e._v(" 璇蜂娇鐢�"), s("span", {
                    staticStyle: {
                        "font-weight": "900",
                        color: "#1e90ff"
                    }
                }, [e._v("寰俊")]), e._v("鎵弿浜岀淮鐮佸悗锛屽湪寰俊灏忕▼搴忎笂" + e._s(e.isAudioAnswerType ? "褰曢煶" : "鎷嶇収") + "锛屽苟涓婁紶鏂囦欢銆� ")]), e.qrScanned ? s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        "font-size": "30px"
                    }
                }, [e._v(" " + e._s(e.examQuestion.studentAnswer ? "宸蹭笂浼�" : "宸叉壂鎻�") + " "), s("Icon", {
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : e._e()])], 1) : s("div", [e._v("姝ｅ湪鑾峰彇浜岀淮鐮�...")])]), s("div", {
                    staticClass: "audio-answer audio-answer-line-height",
                    staticStyle: {
                        "margin-top": "20px"
                    }
                }, [s("span", {
                    staticClass: "audio-answer-line-height"
                }, [e._v("绛旀锛�")]), e.examQuestion.studentAnswer ? s("audio", {
                    staticClass: "audio-answer-line-height",
                    attrs: {
                        controls: "",
                        controlsList: "nodownload",
                        src: e.examQuestion.studentAnswer
                    }
                }) : s("span", {
                    staticClass: "audio-answer-line-height"
                }, [e._v("鏈笂浼犳枃浠�")])])]) : e._e(), e.canAttachPhotos ? s("div", {
                    staticStyle: {
                        "padding-top": "1px"
                    }
                }, [s("UploadPhotos", {
                    staticStyle: {
                        "margin-top": "20px",
                        width: "350px"
                    },
                    attrs: {
                        "default-list": e.photoAnswers.map((function (e) {
                            return e
                        })),
                        "qr-value": e.qrValue,
                        "exam-question": e.examQuestion
                    },
                    on: {
                        "on-photo-added": e.photoAdded,
                        "on-photo-removed": e.photoRemoved,
                        "on-photos-reseted": e.photosReseted
                    }
                })], 1) : e._e(), s("div", {
                    staticClass: "reset",
                    staticStyle: {
                        "padding-top": "20px"
                    }
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 鏄剧ず绛旀 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 姝ｇ‘绛旀锛� "), s("div", {
                    domProps: {
                        innerHTML: e._s(e.rightAnswerTransform)
                    }
                })]) : e._e()])])], 1) : e._e()
            }
            , js = []
            , Ns = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [s("draggable", {
                    staticClass: "upload-images",
                    attrs: {
                        move: e.dragMove
                    },
                    on: {
                        update: e.uploadListSort
                    },
                    model: {
                        value: e.uploadList,
                        callback: function (t) {
                            e.uploadList = t
                        },
                        expression: "uploadList"
                    }
                }, [e._l(e.uploadList, (function (t, i) {
                    return s("div", {
                        key: t,
                        staticClass: "demo-upload-list"
                    }, [s("img", {
                        attrs: {
                            src: t
                        }
                    }), s("div", {
                        staticClass: "demo-upload-list-cover"
                    }, [s("Icon", {
                        attrs: {
                            type: "ios-eye-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (t) {
                                return e.handleView(".upload-images", i)
                            }
                        }
                    }), s("Icon", {
                        staticStyle: {
                            position: "absolute",
                            top: "0px"
                        },
                        attrs: {
                            type: "ios-trash-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (s) {
                                return e.handleRemove(t)
                            }
                        }
                    })], 1)])
                })), e.uploadList.length < 6 ? s("div", {
                    staticClass: "demo-upload-list plus",
                    on: {
                        click: e.prepareUpload
                    }
                }, [e._v(" + ")]) : e._e()], 2), e._m(0), s("Modal", {
                    attrs: {
                        title: "涓婁紶鍥剧墖",
                        mask: "",
                        "footer-hide": "",
                        "mask-closable": !1,
                        closable: !1,
                        width: "660"
                    },
                    model: {
                        value: e.uploadModalVisible,
                        callback: function (t) {
                            e.uploadModalVisible = t
                        },
                        expression: "uploadModalVisible"
                    }
                }, [s("div", [e.qrValue ? s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("qrcode", {
                    style: {
                        "margin-left": "-10px",
                        filter: e.totalList.length >= 6 ? "blur(10px)" : "none"
                    },
                    attrs: {
                        value: e.qrValue,
                        options: {
                            width: 200
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "font-size": "24px",
                        "margin-top": "10px"
                    }
                }, [s("div", [e._v(" 璇蜂娇鐢�"), s("span", {
                    staticStyle: {
                        "font-weight": "900",
                        color: "#1e90ff"
                    }
                }, [e._v("寰俊")]), e._v("鎵弿浜岀淮鐮佸悗锛屽湪寰俊灏忕▼搴忎笂鎷嶇収锛屽苟涓婁紶鏂囦欢銆�"), s("br"), e._v(" 涓婁紶鏈熼棿锛岃鍕垮叧闂簩缁寸爜銆� ")]), e.qrScanned ? s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        "font-size": "30px"
                    }
                }, [e._v(" " + e._s(e.uploaded ? "宸蹭笂浼�" : "宸叉壂鎻�") + " "), s("Icon", {
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : e._e()])], 1) : s("div", [e._v("姝ｅ湪鑾峰彇浜岀淮鐮�...")]), s("draggable", {
                    staticClass: "total-images",
                    on: {
                        start: function (t) {
                            e.drag = !0
                        },
                        end: function (t) {
                            e.drag = !1
                        }
                    },
                    model: {
                        value: e.totalList,
                        callback: function (t) {
                            e.totalList = t
                        },
                        expression: "totalList"
                    }
                }, e._l(e.totalList, (function (t, i) {
                    return s("div", {
                        key: t,
                        staticClass: "demo-upload-list"
                    }, [s("img", {
                        attrs: {
                            src: t
                        }
                    }), s("div", {
                        staticClass: "demo-upload-list-cover"
                    }, [s("Icon", {
                        attrs: {
                            type: "ios-eye-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (t) {
                                return e.handleView(".total-images", i)
                            }
                        }
                    }), s("Icon", {
                        staticStyle: {
                            position: "absolute",
                            top: "0px"
                        },
                        attrs: {
                            type: "ios-trash-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (s) {
                                return e.handleRemoveTotal(t)
                            }
                        }
                    })], 1)])
                })), 0), e.totalList.length > 6 ? s("div", [e._v("* 鍥剧墖涓婁紶鏈€澶氬彧鏀寔6寮�")]) : e._e(), s("div", {
                    staticStyle: {
                        display: "flex",
                        "justify-content": "center"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "primary",
                        size: "large"
                    },
                    on: {
                        click: e.modalCloseClicked
                    }
                }, [e._v(" 纭 ")])], 1)], 1)])], 1)
            }
            , Bs = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [e._v(" 鐐瑰嚮"), s("span", {
                    staticStyle: {
                        color: "blue",
                        "font-size": "24px"
                    }
                }, [e._v("+")]), e._v("涓婁紶鍥剧墖(鏈€澶氫笂浼�6寮犲浘鐗�) ")])
            }
            ]
            , $s = s("310e")
            , Fs = s.n($s)
            , Us = (s("0808"),
                s("c82c"))
            , Qs = s.n(Us);
        const { mapState: Ws, mapMutations: Vs } = Object(w["a"])("examingHomeModule");
        var Hs = {
            name: "UploadPhotos",
            components: {
                qrcode: K.a,
                draggable: Fs.a
            },
            props: {
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                defaultList: {
                    type: Array,
                    default() {
                        return []
                    }
                },
                qrValue: {
                    type: String,
                    default: ""
                }
            },
            data() {
                return {
                    visible: !1,
                    uploadModalVisible: !1,
                    rotate: 0,
                    uploadList: [],
                    totalList: [],
                    uploadUrl: "",
                    headers: {},
                    format: ["jpg", "jpeg", "png"],
                    qrScanned: !1,
                    uploaded: !1,
                    drag: !1
                }
            },
            computed: Object(p["a"])({}, Ws(["questionQrCodeScanned", "pictureAnswer"])),
            watch: {
                defaultList: {
                    handler: function () {
                        this.uploadList = this.defaultList
                    },
                    deep: !0
                },
                questionQrCodeScanned(e) {
                    e.order === this.examQuestion.order && (this.qrScanned = !0)
                },
                pictureAnswer(e) {
                    console.log("watch", e),
                        this.uploaded = !0,
                        e.order === this.examQuestion.order && this.totalList.push(...new Set(e.fileUrl.split(",")))
                },
                uploadModalVisible(e) {
                    this.updateUploadModalVisible(e)
                }
            },
            mounted() {
                this.uploadList = this.defaultList
            },
            methods: Object(p["a"])(Object(p["a"])({}, Vs(["updateUploadModalVisible"])), {}, {
                handleView(e, t) {
                    const s = new Qs.a(document.querySelector(e), {
                        container: "#app",
                        zIndex: 99999,
                        title: !1,
                        toolbar: {
                            zoomIn: 1,
                            zoomOut: 1,
                            oneToOne: 1,
                            reset: 1,
                            prev: 1,
                            play: {
                                show: 0,
                                size: "large"
                            },
                            next: 1,
                            rotateLeft: 1,
                            rotateRight: 1,
                            flipHorizontal: 1,
                            flipVertical: 1
                        },
                        ready() {
                            s.view(t)
                        },
                        hidden() {
                            s.destroy()
                        }
                    });
                    s.show()
                },
                handleRemove(e) {
                    this.$emit("on-photo-removed", e)
                },
                handleRemoveTotal(e) {
                    this.totalList.splice(this.totalList.indexOf(e), 1)
                },
                prepareUpload() {
                    this.uploadModalVisible = !0,
                        this.qrScanned = !1,
                        this.uploaded = !1,
                        this.totalList = [...this.uploadList]
                },
                modalCloseClicked() {
                    !this.qrScanned || this.uploaded ? this.totalList.length > 6 ? this.$Modal.warning({
                        title: "鍥剧墖鏁伴噺瓒呭嚭闄愬埗",
                        content: "璇峰垹闄ゅ浣欑殑鍥剧墖锛屽浘鐗囨€绘暟涓嶅簲璇ヨ秴杩�6寮�"
                    }) : (this.uploadModalVisible = !1,
                        this.$emit("on-photos-reseted", this.totalList)) : this.$Modal.confirm({
                            title: "纭鍏抽棴锛�",
                            content: "妫€娴嬪埌浜岀淮鐮佽鎵弿锛屼絾鏄浘鐗囨湭涓婁紶銆傚叧闂绐楀彛鍚庯紝灏嗕笉鍐嶆帴鍙楀皬绋嬪簭鍥剧墖涓婁紶銆�",
                            okText: "纭畾鍏抽棴",
                            cancelText: "鍙栨秷鍏抽棴",
                            onOk: () => {
                                this.uploadModalVisible = !1
                            }
                            ,
                            onCancel: () => { }
                        })
                },
                uploadListSort() {
                    this.$emit("on-photos-reseted", this.uploadList)
                },
                dragMove(e) {
                    return console.log(e),
                        !e.dragged.className.includes("plus")
                }
            })
        }
            , zs = Hs
            , Ks = (s("f9c5"),
                Object(l["a"])(zs, Ns, Bs, !1, null, "54a41920", null))
            , Gs = Ks.exports;
        const { mapMutations: Js, mapGetters: Xs, mapState: Ys } = Object(w["a"])("examingHomeModule");
        var Zs = {
            name: "TextQuestionView",
            components: {
                QuestionBody: Zt,
                UploadPhotos: Gs,
                qrcode: K.a
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    studentAnswer: this.examQuestion.studentAnswer,
                    originalStudentAnswer: this.examQuestion.studentAnswer,
                    isShowAnswer: !1,
                    answerDivKey: Math.random(),
                    qrValue: "",
                    qrScanned: !1
                }
            },
            computed: Object(p["a"])(Object(p["a"])({}, Ys(["exam", "questionQrCode", "questionQrCodeScanned"])), {}, {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                rightAnswerTransform() {
                    return this.question.rightAnswer.join("")
                },
                answerWordCount() {
                    if (this.studentAnswer && this.$refs.answerDiv)
                        return this.$refs.answerDiv.innerText.replace(/\s+/g, "").length;
                    {
                        const e = document.createElement("div");
                        return e.innerHTML = this.studentAnswer,
                            e.innerText.replace(/\s+/g, "").length
                    }
                },
                isAudioAnswerType() {
                    return "SINGLE_AUDIO" === this.examQuestion.answerType
                },
                shouldFetchQrCode() {
                    const e = this.exam.WEIXIN_ANSWER_ENABLED;
                    return e
                },
                canAttachPhotos() {
                    return this.exam.WEIXIN_ANSWER_ENABLED && !this.isAudioAnswerType
                },
                photoAnswers: {
                    get() {
                        if (!this.studentAnswer)
                            return [];
                        const e = document.createElement("div");
                        e.innerHTML = this.studentAnswer;
                        const t = e.querySelectorAll(".photo-answer");
                        return [...t].map(e => e.src.replace("?x-oss-process=image/resize,m_lfit,h_200,w_200", ""))
                    },
                    set(e) {
                        let t = e.map(e => `<a href='${e}' target='_blank' ><img class='photo-answer' src='${e + "?x-oss-process=image/resize,m_lfit,h_200,w_200"}' /></a>`);
                        const s = document.createElement("div");
                        s.innerHTML = this.studentAnswer || "";
                        const i = s.querySelectorAll(".photo-answers-block");
                        i && [...i].forEach(e => e.remove()),
                            s.innerHTML || 0 !== e.length ? (this.studentAnswer = s.innerHTML + `<div class='photo-answers-block'>${t.join("")}</div>`,
                                this.originalStudentAnswer = this.studentAnswer) : (this.studentAnswer = null,
                                    this.originalStudentAnswer = null)
                    }
                }
            }),
            watch: {
                examQuestion() {
                    this.studentAnswer = this.examQuestion.studentAnswer
                },
                questionQrCode(e) {
                    e.order === this.examQuestion.order && (this.qrValue = e.qrCode)
                },
                questionQrCodeScanned(e) {
                    e.order === this.examQuestion.order && (this.qrScanned = !0)
                },
                studentAnswer() {
                    let e = null;
                    this.studentAnswer && (e = this.studentAnswer.replace(/<sup><\/sup>/gi, "").replace(/<sub><\/sub>/gi, "").replace(/<script/gi, "&lt;script").replace(/script>/gi, "script&gt;")),
                        e !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                            order: this.examQuestion.order,
                            studentAnswer: e
                        })
                }
            },
            created() {
                this.fetchQRCode(),
                    this.fetchQRCodeInterval = setInterval(() => {
                        this.qrValue ? clearInterval(this.fetchQRCodeInterval) : this.fetchQRCode()
                    }
                        , 6e3)
            },
            beforeDestroy() {
                clearInterval(this.fetchQRCodeInterval)
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, Js(["updateExamQuestion"])), Xs(["examShouldShowAnswer"])), {}, {
                disableCtrl(e) {
                    return !(e.ctrlKey || e.metaKey || e.altKey) || (e.preventDefault(),
                        !1)
                },
                textCopy() {
                    var e = getSelection()
                        , t = e.getRangeAt(0);
                    this.copyNode = t.cloneContents()
                },
                textCut() {
                    var e = getSelection()
                        , t = e.getRangeAt(0);
                    this.copyNode = t.extractContents(),
                        this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                textPaste() {
                    var e = getSelection()
                        , t = e.getRangeAt(0);
                    t.deleteContents(),
                        t.insertNode(this.copyNode.cloneNode(!0)),
                        this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                textSup() {
                    const e = this.$refs.answerDiv.innerHTML + "";
                    getSelection().getRangeAt(0).surroundContents(document.createElement("sup")),
                        this.$refs.answerDiv.querySelector("sup sup, sub sub, sup sub, sub sup") ? (console.log("涓嶅厑璁稿灞備笂鏍囦笅鏍�"),
                            this.$refs.answerDiv.innerHTML = e) : this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                undoTextSup() {
                    getSelection().modify("extend", "left", "character");
                    let e = getSelection().getRangeAt(0);
                    var t = e.extractContents()
                        , s = new Text(t.textContent);
                    e.insertNode(s),
                        this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                textSub() {
                    const e = this.$refs.answerDiv.innerHTML + "";
                    getSelection().getRangeAt(0).surroundContents(document.createElement("sub")),
                        this.$refs.answerDiv.querySelector("sup sup, sub sub, sup sub, sub sup") ? (console.log("涓嶅厑璁稿灞備笂鏍囦笅鏍�"),
                            this.$refs.answerDiv.innerHTML = e) : this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                textInput(e) {
                    this.studentAnswer = e.target.innerHTML
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                },
                resetAnswer() {
                    this.studentAnswer = null,
                        this.originalStudentAnswer = null,
                        this.answerDivKey = Math.random()
                },
                async fetchQRCode() {
                    if (this.shouldFetchQrCode) {
                        const e = "SINGLE_AUDIO" === this.examQuestion.answerType ? "AUDIO" : "PIC"
                            , t = this.$route.params.examRecordDataId
                            , s = await this.$http.post("/api/ecs_oe_student/examControl/getQrCode", { examRecordDataId: t, order: +this.examQuestion.order, transferFileType: e, testEnv: !1 });
                        this.qrValue = s.data
                    }
                },
                photoAdded(e) {
                    this.photoAnswers = [...this.photoAnswers, e]
                },
                photoRemoved(e) {
                    this.photoAnswers = this.photoAnswers.filter(t => t !== e)
                },
                photosReseted(e) {
                    this.photoAnswers = [...e]
                }
            })
        }
            , ei = Zs
            , ti = (s("80a2"),
                s("2d57"),
                Object(l["a"])(ei, qs, js, !1, null, "47bf2d7a", null))
            , si = ti.exports
            , ii = {
                name: "QuestionViewSingle",
                components: {
                    SingleQuestionView: ds,
                    MultipleQuestionView: vs,
                    BooleanQuestionView: Is,
                    FillBlankQuestionView: Ls,
                    TextQuestionView: si
                },
                props: {
                    question: {
                        type: Object,
                        default() {
                            return {}
                        }
                    },
                    examQuestion: {
                        type: Object,
                        default() {
                            return {}
                        }
                    }
                }
            }
            , ai = ii
            , oi = (s("5366"),
                Object(l["a"])(ai, es, ts, !1, null, "16723c18", null))
            , ni = oi.exports
            , ri = s("19ab")
            , ci = s.n(ri);
        const { mapState: li, mapMutations: di } = Object(w["a"])("examingHomeModule");
        var ui = {
            name: "QuestionView",
            components: {
                QuestionIndex: Pt,
                QuestionBody: Zt,
                "split-pane": ci.a,
                QuestionViewSingle: ni
            },
            props: {
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    parentQuestionBody: null,
                    question: null,
                    parentPaneHeight: 50
                }
            },
            computed: Object(p["a"])({}, li(["examQuestionList"])),
            watch: {
                $route: function (e, t) {
                    this.updateQuestion(e, t)
                }
            },
            created() {
                this.updateQuestion()
            },
            mounted() { },
            methods: Object(p["a"])(Object(p["a"])({}, di(["updateExamQuestion"])), {}, {
                async updateQuestion(e, t) {
                    const s = this.examQuestion
                        , i = this.$route.params.examRecordDataId;
                    if (t && e) {
                        const s = t.params.order - 1
                            , i = e.params.order - 1;
                        this.examQuestionList[s].questionId !== this.examQuestionList[i].questionId && (this.parentQuestionBody = null,
                            this.question = null)
                    }
                    let a = null;
                    try {
                        a = await this.$http.get("/api/ecs_oe_student/examQuestion/getQuestionContent?questionId=" + s.questionId + "&exam_record_id=" + i)
                    } catch (d) {
                        return s.order != this.$route.params.order ? void console.log("QuestionView: 濡傛灉缃戠粶寮傚父锛屽張绂诲紑鏈〉闈㈠悗锛屼笉鍐嶅悗缁鐞嗘璇锋眰 ") : (this.parentQuestionBody = null,
                            void (this.question = null))
                    }
                    if (s.order != this.$route.params.order)
                        return void console.log("璇曢鑾峰彇鍐呭鍚庯紝鍙戠幇椤甸潰宸茬粡鍒囧埌鍒殑棰樼洰涓婂幓浜嗭紝鏀惧純鍚庣画娓叉煋. 鑾峰彇鐨別q.order/$route.order" + s.order + "/" + this.$route.params.order);
                    const o = a.data;
                    this.updateExamQuestion({
                        order: s.order,
                        getQuestionContent: !0
                    });
                    const n = function (e) {
                        e.body && (e.body = e.body.toString().replace(new RegExp("###", "g"), "_______"),
                            e.body = e.body.toString().replace(/##(\d+)##/g, (function (e, t) {
                                return "__" + parseInt(t) + "__"
                            })))
                    }
                        , r = function (e) {
                            if ("SINGLE_CHOICE" === e.questionType || "MULTIPLE_CHOICE" === e.questionType)
                                for (var t = 0, s = e.questionOptionList.length; t < s; t++)
                                    ;
                            "FILL_UP" === e.questionType && (e.answer && e.answer.indexOf("##") > -1 ? e.answerList = e.answer.split("##") : e.answerList = [e.answer]),
                                n(e)
                        };
                    if (o.body) {
                        n(o);
                        for (var c = 0, l = o.questionUnitList.length; c < l; c++)
                            r(o.questionUnitList[c]);
                        this.parentQuestionBody = o.body
                    } else
                        this.parentQuestionBody = null,
                            r(o.questionUnitList[s.subNumber - 1]);
                    this.question = o.questionUnitList[s.subNumber - 1],
                        this.$nextTick(() => {
                            this.$nextTick(() => {
                                const e = document.getElementsByClassName("parent-question")[0];
                                e && (this.parentPaneHeight = 5 + 100 * e.clientHeight / (document.body.clientHeight - 160),
                                    this.parentPaneHeight > 60 && (this.parentPaneHeight = 60))
                            }
                            )
                        }
                        );
                    {
                        const e = s.order;
                        e < this.examQuestionList.length && this.$http.get("/api/ecs_oe_student/examQuestion/getQuestionContent?questionId=" + this.examQuestionList[e].questionId + "&exam_record_id=" + i)
                    }
                },
                async toggleSign() {
                    this.updateExamQuestion({
                        order: this.$route.params.order,
                        isSign: !this.examQuestion.isSign
                    })
                }
            })
        }
            , hi = ui
            , mi = (s("8bc3"),
                Object(l["a"])(hi, Et, St, !1, null, "274c58c6", null))
            , pi = mi.exports
            , _i = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "arrow-container"
                }, [s("div", {
                    staticClass: "prev"
                }, [e.previousQuestionOrder ? [s("router-link", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        to: {
                            path: "/online-exam/exam/" + e.$route.params.examId + "/examRecordData/" + e.$route.params.examRecordDataId + "/order/" + e.previousQuestionOrder
                        },
                        ondragstart: "return false;"
                    }
                }, [e._v(" 涓婁竴棰� ")])] : [s("div", [e._v("涓婁竴棰�")])]], 2), s("div", {
                    staticClass: "tips"
                }, [e._v("A銆丅銆丆銆丏鏉ュ嬀閫夐€夐」銆�")]), s("div", {
                    staticClass: "next"
                }, [e.nextQuestionOrder ? [s("router-link", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        ondragstart: "return false;",
                        to: {
                            path: "/online-exam/exam/" + e.$route.params.examId + "/examRecordData/" + e.$route.params.examRecordDataId + "/order/" + e.nextQuestionOrder
                        }
                    }
                }, [e._v(" 涓嬩竴棰� ")])] : [s("div", [e._v("涓嬩竴棰�")])]], 2)])
            }
            , gi = []
            , wi = {
                name: "ArrowNavView",
                props: {
                    previousQuestionOrder: {
                        type: Number,
                        default: 0
                    },
                    nextQuestionOrder: {
                        type: Number,
                        default: 0
                    }
                },
                data() {
                    return {}
                },
                created: function () {
                    window.addEventListener("keyup", this.keyup)
                },
                beforeDestroy() {
                    window.removeEventListener("keyup", this.keyup)
                },
                methods: {
                    keyup() { },
                    goToNextQuestion() {
                        this.$router.push({
                            path: `/online-exam/exam/${this.$route.params.examId}/examRecordData/${this.$route.params.examRecordDataId}/order/${this.nextQuestionOrder}`
                        })
                    },
                    goToPreviousQuestion() {
                        this.$router.push({
                            path: `/online-exam/exam/${this.$route.params.examId}/examRecordData/${this.$route.params.examRecordDataId}/order/${this.previousQuestionOrder}`
                        })
                    }
                }
            }
            , fi = wi
            , vi = (s("3429"),
                Object(l["a"])(fi, _i, gi, !1, null, "65813964", null))
            , yi = vi.exports
            , bi = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticStyle: {
                        "padding-bottom": "10px"
                    }
                }, [e.paperStruct && e.examQuestionList ? e._l(e.paperStruct.defaultPaper.questionGroupList, (function (t, i) {
                    return s("div", {
                        key: i,
                        staticClass: "section"
                    }, [s("div", {
                        staticClass: "title"
                    }, [e._v(" " + e._s(e.toChineseNumber(i + 1)) + "銆�" + e._s(t.groupName) + " (" + e._s(t.groupScore) + "鍒�) ")]), s("div", {
                        staticClass: "list"
                    }, [e._l(e.sectionQuestions(i), (function (t, a) {
                        return [e.isSelectedQuestion(i, a) ? [s("router-link", {
                            key: a,
                            class: e.itemClass(i, a),
                            attrs: {
                                ondragstart: "return false;",
                                to: {
                                    path: "/online-exam/exam/" + e.$route.params.examId + "/examRecordData/" + e.$route.params.examRecordDataId + "/order/" + e.getQuestionNum(i, a).order
                                }
                            }
                        }, [e._v(e._s(a + 1))])] : e._e()]
                    }))], 2)])
                })) : e._e()], 2)
            }
            , xi = [];
        const { mapState: Ei } = Object(w["a"])("examingHomeModule");
        var Si = {
            name: "QuestionNavView",
            props: {
                paperStruct: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {}
            },
            computed: Object(p["a"])({}, Ei(["questionFilterType", "examQuestionList"])),
            methods: {
                toChineseNumber(e) {
                    return Object(It["i"])(e)
                },
                getQuestionNum: function (e, t) {
                    if (!this.paperStruct || !this.examQuestionList || 0 === this.examQuestionList.length)
                        return 0;
                    let s = 0;
                    for (var i = 0; i < e; i++)
                        s += this.paperStruct.defaultPaper.questionGroupList[i].questionWrapperList.reduce((e, t) => e + t.questionUnitWrapperList.length, 0);
                    return this.examQuestionList[s + t]
                },
                isSelectedQuestion(e, t) {
                    let s = this.getQuestionNum(e, t);
                    return "ALL" === this.questionFilterType || ("ANSWERED" === this.questionFilterType && null !== s.studentAnswer || (!("SIGNED" !== this.questionFilterType || !s.isSign) || "UNANSWERED" === this.questionFilterType && null === s.studentAnswer))
                },
                itemClass(e, t) {
                    const s = this.$route.params.order == this.getQuestionNum(e, t).order;
                    return {
                        item: !0,
                        "current-question": s,
                        "star-question": this.getQuestionNum(e, t).isSign,
                        "is-answered": null !== this.getQuestionNum(e, t).studentAnswer
                    }
                },
                sectionQuestions(e) {
                    return this.examQuestionList.filter(t => t.mainNumber === e + 1)
                }
            }
        }
            , Ci = Si
            , Oi = (s("b8fe"),
                Object(l["a"])(Ci, bi, xi, !1, null, "83a8ef30", null))
            , Ii = Oi.exports
            , ki = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div")
            }
            , Ti = []
            , Ai = s("ab39");
        const { mapState: Pi } = Object(w["a"])("examingHomeModule");
        window.faceapi = Ai;
        let Mi = null;
        function Di() {
            if (null !== Mi)
                return Mi;
            var e = document.createElement("canvas")
                , t = e.getContext("webgl");
            return Mi = !!(t && t instanceof WebGLRenderingContext),
                Mi
        }
        let Ri = null;
        function Li() {
            if (null !== Ri)
                return Ri;
            try {
                Ri = Ai["tf"].ENV.get("WEBGL_PACK")
            } finally {
                !0 !== Ri && (Ri = !1)
            }
            return Ri
        }
        let qi = null
            , ji = 128
            , Ni = !1
            , Bi = !1;
        async function $i() {
            const e = [128, 160, 224, 320, 416, 512, 608]
                , t = [0, 0, 0, 0, 0, 0, 0]
                , s = 6;
            try {
                const e = performance.now()
                    , t = document.getElementById("video")
                    , s = new Ai["TinyFaceDetectorOptions"]({
                        inputSize: 128,
                        scoreThreshold: .5
                    })
                    , i = await Promise.race([Ai["detectAllFaces"](t, s), new Promise(e => setTimeout(e, 1e4))])
                    , a = performance.now();
                if (!i || !i.length || e - a > 2e3)
                    return Bi = !0,
                        window._hmt.push(["_trackEvent", "绛旈椤甸潰", "鍚姩妫€娴嬭€楁椂杩囬暱锛氬仠姝㈠疄鏃�"]),
                        void Object(Z["b"])({
                            page: "瀹炴椂浜鸿劯妫€娴�",
                            action: "鍚姩妫€娴嬭€楁椂杩囬暱锛氬仠姝㈠疄鏃�",
                            result: JSON.stringify(i),
                            cost: e - a
                        })
            } catch (o) {
                return console.log(o),
                    Bi = !0,
                    window._hmt.push(["_trackEvent", "绛旈椤甸潰", "鍚姩妫€娴嬮敊璇細鍋滄瀹炴椂"]),
                    void Object(Z["b"])({
                        page: "瀹炴椂浜鸿劯妫€娴�",
                        action: "鍚姩妫€娴嬮敊璇細鍋滄瀹炴椂",
                        errorJSON: JSON.stringify(o, (e, t) => "token" === e ? "" : t),
                        errorName: o.name,
                        errorMessage: o.message,
                        errorStack: o.stack
                    })
            }
            for (let n = 0; n < e.length; n++) {
                for (let i = 0; i < s; i++) {
                    await new Promise(e => setTimeout(e, 3e3)),
                        Ni && (console.log("姝ｅ湪娲绘锛屾殏鍋滃疄鏃朵汉鑴�"),
                            await new Promise(e => setTimeout(e, 12e4)));
                    const s = e[n]
                        , i = document.getElementById("video");
                    try {
                        const e = performance.now()
                            , a = new Ai["TinyFaceDetectorOptions"]({
                                inputSize: s,
                                scoreThreshold: .5
                            });
                        if (!qi)
                            return;
                        const o = await Promise.race([Ai["detectAllFaces"](i, a), new Promise(e => setTimeout(e, 1e4))])
                            , r = performance.now();
                        if (e - r > 200)
                            return Bi = !0,
                                window._hmt.push(["_trackEvent", "绛旈椤甸潰", "鍗曟妫€娴嬭€楁椂杩囬暱锛氬仠姝㈠疄鏃�"]),
                                void Object(Z["b"])({
                                    page: "瀹炴椂浜鸿劯妫€娴�",
                                    action: "鍗曟妫€娴嬭€楁椂杩囬暱锛氬仠姝㈠疄鏃�",
                                    cost: e - r
                                });
                        o && o.length >= 1 ? (console.log(`inputSize: ${s} ${o.length}`),
                            t[n]++) : console.log(`inputSize: ${s} 妫€娴嬪け璐)
                    } catch (o) {
                        console.log(o),
                            console.log(`inputSize: ${s} 妫€娴嬪け璐�-寮傚父`)
                    }
                }
                if (t[n] === s) {
                    console.log(`inputSize: ${e[n]} 鎻愬墠閫変腑`);
                    break
                }
            }
            console.log({
                succRate: t
            });
            const i = Math.max(...t)
                , a = t.indexOf(i);
            return ji = e[a],
                window.__inputSize = ji,
                console.log("鏈€濂界殑 inputSize 涓�: " + ji),
                window._hmt.push(["_trackEvent", "绛旈椤甸潰", "鏈€濂界殑 inputSize 涓�: " + ji]),
                Object(Z["b"])({
                    page: "瀹炴椂浜鸿劯妫€娴�",
                    action: "鏈€濂界殑 inputSize 涓�:" + ji
                }),
                ji
        }
        function Fi() {
            return new Ai["TinyFaceDetectorOptions"]({
                inputSize: ji || 128,
                scoreThreshold: .5
            })
        }
        const Ui = [];
        var Qi = {
            name: "FaceTracking",
            computed: Object(p["a"])(Object(p["a"])({}, Object(w["c"])(["isEpcc"])), Pi(["isDoingFaceLiveness"])),
            watch: {
                isDoingFaceLiveness: function (e) {
                    Ni = e
                }
            },
            async created() {
                qi = "created",
                    await Ai["nets"].tinyFaceDetector.load(Y["e"]),
                    await Ai["loadFaceLandmarkModel"](Y["e"]),
                    Ai["tf"].ENV.set("WEBGL_PACK", !1)
            },
            async mounted() {
                let e = !1;
                const t = this;
                async function s() {
                    const s = document.getElementById("video");
                    s && 4 === s.readyState && Ai["nets"].tinyFaceDetector.params && (e = !0,
                        console.log("start tracking ... "),
                        await $i(),
                        await t.detectFaces())
                }
                this.isEpcc || (this.trackHeadInterval = setInterval(() => {
                    e ? clearInterval(this.trackHeadInterval) : s()
                }
                    , 1e3))
            },
            beforeDestroy() {
                qi = null,
                    clearInterval(this.trackHeadInterval),
                    clearTimeout(this.warningTimeout),
                    clearTimeout(this.detectFacesTimeout)
            },
            methods: {
                async detectFaces() {
                    if (this.singleTimeUsage = this.singleTimeUsage || 0,
                        this.multipleTimeUsage = this.multipleTimeUsage || 0,
                        Bi || this.singleTimeUsage > 1e4 || this.multipleTimeUsage > 500)
                        return console.log("鍏抽棴瀹炴椂浜鸿劯妫€娴嬶紝鍥犱负鑰楁椂杩囬暱", this.multipleTimeUsage),
                            this.logger({
                                page: "瀹炴椂浜鸿劯妫€娴�",
                                action: "鍏抽棴瀹炴椂浜鸿劯妫€娴嬶紝鍥犱负鑰楁椂杩囬暱",
                                multipleTimeUsage: this.multipleTimeUsage
                            }),
                            void window._hmt.push(["_trackEvent", "绛旈椤甸潰", "鍏抽棴瀹炴椂浜鸿劯妫€娴嬶紝鍥犱负鑰楁椂杩囬暱"]);
                    if (this.isDoingFaceLiveness)
                        return console.log("姝ｅ湪娲绘锛屾殏鍋滃疄鏃朵汉鑴�"),
                            this.logger({
                                page: "瀹炴椂浜鸿劯妫€娴�",
                                action: "姝ｅ湪娲绘锛屾殏鍋滃疄鏃朵汉鑴�"
                            }),
                            void (this.detectFacesTimeout = setTimeout(() => this.detectFaces(), 1e4));
                    const e = document.getElementById("video")
                        , t = performance.now()
                        , s = Fi();
                    let i;
                    try {
                        i = await Ai["detectAllFaces"](e, s)
                    } catch (o) {
                        throw window._hmt.push(["_trackEvent", "绛旈椤甸潰", "瀹炴椂浜鸿劯妫€娴嬪け璐�"]),
                        o
                    }
                    const a = performance.now();
                    if (console.log("WebGL: ", Di(), " WEBGL_PACK: ", Li(), " single detect time: ", a - t, " result: ", i.length),
                        this.singleTimeUsage = a - t,
                        Ui.length < 6 && Ui.push(a - t),
                        6 === Ui.length) {
                        Ui.shift();
                        const e = Ui.reduce((e, t) => e + t, 0) / Ui.length
                            , t = 100 * Math.round(e / 100);
                        window._hmt.push(["_trackEvent", "绛旈椤甸潰", "瀹炴椂浜鸿劯妫€娴嬪钩鍧囨椂闀�" + (Object(It["f"])() ? "瀛︾敓鐢佃剳" : "瀛︿範涓績鐢佃剳"), t + "ms"]),
                            console.log(Ui),
                            Ui.push(0, 0),
                            this.multipleTimeUsage = t
                    }
                    this.showWaringTime = this.showWaringTime || Date.now(),
                        i.length >= 2 && Date.now() - this.showWaringTime > 2e4 && (this.showWaringTime = Date.now(),
                            this.$Message.warning({
                                content: "璇风嫭绔嬪畬鎴愯€冭瘯",
                                duration: 5,
                                closable: !0
                            })),
                        0 === i.length && Date.now() - this.showWaringTime > 2e4 && (this.showWaringTime = Date.now(),
                            this.$Message.warning({
                                content: "璇疯皟鏁村潗濮匡紝璇氫俊鑰冭瘯",
                                duration: 5,
                                closable: !0
                            }),
                            this.failTimes = this.failTimes || 1,
                            this.failTimes++),
                        i && 1 === i.length || e.classList.contains("video-warning") || (e.classList.add("video-warning"),
                            this.warningTimeout = setTimeout((function () {
                                e.classList.remove("video-warning")
                            }), 3e3)),
                        this.detectFacesTimeout = setTimeout(async () => {
                            this.failTimes > 5 && (this.$Message.warning({
                                content: "璇蜂繚鎸佹纭潗濮匡紝纭繚鑴搁儴鍦ㄦ憚鍍忓ご鍐咃紝鑳屾櫙鏃犲己鍏夈€�",
                                duration: 10,
                                closable: !0
                            }),
                                this.failTimes = 1,
                                await $i()),
                                qi && await this.detectFaces()
                        }
                            , 6e4)
                }
            }
        }
            , Wi = Qi
            , Vi = (s("3220"),
                Object(l["a"])(Wi, ki, Ti, !1, null, null, null))
            , Hi = Vi.exports
            , zi = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "row",
                    staticStyle: {
                        margin: "0"
                    }
                }, [s("div", {
                    staticClass: "col-md-12 text-center",
                    staticStyle: {
                        padding: "8px"
                    }
                }, [s("div", {
                    staticStyle: {
                        "font-size": "30px"
                    }
                }, [s("span", [e._v("鎸囧畾鍔ㄤ綔妫€娴�")]), e.showIframe ? s("span", [e._v("(" + e._s(e.timeCount) + ")")]) : e._e()]), e.showIframe ? s("div", {
                    staticClass: "text-center",
                    staticStyle: {
                        color: "red",
                        "font-size": "16px"
                    }
                }, [e._v(" (娉ㄦ剰锛氳鐐瑰嚮涓嬫柟鈥滃紑濮嬫瘮瀵光€濇寜閽苟鍦�60绉掑唴瀹屾垚鎸囧畾鍔ㄤ綔妫€娴�,瓒呮椂灏嗛€€鍑鸿€冭瘯) ")]) : e._e()]), s("div", {
                    staticStyle: {
                        position: "relative",
                        height: "710px",
                        "background-color": "#6e6f72 !important",
                        "background-image": "radial-gradient(circle at 50% 0, #a9a9a9, #34363c)"
                    },
                    attrs: {
                        id: "faceIdDiv"
                    }
                }, [s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: !e.showIframe,
                        expression: "!showIframe"
                    }],
                    staticStyle: {
                        "text-align": "center",
                        "line-height": "100px",
                        "margin-top": "5px"
                    },
                    attrs: {
                        width: "100%",
                        height: "200px"
                    }
                }, [s("div", {
                    staticStyle: {
                        color: "white",
                        "font-weight": "bold",
                        "font-size": "20px"
                    }
                }, [e._v(" " + e._s(e.redoBtnMsg) + " ")]), e.redoBtnShow ? s("button", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        type: "button",
                        disabled: e.redoBtnDisabled
                    },
                    on: {
                        click: e.startFaceVerifyClicked
                    }
                }, [e._v(" 閲嶈瘯 ")]) : e._e()]), s("webview", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.showIframe,
                        expression: "showIframe"
                    }],
                    staticStyle: {
                        position: "absolute",
                        width: "100%",
                        height: "710px"
                    },
                    attrs: {
                        id: "myFrame",
                        preload: e.electronDir + "manipulateFaceID.js"
                    }
                })], 1)])
            }
            , Ki = []
            , Gi = {
                name: "FaceId",
                data() {
                    return {
                        showIframe: !1,
                        redoBtnShow: !1,
                        timeCount: 60,
                        redoBtnMsg: "",
                        electronDir: ""
                    }
                },
                mounted() {
                    if (this.examRecordId = this.$route.params.examRecordDataId,
                        console.debug("startFaceVerify"),
                        window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "寮瑰嚭妗�"]),
                        this.logger({
                            page: "娲讳綋妫€娴嬪脊鍑烘",
                            action: "寮瑰嚭妗�"
                        }),
                        this.openWebsocketToStartFaceIDTest(),
                        this.startFaceVerify(),
                        "undefined" != typeof nodeRequire) {
                        const e = window.nodeRequire("electron").remote.app;
                        this.electronDir = "file://" + e.getAppPath() + "/",
                            console.log(this.electronDir)
                    }
                },
                beforeDestroy() {
                    this.logger({
                        page: "娲讳綋妫€娴嬪脊鍑烘",
                        action: "鍏抽棴妗�"
                    }),
                        this.closeWS(),
                        clearTimeout(this.faceIdTimeout),
                        clearInterval(this.timeCountInterval),
                        clearTimeout(this.iframeDomReadyTimeout)
                },
                methods: {
                    showRedo(e) {
                        this.showIframe = !1,
                            this.redoBtnDisabled = !1,
                            this.redoBtnShow = !0,
                            e ? this.redoBtnMsg = e : (this.redoBtnMsg = "绯荤粺绻佸繖锛岃鎵嬪姩鐐瑰嚮閲嶈瘯",
                                this.logger({
                                    page: "娲讳綋妫€娴嬪脊鍑烘",
                                    action: "绯荤粺绻佸繖锛岃鎵嬪姩鐐瑰嚮閲嶈瘯"
                                }))
                    },
                    updateFaceVerifyMsg(e) {
                        this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/updateFaceLivenessVerify/" + this.$route.params.examRecordDataId, {
                            params: {
                                errorMsg: e
                            }
                        })
                    },
                    async faceidLoadedButTimeouted() {
                        this.closeWS();
                        let e = !0;
                        if (this.haveReceivedMsg || await this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/getFaceVerifyResult/" + this.faceVerifyId).then(t => { window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "60绉掕秴鏃堕潪websocket澶勭悊缁撴灉"]), this.logger({ page: "娲讳綋妫€娴嬪脊鍑烘", action: "60绉掕秴鏃堕潪websocket澶勭悊缁撴灉" }); var s = t.data; e = !1, this.faceTestEnd(s), clearTimeout(this.faceIdTimeout), clearInterval(this.timeCountInterval), this.$emit("close-faceid") }).catch(() => { e = !0, window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "60绉掕秴鏃堕潪websocket澶勭悊缁撴灉--api澶辫触"]), this.logger({ page: "娲讳綋妫€娴嬪脊鍑烘", action: "60绉掕秴鏃堕潪websocket澶勭悊缁撴灉--api澶辫触" }) }),
                            !e)
                            return;
                        let t = !1;
                        this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/faceLivenessVerifyTimeOut/" + this.examRecordId).then(e => {
                            if (200 == e.status) {
                                var s = e.data;
                                return t = !0,
                                    this.faceTestEnd(s)
                            }
                        }
                        ).finally(() => {
                            clearInterval(this.timeCountInterval),
                                t || (this.$Message.error({
                                    content: "鎸囧畾鍔ㄤ綔妫€娴嬭秴鏃讹紝绯荤粺閫€鍑猴紝璇烽噸鏂扮櫥褰�",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.logger({
                                        page: "娲讳綋妫€娴嬪脊鍑烘",
                                        action: "鎸囧畾鍔ㄤ綔妫€娴嬭秴鏃讹紝绯荤粺閫€鍑猴紝璇烽噸鏂扮櫥褰�"
                                    })),
                                this.logout("?LogoutReason=" + (t ? "娲讳綋妫€娴嬭秴鏃�" : "娲讳綋妫€娴嬭秴鏃�-faceLivenessVerifyTimeOut-璋冪敤澶辫触"))
                        }
                        )
                    },
                    openWebsocketToStartFaceIDTest() {
                        this.closeWS();
                        try {
                            this.ws = new WebSocket(`${Y["l"]}?key=${this.$store.state.user.key}&token=${this.$store.state.user.token}`)
                        } catch (e) {
                            console.log(e),
                                this.$Message.error({
                                    content: "浜鸿劯WS鍒濆鍖栧け璐�",
                                    duration: 5,
                                    closable: !0
                                }),
                                console.log("FaceID WS init failed")
                        }
                        this.ws.onopen = () => {
                            window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "websocket鐨勬墦寮€鎴愬姛"]),
                                console.log("websocket宸茶繛鎺�"),
                                this.logger({
                                    page: "娲讳綋妫€娴嬪脊鍑烘",
                                    action: "websocket宸茶繛鎺�"
                                })
                        }
                            ,
                            this.ws.onmessage = e => {
                                if (console.log("faceid websocket response: ", e),
                                    e.data.indexOf("verifyResult") > -1) {
                                    window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "websocket寰楀埌娑堟伅"]),
                                        this.logger({
                                            page: "娲讳綋妫€娴嬪脊鍑烘",
                                            action: "websocket寰楀埌娑堟伅"
                                        }),
                                        this.haveReceivedMsg = !0;
                                    var t = JSON.parse(e.data)
                                        , s = JSON.parse(t.content.returnMsgJson);
                                    this.faceTestEnd(s),
                                        clearTimeout(this.faceIdTimeout),
                                        clearInterval(this.timeCountInterval),
                                        this.$emit("close-faceid")
                                }
                            }
                            ,
                            this.ws.onclose = () => {
                                console.log("websocket杩炴帴宸插叧闂�..."),
                                    window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "websocket杩炴帴鍏抽棴"]),
                                    this.logger({
                                        page: "娲讳綋妫€娴嬪脊鍑烘",
                                        action: "websocket杩炴帴鍏抽棴"
                                    })
                            }
                            ,
                            this.ws.onerror = () => {
                                window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "websocket杩炴帴澶辫触"]),
                                    this.logger({
                                        page: "娲讳綋妫€娴嬪脊鍑烘",
                                        action: "websocket杩炴帴澶辫触"
                                    }),
                                    this.wsReconnectCount = this.wsReconnectCount || 0,
                                    this.wsReconnectCount++,
                                    !this.haveReceivedMsg && this.wsReconnectCount < 10 && (this.openWebsocketToStartFaceIDTest(),
                                        window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "websocket閲嶆柊杩炴帴" + this.wsReconnectCount]),
                                        this.logger({
                                            page: "娲讳綋妫€娴嬪脊鍑烘",
                                            action: "websocket閲嶆柊杩炴帴",
                                            detail: this.wsReconnectCount
                                        }))
                            }
                    },
                    closeWS() {
                        try {
                            this.ws && 1 === this.ws.readyState && (this.logger({
                                page: "娲讳綋妫€娴嬪脊鍑烘",
                                action: "鍑嗗鍏抽棴websocket"
                            }),
                                this.ws.close())
                        } catch (e) {
                            console.log("鍏抽棴ws寮傚父銆�"),
                                window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "鍏抽棴websocket寮傚父"]),
                                this.logger({
                                    page: "娲讳綋妫€娴嬪脊鍑烘",
                                    action: "鍏抽棴websocket寮傚父"
                                })
                        }
                    },
                    faceTestEnd(e) {
                        if (this.logger({
                            page: "娲讳綋妫€娴嬪脊鍑烘",
                            action: "鎸囧畾鍔ㄤ綔妫€娴嬬粨鏉�",
                            verifyCount: e.verifyCount,
                            verifyResult: e.verifyResult
                        }),
                            1 == e.verifyCount)
                            if ("TIME_OUT" == e.verifyResult)
                                this.$Message.error({
                                    content: "绗竴娆℃寚瀹氬姩浣滄娴嬭秴鏃讹紝妫€娴嬪け璐ワ紝绯荤粺閫€鍑猴紝璇烽噸鏂扮櫥褰�",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.logout("?LogoutReason=绗竴娆℃椿浣撴娴嬭秴鏃讹紝妫€娴嬪け璐ワ紝绯荤粺閫€鍑猴紝璇烽噸鏂扮櫥褰�");
                            else if ("VERIFY_FAILED" == e.verifyResult)
                                this.$Message.error({
                                    content: "绗竴娆℃寚瀹氬姩浣滄娴嬪け璐ワ紝绯荤粺閫€鍑猴紝璇烽噸鏂扮櫥褰�",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.logout("?LogoutReason=绗竴娆℃椿浣撴娴嬪け璐ワ紝绯荤粺閫€鍑猴紝璇烽噸鏂扮櫥褰�");
                            else {
                                if ("NOT_ONESELF" == e.verifyResult)
                                    return this.$Message.error({
                                        content: "鎸囧畾鍔ㄤ綔妫€娴嬩笉鍚堟牸锛岀粨鏉熻€冭瘯",
                                        duration: 30,
                                        closable: !0
                                    }),
                                        this.faceTestUploadResult("FAILED");
                                if ("VERIFY_SUCCESS" == e.verifyResult)
                                    return this.$Message.info({
                                        content: "鎸囧畾鍔ㄤ綔妫€娴嬫垚鍔燂紝璇风户缁畬鎴愯€冭瘯",
                                        duration: 15,
                                        closable: !0
                                    }),
                                        this.faceTestUploadResult("SUCCESS");
                                "UNKNOWN" == e.verifyResult && (this.$Message.error({
                                    content: "绗竴娆℃寚瀹氬姩浣滄娴嬪紓甯�(fid)锛岀郴缁熼€€鍑猴紝璇烽噸鏂扮櫥褰�",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.logout("?LogoutReason=绗竴娆℃椿浣撴娴嬪け璐�(faceid)锛岀郴缁熼€€鍑猴紝璇烽噸鏂扮櫥褰�"))
                            }
                        else if (e.verifyCount >= 2)
                            return "VERIFY_SUCCESS" == e.verifyResult ? (this.$Message.info({
                                content: "鎸囧畾鍔ㄤ綔妫€娴嬫垚鍔燂紝璇风户缁畬鎴愯€冭瘯",
                                duration: 15,
                                closable: !0
                            }),
                                this.faceTestUploadResult("SUCCESS")) : (this.$Message.error({
                                    content: "鎸囧畾鍔ㄤ綔妫€娴嬩笉鍚堟牸锛岀粨鏉熻€冭瘯",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.faceTestUploadResult("FAILED"))
                    },
                    faceTestUploadResult(e) {
                        return this.logger({
                            page: "娲讳綋妫€娴嬪脊鍑烘",
                            action: "涓婁紶娲讳綋妫€娴嬬粨鏋�",
                            result: e
                        }),
                            this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/faceLivenessVerifyEnd/" + this.examRecordId + "?result=" + e).then(() => {
                                "SUCCESS" != e ? (window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "娲讳綋妫€娴嬪け璐�"]),
                                    this.logger({
                                        page: "娲讳綋妫€娴嬪脊鍑烘",
                                        action: "娲讳綋妫€娴嬪け璐�-閫€鍑虹櫥褰�"
                                    }),
                                    this.logout("?LogoutReason=娲讳綋妫€娴嬪け璐�")) : (window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "娲讳綋妫€娴嬫垚鍔�"]),
                                        this.logger({
                                            page: "娲讳綋妫€娴嬪脊鍑烘",
                                            action: "娲讳綋妫€娴嬫垚鍔�"
                                        }))
                            }
                            ).catch(() => {
                                this.$Message.error({
                                    content: "涓婁紶鎸囧畾鍔ㄤ綔妫€娴嬬粨鏋滃嚭閿欙紒",
                                    duration: 15,
                                    closable: !0
                                }),
                                    window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "涓婁紶鎸囧畾鍔ㄤ綔妫€娴嬬粨鏋滃嚭閿欙紒"]),
                                    this.logger({
                                        page: "娲讳綋妫€娴嬪脊鍑烘",
                                        action: "涓婁紶鎸囧畾鍔ㄤ綔妫€娴嬬粨鏋滃嚭閿欙紒--閫€鍑虹櫥褰�"
                                    }),
                                    console.log("涓婁紶鎸囧畾鍔ㄤ綔妫€娴嬬粨鏋滃嚭閿欙紒"),
                                    this.logout("?LogoutReason=涓婁紶鎸囧畾鍔ㄤ綔妫€娴嬬粨鏋滃嚭閿欙紒")
                            }
                            )
                    },
                    iframeLoadSuccess() {
                        window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "FaceID椤甸潰iframe鍔犺浇鎴愬姛"]),
                            this.logger({
                                page: "娲讳綋妫€娴嬪脊鍑烘",
                                action: "FaceID椤甸潰iframe鍔犺浇鎴愬姛"
                            }),
                            clearInterval(this.timeCountInterval),
                            this.timeCount = 60,
                            this.timeCountInterval = setInterval(() => {
                                --this.timeCount,
                                    0 === this.timeCount && clearInterval(this.timeCountInterval)
                            }
                                , 1e3),
                            clearTimeout(this.faceIdTimeout),
                            this.faceIdTimeout = setTimeout(() => {
                                this.faceidLoadedButTimeouted()
                            }
                                , 6e4)
                    },
                    async startFaceVerifyClicked() {
                        this.logger({
                            page: "娲讳綋妫€娴嬪脊鍑烘",
                            button: "閲嶈瘯鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            await this.startFaceVerify()
                    },
                    async startFaceVerify() {
                        this.redoBtnDisabled = !0,
                            this.redoBtnMsg = "姝ｅ湪杩涘叆鎸囧畾鍔ㄤ綔妫€娴�...";
                        let e = null;
                        if (this.faceVerifyId)
                            try {
                                e = await this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/getFaceVerifyToken/" + this.faceVerifyId)
                            } catch (s) {
                                return console.log(s),
                                    this.showRedo("缃戠粶寮傚父锛岃鎵嬪姩鐐瑰嚮閲嶈瘯"),
                                    window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "缃戠粶寮傚父-getFaceVerifyToken"]),
                                    void this.logger({
                                        page: "娲讳綋妫€娴嬪脊鍑烘",
                                        action: "缃戠粶寮傚父-getFaceVerifyToken"
                                    })
                            }
                        else
                            try {
                                e = await this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/startFaceVerify/" + this.examRecordId),
                                    this.faceVerifyId = e.data.faceVerifyId
                            } catch (s) {
                                return console.log(s),
                                    this.$Message.error({
                                        content: "鑾峰彇搴曠収token澶辫触锛岃閲嶆柊鐧诲綍锛�",
                                        duration: 15,
                                        closable: !0
                                    }),
                                    this.logger({
                                        page: "娲讳綋妫€娴嬪脊鍑烘",
                                        action: "鑾峰彇搴曠収token澶辫触锛岃閲嶆柊鐧诲綍锛�"
                                    }),
                                    void this.logout("?LogoutReason=鑾峰彇搴曠収token澶辫触锛岃閲嶆柊鐧诲綍锛�")
                            }
                        if (!e.data.success)
                            return console.log(e.data.errorMsg),
                                this.$Message.error({
                                    content: "鎮ㄤ笂浼犵殑搴曠収涓嶉€傚悎鍋氭椿浣撴娴嬶紝璇疯仈绯昏€佸笀锛�",
                                    duration: 15,
                                    closable: !0
                                }),
                                this.logger({
                                    page: "娲讳綋妫€娴嬪脊鍑烘",
                                    action: "鎮ㄤ笂浼犵殑搴曠収涓嶉€傚悎鍋氭椿浣撴娴嬶紝璇疯仈绯昏€佸笀锛�"
                                }),
                                void this.logout("?LogoutReason=鎮ㄤ笂浼犵殑搴曠収涓嶉€傚悎鍋氭椿浣撴娴嬶紝璇疯仈绯昏€佸笀锛�");
                        this.showIframe = !0;
                        var t = document.getElementById("myFrame");
                        try {
                            t.src = Y["d"] + e.data.faceLivenessToken
                        } catch (i) {
                            console.error(i)
                        }
                        {
                            clearTimeout(this.iframeDomReadyTimeout);
                            let e = !1;
                            t.addEventListener("did-start-loading", () => {
                                console.log("loading faceid iframe"),
                                    console.log(t)
                            }
                            ),
                                t.addEventListener("did-fail-load", () => {
                                    console.log("failed loading faceid iframe", t.src),
                                        clearTimeout(this.iframeDomReadyTimeout),
                                        t.src.includes(Y["d"]) && (this.showRedo("缃戠粶寮傚父锛岃鎵嬪姩鐐瑰嚮閲嶈瘯"),
                                            window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "缃戠粶寮傚父-鍔犺浇澶辫触"]),
                                            this.logger({
                                                page: "娲讳綋妫€娴嬪脊鍑烘",
                                                action: "缃戠粶寮傚父-鍔犺浇澶辫触"
                                            }))
                                }
                                ),
                                this.iframeDomReadyTimeout = setTimeout(() => {
                                    !1 === e && (clearTimeout(this.iframeDomReadyTimeout),
                                        this.showRedo("缃戠粶寮傚父锛岃鎵嬪姩鐐瑰嚮閲嶈瘯"),
                                        window._hmt.push(["_trackEvent", "娲讳綋妫€娴嬪脊鍑烘", "缃戠粶寮傚父"]),
                                        this.logger({
                                            page: "娲讳綋妫€娴嬪脊鍑烘",
                                            action: "缃戠粶寮傚父"
                                        }))
                                }
                                    , 3e4),
                                t.addEventListener("dom-ready", () => {
                                    e = !0,
                                        console.log("faceid iframe dom ready"),
                                        t.insertCSS(".copyright { display: none !important;}")
                                }
                                ),
                                t.addEventListener("ipc-message", e => {
                                    clearTimeout(this.iframeDomReadyTimeout);
                                    const t = e.channel;
                                    t.indexOf("error_message") > -1 && (this.showRedo(),
                                        this.updateFaceVerifyMsg(t)),
                                        "success" === t && this.iframeLoadSuccess()
                                }
                                )
                        }
                    }
                }
            }
            , Ji = Gi
            , Xi = Object(l["a"])(Ji, zi, Ki, !1, null, null, null)
            , Yi = Xi.exports
            , Zi = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "page-container"
                }, [s("div", {
                    staticClass: "page-container",
                    staticStyle: {
                        position: "relative"
                    },
                    attrs: {
                        id: "video-container"
                    }
                }, [e.shouldShowSections ? s("div", {
                    staticClass: "instruction-tips above-video"
                }, [s("div", {
                    staticClass: "instruction-animation",
                    style: {
                        width: "33.3%",
                        "font-size": 16,
                        padding: "0 10px",
                        "margin-left": 33 * e.reverseSection + "%"
                    },
                    attrs: {
                        "data-intro": "鍋滅暀鐨勬椂闂达細姣忎竴娆″仠鐣欐椂闀垮彲鑳戒笉涓€鏍枫€�"
                    }
                }, [e._v(" 璇峰皢鑴搁儴绉诲叆姝ゅ尯鍩燂紝鍋滅暀"), s("span", {
                    staticStyle: {
                        color: "blue"
                    }
                }, [e._v(e._s(e.currentStep.stay))]), e._v("绉掞紝骞朵繚鎸�"), s("span", {
                    staticStyle: {
                        color: "blue"
                    }
                }, [e._v(e._s(e.shouldDetectExpression ? e.currentStep.happy ? "绗戝" : "涓ヨ們" : ""))])])]) : e._e(), s("div", {
                    staticClass: "instruction-tips above-video"
                }, [s("div", {
                    staticClass: "instruction-animation",
                    style: {
                        width: "100%",
                        "font-size": "18px",
                        "text-align": "center"
                    }
                }, ["FACE_COMPARE" === e.currentStep.action ? s("div", [e._v(" 璇疯皟鏁磋劯閮ㄤ笌鎽勫儚澶寸殑璺濈 ")]) : s("div", [e._v(" 淇濇寔"), s("span", {
                    staticStyle: {
                        color: "blue"
                    }
                }, [e._v(e._s(e.shouldDetectExpression ? e.currentStep.happy ? "绗戝" : "涓ヨ們" : ""))]), s("Progress", {
                    attrs: {
                        "hide-info": "",
                        percent: e.stepProgress
                    }
                })], 1)])]), e.isDetecting ? s("div", {
                    staticClass: "instruction-total above-video",
                    staticStyle: {
                        "z-index": "3"
                    }
                }, [s("div", {
                    staticClass: "total-text",
                    attrs: {
                        "data-intro": "璇峰湪瑙勫畾鐨勬椂闂村唴瀹屾垚銆�"
                    }
                }, [e._v(" " + e._s(e.instructions.total >= 0 ? e.instructions.total : 0) + " ")])]) : e._e(), e.shouldShowSections ? s("div", {
                    staticClass: "seperators above-video"
                }, [s("div", {
                    staticClass: "line"
                }), s("div", {
                    staticClass: "line"
                })]) : e._e(), e.shouldShowSections ? s("div", {
                    staticClass: "blocks above-video"
                }, e._l([3, 2, 1], (function (t) {
                    return s("div", {
                        key: t,
                        class: ["block-index-size", e.currentStep.section !== t && "block-index-blur"]
                    })
                })), 0) : e._e(), e.shouldShowSections ? s("div", {
                    class: ["above-video", "instruction-face", "instruction-animation", e.behaving && "instruction-face-animation-state"],
                    style: {
                        width: "33.3%",
                        "margin-left": 33 * e.reverseSection + "%"
                    },
                    attrs: {
                        "data-intro": "鍋滅暀鐨勪綅缃細璇峰皢鑴搁儴鍋滅暀鍦ㄥご鍍忔墍澶勭殑鍒椼€傛娴嬫垚鍔燂紝澶村儚浼氬仠姝㈡姈鍔ㄣ€�"
                    }
                }) : e._e(), e.behaving ? s("div", {
                    class: ["above-video", "instruction-face", "instruction-animation", e.behaving && "instruction-face-animation-state"],
                    style: {
                        width: "33.3%",
                        "margin-left": "33%"
                    }
                }) : e._e(), s("video", {
                    staticClass: "detect-video",
                    staticStyle: {
                        transform: "scaleX(-1)"
                    },
                    attrs: {
                        id: "inputVideo",
                        autoplay: "",
                        muted: ""
                    },
                    domProps: {
                        muted: !0
                    },
                    on: {
                        loadedmetadata: e.onPlay
                    }
                }), s("canvas", {
                    staticClass: "above-video",
                    attrs: {
                        id: "overlay"
                    }
                })])])
            }
            , ea = []
            , ta = s("517b");
        const { mapMutations: sa } = Object(w["a"])("examingHomeModule")
            , ia = "/models/20190620/";
        function aa() {
            return new Ai["TinyFaceDetectorOptions"]({
                inputSize: window.__inputSize || 128,
                scoreThreshold: .5
            })
        }
        window.faceapi = Ai;
        var oa = {
            name: "FaceMotion",
            data() {
                return {
                    isDetecting: !1,
                    shoudAdjustDistance: !0,
                    introStarted: !1,
                    asked: !1,
                    instructions: {
                        total: 60,
                        steps: [{
                            section: 2,
                            stay: 3,
                            happy: !0,
                            finished: !1
                        }, {
                            section: 3,
                            stay: 5,
                            happy: !0,
                            finished: !1
                        }, {
                            section: 2,
                            stay: 4,
                            happy: !0,
                            finished: !1
                        }]
                    },
                    behaving: !1,
                    behavingStartDate: null,
                    behavingTimestampe: null,
                    shouldDetectExpression: null,
                    pauseDetecting: !1,
                    compareResult: null,
                    finalResult: {
                        examRecordDataId: 0,
                        faceBiopsyItemId: 0,
                        verifySteps: [{
                            action: "FACE_COMPARE",
                            errorMsg: "string",
                            resourceType: "PIC",
                            resourceUrl: "string",
                            result: !0,
                            resultJson: "string",
                            stay: 0,
                            stepId: 0
                        }]
                    }
                }
            },
            computed: {
                shouldShowSections() {
                    return 0 !== this.currentStep.section && (!!this.introStarted || (!this.isDetecting || !this.shoudAdjustDistance) && this.isDetecting)
                },
                currentStep() {
                    return this.instructions.steps.find(e => !e.finished) || {}
                },
                corFinalResult() {
                    const e = this.finalResult.verifySteps.findIndex(e => e.stepId === this.currentStep.stepId);
                    return this.finalResult.verifySteps[e]
                },
                instructionsFinished() {
                    return this.instructions.steps.every(e => e.finished)
                },
                reverseSection() {
                    return [3, 2, 1][this.currentStep.section - 1] - 1
                },
                stepProgress() {
                    if (this.instructionsFinished)
                        return 0;
                    if (!this.behaving)
                        return 100;
                    let e = 100 - 100 * (this.behavingTimestampe - this.behavingStartDate) / (1e3 * this.currentStep.stay);
                    return e > 100 ? e = 100 : e < 0 && (e = 0),
                        e
                }
            },
            watch: {
                instructionsFinished(e) {
                    e && (clearInterval(this.remainInteval),
                        this.isDetecting = !1,
                        this.$Message.success({
                            content: "娲讳綋妫€娴嬮€氳繃",
                            duration: 5
                        }),
                        this.closeMe())
                },
                "instructions.total"(e) {
                    !this.instructionsFinished && e <= 0 && (console.log(this.corFinalResult),
                        this.corFinalResult.timeout = !0,
                        this.corFinalResult.result = !1,
                        this.corFinalResult.errorMsg = "瓒呮椂鏈畬鎴�",
                        this.failedTest("瓒呮椂锛佹椿浣撴娴嬪け璐ワ紒"))
                }
            },
            async created() {
                this.updateIsDoingFaceLiveness(!0),
                    this.$Spin.show({}),
                    await this.fetchData(),
                    this.resetTest(),
                    await Ai["nets"].tinyFaceDetector.load(ia),
                    await Ai["loadFaceLandmarkModel"](ia),
                    await Ai["nets"].faceExpressionNet.load(ia),
                    Ai["tf"].ENV.set("WEBGL_PACK", !1)
            },
            mounted() {
                this.run()
            },
            beforeDestroy() {
                this.closeCamera(),
                    this.$Spin.hide()
            },
            methods: Object(p["a"])(Object(p["a"])({}, sa(["updateIsDoingFaceLiveness"])), {}, {
                async fetchData() {
                    const e = this.$route.params.examRecordDataId
                        , t = await this.$httpGetRetry("/api/ecs_oe_student/faceBiopsy/getFaceBiopsyInfo?examRecordDataId=" + e);
                    if ("undefined" === typeof t)
                        return this.$Message.error({
                            content: "鑾峰彇娲讳綋妫€娴嬩俊鎭け璐ワ紝閫€鍑虹櫥褰�",
                            duration: 15,
                            closable: !0
                        }),
                            this.closeMe(),
                            void this.logout("?LogoutReason=鑾峰彇娲讳綋妫€娴嬩俊鎭け璐�");
                    const s = t.data;
                    console.log(s),
                        this.faceBiopsyInfo = s
                },
                async closeMe() {
                    this.closeCamera(),
                        this.updateIsDoingFaceLiveness(!1);
                    const e = await this.$httpPostRetry("/api/ecs_oe_student/faceBiopsy/saveFaceBiopsyResult", this.finalResult);
                    if ("undefined" === typeof e)
                        return this.$Message.error({
                            content: "淇濆瓨娲讳綋妫€娴嬩俊鎭け璐ワ紝閫€鍑虹櫥褰�",
                            duration: 15,
                            closable: !0
                        }),
                            void this.logout("?LogoutReason=淇濆瓨娲讳綋妫€娴嬩俊鎭け璐�");
                    const t = e.data;
                    console.log(t),
                        this.$emit("close-face-motion", t)
                },
                resetTest() {
                    this.shoudAdjustDistance = !0,
                        this.behavingStartDate = null,
                        this.happyFailedTimes = 0,
                        this.singleFaceFailedTimes = 0,
                        this.totalDetectTimes = 0;
                    const e = this.faceBiopsyInfo.verifySteps.map(e => ({
                        section: 0,
                        stay: e.stay,
                        happy: "HAPPY" === e.action,
                        finished: !1,
                        stepId: e.stepId,
                        action: e.action
                    }));
                    this.instructions = {
                        total: 60,
                        steps: e
                    },
                        console.log(this.instructions),
                        this.shouldDetectExpression = !0;
                    const t = this.$route.params.examRecordDataId;
                    this.finalResult = {
                        examRecordDataId: t,
                        faceBiopsyItemId: this.faceBiopsyInfo.faceBiopsyItemId,
                        verifySteps: this.faceBiopsyInfo.verifySteps
                    }
                },
                async run() {
                    const e = document.getElementById("inputVideo");
                    if (window.__stream)
                        return void (e.srcObject = window.__stream);
                    const t = await navigator.mediaDevices.getUserMedia({ audio: !1, video: { width: 640, height: 480, frameRate: 15 } });
                    e.srcObject = t
                },
                async intro() {
                    this.$Message.info({
                        content: "寮€濮嬫寚瀹氬姩浣滄娴�",
                        duration: 2
                    }),
                        this.$Spin.show({}),
                        this.behavingStartDate = null;
                    const e = () => {
                        this.isDetecting = !0,
                            clearInterval(this.remainInteval),
                            this.remainInteval = setInterval(() => {
                                this.instructions.total--,
                                    this.instructions.total <= 0 && clearInterval(this.remainInteval)
                            }
                                , 1e3),
                            this.onPlay()
                    }
                        ;
                    e()
                },
                async onPlay() {
                    if (!this.doneCompare && this.pauseDetecting)
                        return void console.log({
                            pauseDetecting: this.pauseDetecting
                        });
                    if (this.asked || (this.asked = !0,
                        await this.waitingForInputSize(),
                        await this.increaseTestSpeed(),
                        await this.intro()),
                        !this.isDetecting)
                        return;
                    const e = performance.now()
                        , t = document.getElementById("inputVideo");
                    this.___vWidth = this.___vWidth || document.getElementById("video-container").clientWidth;
                    const s = aa();
                    let i;
                    this.shouldDetectExpression ? (i = await Ai["detectAllFaces"](t, s).withFaceLandmarks().withFaceExpressions(),
                        this.totalDetectTimes++) : i = await Ai["detectAllFaces"](t, s).withFaceLandmarks();
                    const a = performance.now();
                    if (console.log("live single detect time: ", a - e, " --- ", i && i.length),
                        i && i.length >= 2 && (this.corFinalResult.result = !1,
                            this.corFinalResult.stranger = !0,
                            this.corFinalResult.errorMsg = "妫€娴嬭繃绋嬩腑澶氫汉鑴稿け璐�",
                            console.log("妫€娴嬭繃绋嬩腑澶氫汉鑴稿け璐�"),
                            this.failedTest("妫€娴嬪埌澶氬紶浜鸿劯锛佹椿浣撴娴嬪け璐ワ紒")),
                        i && 0 === i.length && (this.shoudAdjustDistance || this.singleFaceFailedTimes++,
                            this.singleFaceFailedTimes >= 3 && this.singleFaceFailedTimes / this.totalDetectTimes >= .4 && (this.corFinalResult.result = !1,
                                this.corFinalResult.waggleOutCamera = !0,
                                this.corFinalResult.errorMsg = "妫€娴嬭繃绋嬩汉鑴告檭鍑烘憚鍍忓ご",
                                console.log("妫€娴嬭繃绋嬩汉鑴告檭鍑烘憚鍍忓ご"),
                                this.failedTest("娲绘杩囩▼涓病鏈夋娴嬪埌浜鸿劯锛佹椿浣撴娴嬪け璐ワ紒"))),
                        this.shouldDoFaceRecognition && Ai["nets"].ssdMobilenetv1.params && Ai["nets"].faceRecognitionNet.params) {
                        const e = await Ai["detectSingleFace"](t, s).withFaceLandmarks().withFaceDescriptor()
                            , i = await Ai["detectSingleFace"](document.getElementById("base-photo")).withFaceLandmarks().withFaceDescriptor();
                        if (e && i) {
                            const t = new Ai["FaceMatcher"](i)
                                , s = t.findBestMatch(e.descriptor);
                            s.distance > .8 && console.log("%c鑲畾涓嶆槸鐜嬬珷鍐�", "color: red"),
                                s.distance >= .4 && s.distance <= .8 && console.log("鏈夊彲鑳芥槸鐜嬬珷鍐�"),
                                s.distance < .4 && console.log("%c鑲畾鏄帇绔犲啗", "color: green"),
                                console.log(s.toString())
                        }
                    }
                    if (i && i[0]) {
                        i = i[0];
                        const e = document.getElementById("overlay")
                            , s = Ai["matchDimensions"](e, t, !0)
                            , a = Ai["resizeResults"](i, s);
                        let n;
                        if (n = this.shouldDetectExpression || a.detection ? a.detection.box : a.box,
                            n.area > 6e4 || n.area < 2e4) {
                            const e = n.area > 6e4 ? "璇疯繙绂绘憚鍍忓ご" : "璇烽潬杩戞憚鍍忓ご";
                            if (this.tipHandler = this.tipHandler || Object(ta["a"])(e => {
                                this.$Message.warning({
                                    content: e,
                                    duration: 1
                                })
                            }
                                , 1500),
                                this.tipHandler(e),
                                console.log(e),
                                this.shoudAdjustDistance)
                                return void setTimeout(() => this.onPlay(), 300)
                        } else if (this.shoudAdjustDistance = !1,
                            "FACE_COMPARE" === this.currentStep.action) {
                            console.log("璇ュ仛鍚屾浜鸿劯姣斿浜�");
                            try {
                                if (this.pauseDetecting || this.doneCompare)
                                    return;
                                this.pauseDetecting = !0;
                                const e = await this.snap();
                                if (console.log("寰楀埌姣斿缁撴灉"),
                                    !e)
                                    return;
                                if (this.compareResult = e,
                                    this.finalResult.verifySteps[0].result = this.compareResult.isPass,
                                    this.finalResult.verifySteps[0].resourceType = "PIC",
                                    this.finalResult.verifySteps[0].resourceUrl = this.compareResult.fileUrl,
                                    this.finalResult.verifySteps[0].resultJson = JSON.stringify(this.compareResult),
                                    this.finalResult.verifySteps[0].errorMsg = this.compareResult.errorMsg,
                                    this.pauseDetecting = !1,
                                    this.doneCompare = !0,
                                    !this.compareResult.isPass || this.compareResult.isStranger)
                                    return void this.failedTest("浜鸿劯鍚屾姣斿澶辫触");
                                console.log("浜鸿劯鍚屾姣斿鎴愬姛"),
                                    this.singleFaceFailedTimes = 0,
                                    !this.instructionsFinished && this.currentStep && (this.currentStep.finished = !0)
                            } catch (o) {
                                console.log(o)
                            } finally {
                                this.doneCompare || (this.pauseDetecting = !1),
                                    this.videoStartPlay()
                            }
                        }
                        const r = n.left + (n.right - n.left) / 2;
                        if (r > this.___vWidth * ((this.currentStep.section - 1) / 3) && r < this.___vWidth * (this.currentStep.section / 3) || 0 === this.currentStep.section) {
                            if (null === this.behavingStartDate) {
                                if (this.shouldDetectExpression && (i.expressions.happy < .5 && this.currentStep.happy || i.expressions.neutral < .5 && !this.currentStep.happy))
                                    return this.$Message.warning({
                                        content: this.currentStep.happy ? "璇蜂繚鎸佸井绗�" : "璇蜂繚鎸佷弗鑲�",
                                        duration: 1
                                    }),
                                        console.log(this.currentStep.happy ? "璇蜂繚鎸佸井绗�" : "璇蜂繚鎸佷弗鑲�"),
                                        void setTimeout(() => this.onPlay(), 1e3);
                                this.behavingStartDate = new Date
                            }
                            this.behaving = !0,
                                this.behavingTimestampe = Date.now()
                        } else
                            this.behaving = !1,
                                this.behavingStartDate = null,
                                this.moveFaceMessage || (this.moveFaceMessage = this.$Message.info({
                                    content: "璇峰皢鎮ㄧ殑鑴搁儴绉诲悜绗戣劯鎵€鍦ㄧ殑鍖哄潡",
                                    duration: 1
                                }),
                                    setTimeout(() => {
                                        this.moveFaceMessage = null
                                    }
                                        , 3e3));
                        this.shouldDetectExpression && this.behavingStartDate && (i.expressions.happy < .5 && this.currentStep.happy && (this.happyFailedTimes++,
                            this.happyFailedTimes % 2 && Date.now() - (this.showExpresionTipDate || 0) > 1500 && (this.showExpresionTipDate = Date.now(),
                                this.$Message.warning({
                                    content: this.currentStep.happy ? "璇蜂繚鎸佸井绗�" : "璇蜂繚鎸佷弗鑲�",
                                    duration: 1
                                }),
                                console.log(this.currentStep.happy ? "璇蜂繚鎸佸井绗�" : "璇蜂繚鎸佷弗鑲�"))),
                            i.expressions.neutral < .5 && !this.currentStep.happy && (this.happyFailedTimes++,
                                this.happyFailedTimes % 2 && Date.now() - (this.showExpresionTipDate || 0) > 1500 && (this.showExpresionTipDate = Date.now(),
                                    this.$Message.warning({
                                        content: this.currentStep.happy ? "璇蜂繚鎸佸井绗�" : "璇蜂繚鎸佷弗鑲�",
                                        duration: 1
                                    }),
                                    console.log(this.currentStep.happy ? "璇蜂繚鎸佸井绗�" : "璇蜂繚鎸佷弗鑲�"))),
                            this.happyFailedTimes / this.totalDetectTimes >= .4 && (this.corFinalResult.result = !1,
                                this.corFinalResult.errorMsg = "鍔ㄤ綔閿欒",
                                console.log("鍔ㄤ綔閿欒"),
                                this.failedTest("鎸囧畾琛ㄦ儏澶辫触锛佹椿浣撴娴嬪け璐ワ紒")));
                        const c = 500;
                        this.behaving && Date.now() - this.behavingStartDate - c > 1e3 * this.currentStep.stay && (console.log("閫氳繃section" + this.currentStep.section),
                            this.behaving = !1,
                            this.happyFailedTimes = 0,
                            this.behavingStartDate = null,
                            !this.instructionsFinished && this.currentStep && (this.corFinalResult.result = !0,
                                this.currentStep.finished = !0))
                    }
                    setTimeout(() => this.onPlay(), 300)
                },
                failedTest(e) {
                    clearInterval(this.remainInteval),
                        this.isDetecting = !1,
                        this.instructionsFinished || this.$Message.error({
                            content: e || "娲讳綋妫€娴嬪け璐�",
                            duration: 5
                        }),
                        this.closeMe()
                },
                async waitingForInputSize() {
                    for (let e = 0; e < 30; e++) {
                        if (window.__inputSize)
                            break;
                        console.log("waitingForInputSize", e),
                            await new Promise(e => setTimeout(() => e(), 3e3))
                    }
                    console.log("window.__inputSize", window.__inputSize)
                },
                async increaseTestSpeed() {
                    if (this.__inThisMethodOnce)
                        return;
                    this.__inThisMethodOnce = !0;
                    const e = document.getElementById("inputVideo")
                        , t = aa();
                    console.log("increaseTestSpeed ---"),
                        await new Promise(t => { const s = setInterval(() => { e && 4 === e.readyState && Ai["nets"].tinyFaceDetector.params && Ai["nets"].faceExpressionNet.params && (t(), clearInterval(s)), null === document.getElementById("inputVideo") && clearInterval(s) }, 300) }),
                        console.log(e.readyState, Ai["nets"].tinyFaceDetector.params),
                        console.log("increaseTestSpeed --- doing faceapi");
                    const s = await Promise.race([Ai["detectSingleFace"](e, t).withFaceLandmarks().withFaceExpressions(), new Promise(e => setTimeout(e, 2e4, "detectionTimeout"))]);
                    console.log("increaseTestSpeed --- result:", s),
                        this.$Spin.hide(),
                        "detectionTimeout" === s && (this.$Message.error({
                            content: "浜鸿劯妫€娴嬪姛鑳戒笉鍙敤",
                            duration: 15,
                            closable: !0
                        }),
                            this.logout("?LogoutReason=浜鸿劯妫€娴嬪姛鑳戒笉鍙敤")),
                        s ? console.log("increaseTestSpeed --- end successfully") : console.log("increaseTestSpeed --- end failed")
                },
                videoStartPlay() {
                    const e = document.getElementById("inputVideo");
                    e && e.play()
                },
                async snap() {
                    if (!this.disableSnap)
                        try {
                            this.disableSnap = !0;
                            const e = await this.getSnapShot();
                            if (e.size < 10240)
                                throw this.$Message.error({
                                    content: "鎶撴媿鐓х墖澶皬锛�",
                                    duration: 15,
                                    closable: !0
                                }),
                                window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎶撴媿鐓х墖杈冨皬", e.size]),
                                new Error("鎶撴媿鐓х墖杈冨皬");
                            this.videoStartPlay();
                            const [t, s] = await this.uploadToServer(e);
                            return this.faceCompareSync(t, s)
                        } catch (e) {
                            throw console.log("鍚屾鐓х墖姣斿娴佺▼澶辫触"),
                            e
                        } finally {
                            this.videoStartPlay()
                        }
                },
                async getSnapShot() {
                    return new Promise((e, t) => {
                        const s = document.getElementById("inputVideo");
                        if (4 !== s.readyState || !s.srcObject.active)
                            return this.$Message.error({
                                content: "鎽勫儚澶存病鏈夋甯稿惎鐢�",
                                duration: 5,
                                closable: !0
                            }),
                                window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶寸姸鎬�", "鎽勫儚澶存病鏈夋甯稿惎鐢�-閫€鍑�" + (this.lastSnapTime ? "(闈炲垵娆℃姄鎷�)" : "")]),
                                t("鎽勫儚澶存病鏈夋甯稿惎鐢�"),
                                void this.logout("?LogoutReason=鎽勫儚澶存病鏈夋甯稿惎鐢�-閫€鍑�" + (this.lastSnapTime ? "(闈炲垵娆℃姄鎷�)" : ""));
                        s.pause();
                        var i = document.createElement("canvas");
                        i.width = 220,
                            i.height = 165;
                        var a = i.getContext("2d");
                        a.drawImage(s, 0, 0, 220, 165),
                            i.toBlob(e, "image/png", .95)
                    }
                    )
                },
                async uploadToServer(e) {
                    async function t(e) {
                        return new Promise(t => {
                            var s = new FileReader;
                            s.addEventListener("loadend", (function () {
                                t(s.result)
                            })),
                                s.readAsArrayBuffer(e)
                        }
                        )
                    }
                    let s, i;
                    try {
                        const o = await t(e)
                            , n = T()(o);
                        console.log(n);
                        const r = new URLSearchParams;
                        r.append("fileSuffix", "png"),
                            r.append("fileMd5", n);
                        const c = await this.$http.get("/api/ecs_oe_student/examControl/getCapturePhotoYunSign?" + r);
                        let l = new FormData;
                        for (let [e, t] of Object.entries(c.data.formParams))
                            l.append(e, t);
                        l.append("file", e);
                        try {
                            const e = await fetch(c.data.formUrl, { method: "POST", body: l });
                            if (!e.ok)
                                throw e.status
                        } catch (a) {
                            throw window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎶撴媿鐓х墖淇濆瓨澶辫触--upyun", a]),
                            a
                        }
                        s = c.data.accessUrl,
                            i = c.data.signIdentifier,
                            window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎶撴媿鐓х墖淇濆瓨鎴愬姛"])
                    } catch (o) {
                        throw console.log(o),
                        window._hmt.push(["_trackEvent", "鎽勫儚澶存", "淇濆瓨鎶撴媿鐓х墖鍒版湇鍔″櫒澶辫触锛�"]),
                        this.$Message.error({
                            content: "鎶撴媿鐓х墖淇濆瓨澶辫触锛�",
                            duration: 15,
                            closable: !0
                        }),
                        new Error("鎶撴媿鐓х墖淇濆瓨澶辫触锛�")
                    }
                    return [s, i]
                },
                async faceCompareSync(e, t) {
                    try {
                        const s = await this.$http.post("/api/ecs_oe_student_face/examCaptureQueue/compareFaceSync?signIdentifier=" + t + "&fileUrl=" + encodeURIComponent(e));
                        return s.data
                    } catch (s) {
                        throw console.log(s),
                        new Error("鍚屾鐓х墖姣旇緝澶辫触锛�")
                    }
                },
                closeCamera: function () {
                    if (console.log("鍏抽棴鎽勫儚澶�"),
                        window.__stream)
                        return;
                    const e = document.getElementById("inputVideo");
                    e && e.srcObject && (e.srcObject.getTracks().forEach((function (e) {
                        e.stop()
                    })),
                        e.srcObject = null)
                }
            })
        }
            , na = oa
            , ra = (s("7e89"),
                s("0e91"),
                Object(l["a"])(na, Zi, ea, !1, null, "729d6e51", null))
            , ca = ra.exports
            , la = s("15ad")
            , da = s("cddd");
        const { mapState: ua, mapMutations: ha } = Object(w["a"])("examingHomeModule");
        var ma = {
            name: "ExamingHome",
            components: {
                RemainTime: ct,
                OverallProgress: pt,
                QuestionFilters: xt,
                QuestionView: pi,
                ArrowNavView: yi,
                QuestionNavView: Ii,
                FaceRecognition: q,
                FaceId: Yi,
                FaceMotion: ca,
                FaceTracking: Hi
            },
            beforeRouteUpdate(e, t, s) {
                window._hmt.push(["_trackEvent", "绛旈椤甸潰", "棰樼洰鍒囨崲"]),
                    this.answerAllQuestions(),
                    s()
            },
            data() {
                return {
                    showFaceId: !1,
                    showFaceMotion: !1,
                    faceEnable: !1,
                    timeouted: !1,
                    startVideoAfterDelay: !1,
                    PRODUCTION: !0,
                    disableExamingBecauseRemoteApp: !1,
                    courseName: ""
                }
            },
            computed: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["QECSConfig"])), ua(["exam", "paperStruct", "examQuestionList", "snapNow", "snapProcessingCount", "shouldSubmitPaper", "remainTime", "questionAnswerFileUrl", "uploadModalVisible", "exceedSwitchCount"])), {}, {
                previousQuestionOrder: e => e.examQuestion().order > 1 ? e.examQuestion().order - 1 : null,
                nextQuestionOrder: e => e.examQuestion().order < e.examQuestionList.length ? e.examQuestion().order + 1 : null
            }),
            watch: {
                $route: function () {
                    this.examQuestion()
                },
                shouldSubmitPaper() {
                    this.logger({
                        action: "鏃堕棿鍒拌嚜鍔ㄤ氦鍗�"
                    }),
                        this.realSubmitPaper()
                },
                questionAnswerFileUrl(e) {
                    const t = this.$route.params.examRecordDataId
                        , s = this;
                    for (const i of e)
                        if (!i.saved) {
                            let e = "CONFIRMED";
                            "PIC" !== i.transferFileType || i.order == this.$route.params.order && this.uploadModalVisible || (e = "DISCARDED"),
                                this.$http.post("/api/ecs_oe_student/examControl/saveUploadedFileAcknowledgeStatus", {
                                    examRecordDataId: t,
                                    filePath: i.fileUrl,
                                    order: i.order,
                                    acknowledgeStatus: e
                                }).then(() => {
                                    "AUDIO" === i.transferFileType ? s.updateExamQuestion({
                                        order: i.order,
                                        studentAnswer: i.fileUrl
                                    }) : "CONFIRMED" === e && "PIC" === i.transferFileType && s.updatePicture(i),
                                        i.saved = !0,
                                        "CONFIRMED" === e && this.$Message.info({
                                            content: "灏忕▼搴忎綔绛斿凡鏇存柊",
                                            duration: 5,
                                            closable: !0
                                        })
                                }
                                ).catch(() => {
                                    this.$Message.error({
                                        content: "鏇存柊灏忕▼搴忕瓟妗堝け璐ワ紒",
                                        duration: 15,
                                        closable: !0
                                    })
                                }
                                )
                        }
                },
                exceedSwitchCount(e) {
                    e && (this.logger({
                        action: "鍒囧睆瓒呭嚭娆℃暟鑷姩浜ゅ嵎"
                    }),
                        this.realSubmitPaper())
                },
                remainTime(e) {
                    const t = this.$createElement;
                    3e5 === e ? (this.reaminModalCreated = !0,
                        this.$Modal.info({
                            render: () => t("div", [t("h3", ["娓╅Θ鎻愰啋"]), t("div", {
                                style: "margin-top: 20px; margin-left: 20px; flex: 1"
                            }, [t("div", {
                                style: "margin-bottom: 1.5em"
                            }, ["杩樻湁", t("span", {
                                style: "font-weight: bold; color: red;"
                            }, [" 浜� "]), "鍒嗛挓鍗冲皢缁撴潫鏈満鑰冭瘯锛岃鍚堢悊鍒嗛厤鏃堕棿锛�"])])]),
                            onOk: () => {
                                this.reaminModalClosed = !0
                            }
                        })) : 29e4 === e && this.reaminModalCreated && !this.reaminModalClosed && this.$Modal.remove()
                }
            },
            async created() {
                this.timeoutTimeout = setTimeout(() => this.timeouted = !0, 3e4),
                    this.logger({
                        action: "绛旈椤甸潰",
                        detail: "杩涘叆绛旈椤甸潰-created",
                        examRecordDataId: this.$route.params.examRecordDataId
                    });
                try {
                    await this.initData()
                } catch (e) {
                    return this.logger({
                        action: "绛旈椤甸潰",
                        detail: "鑾峰彇鑰冭瘯鍜岃瘯鍗蜂俊鎭け璐ワ紝閫€鍑虹櫥褰�"
                    }),
                        this.$Message.error({
                            content: "鑾峰彇鑰冭瘯鍜岃瘯鍗蜂俊鎭け璐ワ紝閫€鍑虹櫥褰�",
                            duration: 15,
                            closable: !0
                        }),
                        void this.logout("?LogoutReason=鑾峰彇鑰冭瘯鍜岃瘯鍗蜂俊鎭け璐�")
                }
                this.submitInterval = setInterval(() => this.answerAllQuestions(), 5e3),
                    this.checkRemoteAppInterval = setInterval(() => this.checkRemoteApp(), 18e4),
                    console.log("鑰冭瘯寮€濮� ", this.$route.params.examRecordDataId)
            },
            async mounted() {
                if (document.body.classList.toggle("hide-body-scroll", !0),
                    this.startVideoAfterDelayTimeout = setTimeout(() => {
                        this.startVideoAfterDelay = !0
                    }
                        , 1e4),
                    window._hmt.push(["_trackEvent", "绛旈椤甸潰", "杩涘叆椤甸潰"]),
                    "undefined" != typeof nodeRequire)
                    try {
                        var e = window.nodeRequire("fs");
                        e.existsSync("multiCamera.exe") && await new Promise((t, s) => { window.nodeRequire("node-cmd").get("multiCamera.exe", () => { try { let s = e.readFileSync("CameraInfo.txt", "utf-8"); s && s.trim() && (s = s.trim(), s = s.replace(/\r\n/g, ""), s = s.replace(/\n/g, ""), console.log(s)), t() } catch (i) { s("璇诲彇鎽勫儚澶村垪琛ㄥけ璐�") } }) })
                    } catch (t) {
                        console.log(t)
                    }
            },
            beforeDestroy() {
                clearTimeout(this.timeoutTimeout),
                    clearInterval(this.submitInterval),
                    clearInterval(this.initSnapInterval),
                    clearInterval(this.snapInterval),
                    clearTimeout(this.faceIdMsgTimeout),
                    clearTimeout(this.checkMainTimeout),
                    clearTimeout(this.faceIdDivTimeout),
                    clearTimeout(this.startVideoAfterDelayTimeout),
                    clearInterval(this.checkRemoteAppInterval),
                    le(),
                    this.updateExamState({
                        exam: null,
                        paperStruct: null,
                        examQuestionList: null,
                        questionAnswerFileUrl: [],
                        pictureAnswer: {},
                        snapNow: !1,
                        snapProcessingCount: 0,
                        exceedSwitchCount: !1
                    }),
                    this.$Modal.remove(),
                    document.body.classList.toggle("hide-body-scroll", !1)
            },
            methods: Object(p["a"])(Object(p["a"])({}, ha(["updateExamState", "updateExamQuestion", "toggleSnapNow", "updateExamResult", "resetExamQuestionDirty", "updatePicture"])), {}, {
                async initData() {
                    this.logger({
                        action: "绛旈椤甸潰",
                        detail: "before initData"
                    });
                    const [{ data: e }, { data: t }, { data: s }, { data: i }, { data: a }, { data: o }, { data: n }, { data: r }] = await Promise.all([this.$http.get("/api/ecs_exam_work/exam/weixinAnswerEnabled/" + this.$route.params.examId), this.$http.get("/api/ecs_exam_work/exam/faceCheckEnabled/" + this.$route.params.examId), this.$http.get("/api/ecs_exam_work/exam/identificationOfLivingEnabled/" + this.$route.params.examId), this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + this.$route.params.examId + "/SNAPSHOT_INTERVAL,PRACTICE_TYPE,FREEZE_TIME"), this.$http.get("/api/ecs_exam_work/exam/" + this.$route.params.examId), this.$http.get("/api/ecs_oe_student/examRecordPaperStruct/getExamRecordPaperStruct?examRecordDataId=" + this.$route.params.examRecordDataId), this.$http.get("/api/ecs_oe_student/examQuestion/findExamQuestionList"), this.$http.get("/api/ecs_oe_student/examControl/courseName/" + this.$route.params.examRecordDataId)]);
                    this.courseName = r;
                    let c = null;
                    s && (c = await this.initFaceLiveness());
                    let l = n;
                    if (void 0 === e || void 0 === t || void 0 === s || void 0 === i || void 0 === a || void 0 === o || void 0 === l || s && !1 === c)
                        throw console.log({
                            weixinAnswerEnabled: e,
                            faceCheckEnabled: t,
                            faceLivenessEnabled: s,
                            examProp: i,
                            exam: a,
                            paperStruct: o,
                            examQuestionList: l,
                            initFaceLivenessResult: c
                        }),
                        new Error("鑾峰彇鑰冭瘯鍜岃瘯鍗蜂俊鎭け璐�");
                    if (this.logger({
                        action: "绛旈椤甸潰",
                        detail: `end${"function" === typeof Object.fromEntries ? " " : "銆€"}initData`
                    }),
                        this.logger({
                            action: "绛旈椤甸潰dimension",
                            scrollX: window.scrollX,
                            scrollY: window.scrollY,
                            width: window.screen.width,
                            height: window.screen.height,
                            screenX: window.screen.availWidth,
                            screenY: window.screen.availHeight,
                            clientWidth: document.documentElement.clientWidth,
                            clientHeight: document.documentElement.clientHeight,
                            windowInnerWidth: window.innerWidth,
                            windowInnerHeight: window.innerHeight,
                            windowOuterWidth: window.outerWidth,
                            windowOuterHeight: window.outerHeight,
                            equal1: "dimesion1" + (window.screen.width === window.outerWidth && window.screen.height === window.outerHeight),
                            equal2: "dimesion2" + (window.innerWidth === window.outerWidth && window.innerHeight === window.outerHeight)
                        }),
                        this.checkMainTimeout = setTimeout(() => {
                            Y["h"].includes(window.location.hostname) && (Object(It["a"])() || (this.$http.post("/api/ecs_oe_student/client/exam/process/discipline"),
                                this.logger({
                                    action: "绛旈椤甸潰discipline"
                                })))
                        }
                            , 6e4),
                        a.WEIXIN_ANSWER_ENABLED = e,
                        t) {
                        this.faceEnable = !0;
                        let e = 0;
                        if (this.initSnapInterval = setInterval(() => {
                            const t = document.getElementById("video")
                                , s = !t || 4 !== t.readyState || !t.srcObject.active;
                            s && e < 5 ? (e++,
                                this.logger({
                                    action: "绛旈椤甸潰",
                                    detail: `杩涘叆鑰冭瘯鍚�60绉掑唴鎶撴媿-(绗�${e}娆″皾璇�)`
                                })) : (clearInterval(this.initSnapInterval),
                                    s ? (this.logger({
                                        action: "绛旈椤甸潰",
                                        detail: "鎽勫儚澶存病鏈夋甯稿惎鐢�-杩涘叆鑰冭瘯鎶撴媿"
                                    }),
                                        this.$Message.error({
                                            content: "鎽勫儚澶存病鏈夋甯稿惎鐢�",
                                            duration: 5,
                                            closable: !0
                                        }),
                                        window._hmt.push(["_trackEvent", "鎽勫儚澶存", "鎽勫儚澶寸姸鎬�", "鎽勫儚澶存病鏈夋甯稿惎鐢�-杩涘叆鑰冭瘯鎶撴媿"]),
                                        this.logout("?LogoutReason=鎽勫儚澶存病鏈夋甯稿惎鐢�-閫€鍑�")) : (this.logger({
                                            action: "绛旈椤甸潰",
                                            detail: `杩涘叆鑰冭瘯鍚�60绉掑唴鎶撴媿-(绗�${e + 1}娆″皾璇曟垚鍔�)`
                                        }),
                                            this.toggleSnapNow()))
                        }
                            , 1e4),
                            i.SNAPSHOT_INTERVAL) {
                            const e = JSON.parse(i.SNAPSHOT_INTERVAL);
                            this.snapInterval = setInterval(() => {
                                this.logger({
                                    action: "绛旈椤甸潰",
                                    detail: "瀹氭椂鎶撴媿",
                                    SNAPSHOT_INTERVAL: i.SNAPSHOT_INTERVAL
                                }),
                                    this.toggleSnapNow()
                            }
                                , 60 * e * 1e3)
                        }
                    }
                    "PRACTICE" === a.examType && (this.practiceType = i.PRACTICE_TYPE,
                        a.practiceType = i.PRACTICE_TYPE),
                        a.freezeTime = i.FREEZE_TIME && JSON.parse(i.FREEZE_TIME),
                        this.logger({
                            page: "绛旈椤甸潰",
                            examRecordDataId: this.$route.params.examRecordDataId,
                            faceCheckEnabled: t,
                            faceLivenessEnabled: s,
                            WEIXIN_ANSWER_ENABLED: a.WEIXIN_ANSWER_ENABLED,
                            SNAPSHOT_INTERVAL: i.SNAPSHOT_INTERVAL,
                            PRACTICE_TYPE: i.PRACTICE_TYPE,
                            FREEZE_TIME: i.FREEZE_TIME
                        });
                    let d = null
                        , u = 1;
                    l = l.map(e => (d == e.questionId || (u = 1,
                        d = e.questionId),
                        e.subNumber = u++,
                        e));
                    let h = 1
                        , m = 0;
                    l = l.map(e => {
                        m == e.mainNumber || (m = e.mainNumber,
                            h = 1),
                            e.groupOrder = h++;
                        const t = o.defaultPaper.questionGroupList[e.mainNumber - 1].questionWrapperList
                            , s = o.defaultPaper.questionGroupList[e.mainNumber - 1].groupName
                            , i = t.reduce((e, t) => e + t.questionUnitWrapperList.length, 0);
                        return e.groupName = s,
                            e.groupTotal = i,
                            e
                    }
                    ),
                        l = l.map(e => {
                            const t = o.defaultPaper.questionGroupList[e.mainNumber - 1].questionWrapperList.find(t => t.questionId === e.questionId);
                            return Object.assign(e, {
                                limitedPlayTimes: t.limitedPlayTimes
                            })
                        }
                        ),
                        this.updateExamState({
                            exam: a,
                            paperStruct: o,
                            examQuestionList: l,
                            allAudioPlayTimes: JSON.parse(l[0].audioPlayTimes) || [],
                            questionAnswerFileUrl: [],
                            pictureAnswer: {}
                        });
                    const p = a.WEIXIN_ANSWER_ENABLED;
                    if (p) {
                        const e = this.$route.params.examRecordDataId;
                        re({
                            examRecordDataId: e
                        })
                    }
                },
                updateQuestion: async function (e) {
                    e && e(),
                        this.exam
                },
                async initFaceLiveness() {
                    let e = null
                        , t = null;
                    {
                        const i = this.$route.params.examRecordDataId;
                        for (let a = 0; a < 100; a++)
                            try {
                                const s = await this.$http.get("/api/ecs_oe_student/faceBiopsy/getFaceBiopsyBaseInfo?examRecordDataId=" + i);
                                console.log(s.data),
                                    e = s.data.faceVerifyMinute,
                                    t = s.data.identificationOfLivingBodyScheme;
                                break
                            } catch (s) {
                                if (console.log(s),
                                    s.response)
                                    break;
                                await new Promise(e => setTimeout(e, 1e3));
                                continue
                            }
                    }
                    return null !== t && (e && this.$nextTick(async () => {
                        await new Promise(e => setTimeout(() => { e() }, 1e4)),
                            console.log("娲绘瀹氭椂"),
                            this.logger({
                                action: "娲绘瀹氭椂",
                                detail: e
                            });
                        const s = !this.remainTime || this.remainTime / 6e4 - 1 > e;
                        s && (this.faceIdMsgTimeout = setTimeout(() => {
                            this.logger({
                                action: "绛旈椤甸潰",
                                detail: "娲讳綋妫€娴嬪墠鎶撴媿"
                            }),
                                this.toggleSnapNow(),
                                this.$Message.info({
                                    content: "30绉掑悗寮€濮嬫寚瀹氬姩浣滄娴�",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                            , 60 * e * 1e3 - 3e4),
                            this.faceIdDivTimeout = setTimeout(() => {
                                "S1" === t ? this.showFaceId = !0 : "S2" === t && (this.showFaceMotion = !0)
                            }
                                , 60 * e * 1e3))
                    }
                    ),
                        !0)
                },
                closeFaceId() {
                    this.showFaceId = !1
                },
                async closeFaceMotion(e) {
                    if (this.showFaceMotion = !1,
                        console.log(e),
                        e.endExam)
                        this.logout("?LogoutReason=娲绘鍚庡彴浜ゅ嵎");
                    else if (e.needNextVerify) {
                        const e = await this.initFaceLiveness();
                        !1 === e && (this.logger({
                            action: "绛旈椤甸潰",
                            detail: "娲绘鎺ュ彛鍐嶆鑾峰彇澶辫触-閫€鍑�"
                        }),
                            window._hmt.push(["_trackEvent", "绛旈椤甸潰", "娲绘鎺ュ彛鍐嶆鑾峰彇澶辫触-閫€鍑�"]),
                            this.$Message.error({
                                content: "鑾峰彇鑰冭瘯鍜岃瘯鍗蜂俊鎭け璐ワ紝閫€鍑虹櫥褰�",
                                duration: 15,
                                closable: !0
                            }),
                            this.logout("?LogoutReason=娲绘鎺ュ彛鍐嶆鑾峰彇澶辫触-閫€鍑�"))
                    }
                },
                async answerAllQuestions(e) {
                    const t = this.examQuestionList.filter(t => !!e || t.dirty).filter(e => e.getQuestionContent).map(e => Object.assign({
                        order: e.order,
                        studentAnswer: e.studentAnswer
                    }, e.audioPlayTimes && {
                        audioPlayTimes: e.audioPlayTimes
                    }, e.isSign && {
                        isSign: e.isSign
                    }));
                    if (t.length > 0)
                        try {
                            return await this.$http.post("/api/ecs_oe_student/examQuestion/submitQuestionAnswer", t),
                                this.resetExamQuestionDirty(),
                                !0
                        } catch (s) {
                            console.log(s),
                                this.logger({
                                    action: "鎻愪氦绛旀澶辫触",
                                    errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t),
                                    errorName: s.name,
                                    errorMessage: s.message,
                                    errorStack: s.stack
                                }),
                                this.$Message.error({
                                    content: "鎻愪氦绛旀澶辫触",
                                    duration: 15,
                                    closable: !0
                                }),
                                window._hmt.push(["_trackEvent", "绛旈椤甸潰", "鎻愪氦绛旀澶辫触", s.message + " |||| " + (((s.response || {}).data || {}).desc || "")])
                        }
                },
                async submitPaper() {
                    this.logger({
                        action: "瀛︾敓鐐瑰嚮浜ゅ嵎"
                    });
                    try {
                        const e = await this.answerAllQuestions(!0);
                        if (!e)
                            return
                    } catch (a) {
                        return
                    }
                    if (this.exam.freezeTime && this.remainTime > 60 * (this.exam.duration - this.exam.freezeTime) * 1e3)
                        return void this.$Message.info({
                            content: `鑰冭瘯寮€濮�${this.exam.freezeTime}鍒嗛挓鍚庢墠鍏佽浜ゅ嵎銆俙,
                            duration: 5,
                            closable: !0
                        });
                    const e = this.examQuestionList.filter(e => null !== e.studentAnswer).length
                        , t = this.examQuestionList.filter(e => null === e.studentAnswer).length
                        , s = this.examQuestionList.filter(e => e.isSign).length
                        , i = Date.now();
                    this.$Modal.confirm({
                        title: "纭浜ゅ嵎",
                        content: `<p>宸茬瓟棰樼洰锛�${e}</p><p>鏈瓟棰樼洰锛�${t}</p><p>鏍囪棰樼洰锛�${s}</p>`,
                        onOk: () => {
                            this.realSubmitPaper(i)
                        }
                    })
                },
                async realSubmitPaper(e = 0) {
                    const t = this.$createElement;
                    this.__submitPaperStartTime = Date.now(),
                        this.$Spin.show({
                            render: () => t("div", {
                                style: "font-size: 44px"
                            }, ["姝ｅ湪浜ゅ嵎锛岃鑰愬績绛夊緟..."])
                        }),
                        this.logger({
                            action: "姝ｅ湪浜ゅ嵎锛岃鑰愬績绛夊緟..."
                        }),
                        this.faceEnable && (this.logger({
                            action: "浜ゅ嵎鍓嶆姄鎷�"
                        }),
                            this.toggleSnapNow());
                    let s = 5 - (Date.now() - e) / 1e3;
                    s < 0 && (s = 0),
                        s += 1,
                        setTimeout(() => this.realSubmitPaperStep2(), 1e3 * s),
                        this.submitCount = 1
                },
                async realSubmitPaperStep2() {
                    if (this.snapProcessingCount > 0 && (this.submitCount++,
                        this.submitCount < 200))
                        return console.log("涓€鍒嗛挓鍚庯紝寮哄埗浜ゅ嵎"),
                            void setTimeout(() => this.realSubmitPaperStep2(), 300);
                    if (!this.submitLock)
                        if (this.submitLock = !0,
                            "OnlineExamingHome" === this.$route.name) {
                            try {
                                const e = this.$route.params.examId
                                    , t = this.$route.params.examRecordDataId
                                    , s = await this.$http.get("/api/ecs_oe_student/examControl/endExam");
                                if (200 === s.status)
                                    return this.$router.replace({
                                        path: `/online-exam/exam/${e}/examRecordData/${t}/end`
                                    }),
                                        this.submitLock = !0,
                                        this.$Spin.hide(),
                                        this.__submitPaperEndTime = Date.now(),
                                        window._hmt.push(["_trackEvent", "浜ゅ嵎鑰楁椂", Number((this.__submitPaperEndTime - this.__submitPaperStartTime) / 1e3).toPrecision(1) + "绉�"]),
                                        void this.logger({
                                            action: "浜ゅ嵎鎴愬姛",
                                            cost: this.__submitPaperEndTime - this.__submitPaperStartTime,
                                            UA: navigator.userAgent
                                        });
                                this.$Message.error({
                                    content: "浜ゅ嵎澶辫触",
                                    duration: 15,
                                    closable: !0
                                }),
                                    this.logger({
                                        action: "浜ゅ嵎澶辫触",
                                        detail: "endExam response status is not 200"
                                    }),
                                    this.submitLock = !1
                            } catch (e) {
                                this.$Message.error({
                                    content: "浜ゅ嵎澶辫触",
                                    duration: 15,
                                    closable: !0
                                }),
                                    console.log(e),
                                    this.logger({
                                        action: "浜ゅ嵎澶辫触",
                                        errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                                        errorName: e.name,
                                        errorMessage: e.message,
                                        errorStack: e.stack
                                    })
                            }
                            this.submitLock = !1,
                                this.$Spin.hide()
                        } else
                            this.$Spin.hide()
                },
                examQuestion() {
                    return this.examQuestionList && this.examQuestionList.find(e => e.order == this.$route.params.order)
                },
                reloadPage() {
                    window._hmt.push(["_trackEvent", "绛旈椤甸潰", "椤甸潰鍔犺浇澶辫触", "reload"]),
                        this.logger({
                            page: "绛旈椤甸潰",
                            button: "閲嶈瘯鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                        window.location.reload()
                },
                async checkRemoteAppClicked() {
                    this.logger({
                        page: "绛旈椤甸潰",
                        button: "纭宸插叧闂繙绋嬫闈㈣蒋浠�",
                        action: "鐐瑰嚮"
                    }),
                        this.checkRemoteApp()
                },
                async checkRemoteApp() {
                    if ("undefined" != typeof nodeRequire)
                        if (this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("DISABLE_REMOTE_ASSISTANCE")) {
                            let s = "Project1.exe";
                            if (Object(la["b"])("Project2.exe")) {
                                const e = da["a"];
                                s = `Project2.exe "${e}" `
                            }
                            const i = window.nodeRequire("fs");
                            try {
                                i.unlinkSync("remoteApplication.txt")
                            } catch (t) {
                                console.log(t)
                            }
                            await Object(la["a"])(s, e.bind(this))
                        } else
                            this.disableExamingBecauseRemoteApp = !1;
                    async function e() {
                        let e;
                        try {
                            const s = window.nodeRequire("fs");
                            try {
                                e = s.readFileSync("remoteApplication.txt", "utf-8")
                            } catch (t) {
                                console.log(t),
                                    window._hmt.push(["_trackEvent", "绛旈椤甸潰", "璇诲彇remoteApplication.txt鍑洪敊--0"]),
                                    await new Promise(e => setTimeout(() => e(), 3e3)),
                                    e = s.readFileSync("remoteApplication.txt", "utf-8")
                            }
                        } catch (t) {
                            return console.log(t),
                                void window._hmt.push(["_trackEvent", "绛旈椤甸潰", "璇诲彇remoteApplication.txt鍑洪敊"])
                        }
                        if (e && e.trim()) {
                            let t = e.replace("qq", "QQ").replace("teamviewer", "TeamViewer").replace("lookmypc", "LookMyPC").replace("xt", "鍗忛€�").replace("winaw32", "Symantec PCAnywhere").replace("pcaquickconnect", "Symantec PCAnywhere").replace("sessioncontroller", "Symantec PCAnywhere").replace(/sunloginclient/gi, "鍚戞棩钁�").replace(/sunloginremote/gi, "鍚戞棩钁�").replace("wemeetapp", "鑵捐浼氳").replace("wechat", "寰俊").replace("todesk", "ToDesk");
                            t = [...new Set(t.split(",").map(e => e.trim()))].join("锛�"),
                                this.disableExamingBecauseRemoteApp = !0,
                                this.$Message.info({
                                    content: "鍦ㄨ€冭瘯鏈熼棿锛岃鍏虫帀" + t + "杞欢锛岃瘹淇¤€冭瘯銆�",
                                    duration: 30
                                })
                        } else
                            this.disableExamingBecauseRemoteApp = !1
                    }
                }
            })
        }
            , pa = ma
            , _a = (s("071d"),
                s("c4d1"),
                Object(l["a"])(pa, et, tt, !1, null, "db5ef90c", null))
            , ga = _a.exports
            , wa = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.loading ? s("div", [e._v("姝ｅ湪绛夊緟鏁版嵁杩斿洖...")]) : s("div", {
                    staticClass: "container",
                    attrs: {
                        id: "exam-end"
                    }
                }, [s("div", {
                    staticClass: "instructions"
                }, [s("h1", {}, [e._v("鑰冭瘯宸茬粨鏉�")]), s("div", [s("img", {
                    staticClass: "user-avatar",
                    attrs: {
                        src: e.user.photoPath,
                        alt: "鏃犲簳鐓�"
                    }
                })]), e.showObjectScore ? s("div", [!e.examResult && e.getResultTimes <= 10 ? s("div", {
                    staticClass: "qm-big-text score-text"
                }, [e._v(" 鑰冭瘯缁撴灉璁＄畻涓�... ")]) : e._e(), !e.examResult && e.getResultTimes > 10 ? s("div", {
                    staticClass: "qm-big-text score-text",
                    staticStyle: {
                        "font-size": "20px"
                    }
                }, [e._v(" 璇风◢鍚庡湪寰呰€冨垪琛ㄤ腑鏌ョ湅瀹㈣棰樺緱鍒嗐€� ")]) : e._e(), e.examResult ? s("div", [e.examResult.isWarn ? e._e() : s("div", {
                    staticClass: "qm-big-text score-text"
                }, [e._v(" 瀹㈣棰樺緱鍒�: "), s("span", {
                    staticStyle: {
                        color: "red"
                    }
                }, [e._v(e._s(e.examResult.objectiveScore))])]), e.examResult.isWarn ? s("div", {
                    staticClass: "qm-big-text score-text"
                }, [e._v(" 瀹㈣棰樺緱鍒�: 鎴愮哗寰呭鏍� ")]) : e._e(), e.showCheatingRemark && e.examResult.isWarn ? s("h1", {
                    staticStyle: {
                        "text-align": "left"
                    }
                }, [e._v(" 杩濈邯鎻愮ず: ")]) : e._e(), e.showCheatingRemark && e.examResult.isWarn ? s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-bottom": "20px"
                    }
                }, [s("p", {
                    domProps: {
                        innerHTML: e._s(e.cheatingRemark)
                    }
                })]) : e._e()]) : e._e()]) : e._e(), s("h1", {
                    staticStyle: {
                        "text-align": "left"
                    }
                }, [e._v("鑰冨悗璇存槑:")]), s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-bottom": "20px"
                    }
                }, [s("p", {
                    domProps: {
                        innerHTML: e._s(e.afterExamRemark)
                    }
                })]), s("router-link", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        display: "inline-block",
                        width: "100%"
                    },
                    attrs: {
                        to: e.backTo,
                        ondragstart: "return false;"
                    }
                }, [e._v(" 杩斿洖涓婚〉 ")])], 1)])
            }
            , fa = [];
        const { mapMutations: va } = Object(w["a"])("examingHomeModule");
        var ya = {
            name: "ExamingEnd",
            data() {
                return {
                    loading: !0,
                    exam: null,
                    afterExamRemark: null,
                    cheatingRemark: null,
                    showObjectScore: null,
                    showCheatingRemark: null,
                    examResult: null,
                    getResultTimes: 0
                }
            },
            computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user"])), {}, {
                backTo() {
                    const e = this.exam && this.exam.examType;
                    return "PRACTICE" === e ? "/online-practice" : "ONLINE_HOMEWORK" === e ? "/online-homework" : "/online-exam"
                }
            }),
            created() {
                this.$Message.destroy()
            },
            async mounted() {
                window._hmt.push(["_trackEvent", "鑰冭瘯缁撴潫椤甸潰", "杩涘叆椤甸潰"]),
                    this.logger({
                        page: "鑰冭瘯缁撴潫椤甸潰",
                        action: "杩涘叆椤甸潰"
                    });
                const e = this.$route.params.examRecordDataId
                    , t = this.$route.params.examId;
                try {
                    if (this.loading = !0,
                        this.exam = (await this.$http.get("/api/ecs_exam_work/exam/" + t)).data,
                        "PRACTICE" === this.exam.examType)
                        return void this.$router.replace(`/online-practice/exam/${t}/detail?examRecordDataId=${e}&disableGoBack=true`);
                    const s = await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + t + "/AFTER_EXAM_REMARK,IS_OBJ_SCORE_VIEW,SHOW_CHEATING_REMARK,CHEATING_REMARK");
                    this.afterExamRemark = s.data.AFTER_EXAM_REMARK || "",
                        this.cheatingRemark = s.data.CHEATING_REMARK || "",
                        this.showObjectScore = "true" === s.data.IS_OBJ_SCORE_VIEW,
                        this.showCheatingRemark = "true" === s.data.SHOW_CHEATING_REMARK,
                        this.loading = !1
                } catch (s) {
                    window._hmt.push(["_trackEvent", "鑰冭瘯缁撴潫椤甸潰", "鑾峰彇鑰冭瘯璁剧疆閿欒锛岃鍦ㄥ緟鑰冨垪琛ㄦ煡鐪嬫垚缁╋紒"]),
                        this.$Message.error({
                            content: "鑾峰彇鑰冭瘯璁剧疆閿欒锛岃鍦ㄥ緟鑰冨垪琛ㄦ煡鐪嬫垚缁╋紒",
                            duration: 15,
                            closable: !0
                        }),
                        this.$router.push("/")
                }
                document.body.style = "",
                    await this.getExamResult()
            },
            beforeDestroy() {
                clearTimeout(this.timeout),
                    this.updateExamState({
                        exam: null,
                        paperStruct: null,
                        examQuestionList: null,
                        questionAnswerFileUrl: [],
                        pictureAnswer: {},
                        snapNow: !1,
                        snapProcessingCount: 0,
                        exceedSwitchCount: !1
                    }),
                    caches.open("audios").then((function (e) {
                        e && e.keys().then((function (t) {
                            t.forEach((function (t) {
                                e.delete(t)
                            }))
                        }))
                    }))
            },
            methods: Object(p["a"])(Object(p["a"])({}, va(["updateExamState"])), {}, {
                async getExamResult() {
                    const e = this.$route.params.examRecordDataId;
                    this.waitingNumber = 0;
                    const t = async () => {
                        if (!("ExamingEnd" !== this.$route.name || this.waitingNumber > 30))
                            try {
                                this.getResultTimes = this.getResultTimes + 1;
                                const s = (await this.$http.get("/api/ecs_oe_student/examControl/getEndExamInfo?examRecordDataId=" + e)).data;
                                if (void 0 === s || null === s || "" === s)
                                    return this.waitingNumber++,
                                        void (this.timeout = setTimeout(() => t(), 3e3));
                                window._hmt.push(["_trackEvent", "鑰冭瘯缁撴潫椤甸潰", "绛夊緟鍒嗘暟", "绛夊緟娆℃暟=" + this.waitingNumber]),
                                    this.examResult = s
                            } catch (s) {
                                this.waitingNumber++,
                                    this.timeout = setTimeout(() => t(), 3e3)
                            }
                    }
                        ;
                    await t()
                }
            })
        }
            , ba = ya
            , xa = (s("8cae"),
                s("7139"),
                Object(l["a"])(ba, wa, fa, !1, null, "16d9f050", null))
            , Ea = xa.exports
            , Sa = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 褰撳墠鎵€鍦ㄤ綅缃細 "), s("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), e.answerCardUrl ? s("div", {
                    staticStyle: {
                        height: "60px",
                        display: "flex",
                        "justify-content": "flex-end"
                    }
                }, [s("div", {
                    staticStyle: {
                        display: "flex",
                        "align-items": "center",
                        "margin-right": "20px"
                    }
                }, [s("span", {
                    staticStyle: {
                        "font-size": "20px"
                    }
                }, [e._v("绛旈绾告ā鏉匡細")]), s("a", {
                    staticStyle: {
                        height: "30px",
                        width: "50px",
                        display: "inline-block",
                        "font-size": "14px",
                        color: "#ffffff",
                        "background-color": "#13bb8a",
                        "border-radius": "6px",
                        padding: "0 5px",
                        "line-height": "30px"
                    },
                    attrs: {
                        href: "#",
                        download: "",
                        disabled: e.downloadUrlDisabled,
                        ondragstart: "return false;"
                    },
                    on: {
                        click: function () {
                            e.logger({
                                page: "绂荤嚎鑰冭瘯椤甸潰",
                                button: "涓嬭浇绛旈鍗℃寜閽�",
                                action: "鐐瑰嚮"
                            }),
                                e.tempDisableBtnAndDownloadPaper()
                        }
                    }
                }, [e._v(" 涓嬭浇 ")])])]) : e._e(), s("div", {
                    staticClass: "home"
                }, [s("ecs-offline-list", {
                    attrs: {
                        courses: e.courses
                    },
                    on: {
                        "reload-list": e.fetchData
                    }
                })], 1)], 1)
            }
            , Ca = []
            , Oa = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(0), e._l(e.courses, (function (t, i) {
                    return s("tr", {
                        key: i
                    }, [s("td", [e._v(e._s(t.courseName))]), s("td", [e._v(e._s(t.specialtyName))]), s("td", [e._v(" " + e._s(t.startTime) + " "), s("br"), e._v(" ~ "), s("br"), e._v(" " + e._s(t.endTime) + " ")]), s("td", [t.offlineFiles ? s("div", e._l(t.offlineFiles, (function (t, i) {
                        return s("div", {
                            key: i
                        }, [s("a", {
                            attrs: {
                                href: t.offlineFileUrl,
                                download: "",
                                title: t.originalFileName,
                                ondragstart: "return false;"
                            },
                            on: {
                                click: function () {
                                    e.logger({
                                        page: "绂荤嚎鑰冭瘯椤�",
                                        button: "涓嬭浇浣滅瓟鎸夐挳",
                                        action: "鐐瑰嚮"
                                    }),
                                        e.downloadOfflineFile(t.offlineFileUrl, t.originalFileName)
                                }
                            }
                        }, [s("Icon", {
                            attrs: {
                                type: "ios-cloud-download"
                            }
                        }), e._v("涓嬭浇浣滅瓟 ")], 1)])
                    })), 0) : s("div", [e._v("鏈笂浼�")])]), s("td", {
                        staticStyle: {
                            "min-width": "180px"
                        }
                    }, [t.isvalid ? e._e() : [t.paperId ? s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-gap": "10px"
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button",
                        on: {
                            click: function (s) {
                                return e.previewPaper(t)
                            }
                        }
                    }, [e._v(" 鏌ョ湅璇曞嵎 ")]), s("a", {
                        directives: [{
                            name: "show",
                            rawName: "v-show",
                            value: !e.downloadingCourse(t),
                            expression: "!downloadingCourse(course)"
                        }],
                        staticClass: "qm-primary-button",
                        attrs: {
                            href: "#",
                            download: "",
                            ondragstart: "return false;"
                        },
                        on: {
                            click: function () {
                                e.logger({
                                    page: "绂荤嚎鑰冭瘯椤甸潰",
                                    button: "涓嬭浇璇曞嵎鎸夐挳",
                                    action: "鐐瑰嚮"
                                }),
                                    e.tempDisableBtnAndDownloadPaper(t)
                            }
                        }
                    }, [e._v(" 涓嬭浇璇曞嵎 ")]), e.downloadingCourse(t) ? s("Button", {
                        staticClass: "qm-primary-button"
                    }, [e._v(" 涓嬭浇涓� ")]) : e._e(), s("Button", {
                        staticClass: "qm-primary-button",
                        on: {
                            click: function (s) {
                                return e.uploadHandler(t)
                            }
                        }
                    }, [e._v(" 涓婁紶绛旀 ")])], 1) : s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-gap": "10px"
                        }
                    }, [new Date(t.startTime) - Date.now() > e.timeDifference ? s("div", [e._v(" 鏈紑濮� ")]) : new Date(t.endTime) - Date.now() < e.timeDifference ? s("div", [e._v(" 宸茬粨鏉� ")]) : s("div", [s("Button", {
                        staticClass: "qm-primary-button",
                        on: {
                            click: function (s) {
                                return e.enterExam(t)
                            }
                        }
                    }, [e._v(" 鎶藉彇璇曞嵎 ")])], 1)])]], 2)])
                }))], 2)]), e.selectedCourse ? s("ecs-offline-exam-modal", {
                    ref: "uploadModal",
                    attrs: {
                        course: e.selectedCourse
                    },
                    on: {
                        "reload-list": function (t) {
                            return e.$emit("reload-list")
                        }
                    }
                }) : e._e()], 1)
            }
            , Ia = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("璇剧▼")]), s("td", [e._v("涓撲笟")]), s("td", [e._v("鑰冭瘯杩涘叆鏃堕棿")]), s("td", [e._v("鐘舵€�")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("鎿嶄綔")])])
            }
            ]
            , ka = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    ref: "uploadModal",
                    attrs: {
                        mask: "",
                        "footer-hide": "",
                        "mask-closable": !1,
                        closable: !0,
                        width: "660",
                        title: "涓婁紶鏂囦欢"
                    },
                    on: {
                        close: e.modalClose
                    },
                    model: {
                        value: e.uploadModalVisible,
                        callback: function (t) {
                            e.uploadModalVisible = t
                        },
                        expression: "uploadModalVisible"
                    }
                }, [s("div", {
                    staticStyle: {
                        "font-size": "16px",
                        "line-height": "20px"
                    }
                }, [s("span", {
                    staticStyle: {
                        "padding-right": "10px"
                    }
                }, [e._v("璇剧▼鍚嶇О:")]), s("span", {
                    staticStyle: {
                        "font-size": "22px",
                        color: "red"
                    }
                }, [e._v(e._s(e.course.courseName))])]), s("div", {
                    staticStyle: {
                        "font-size": "16px",
                        "line-height": "20px",
                        margin: "20px 0"
                    }
                }, [s("span", {
                    staticStyle: {
                        "padding-right": "10px"
                    }
                }, [e._v("璇烽€夋嫨涓婁紶鏂囦欢绫诲瀷:")]), e.serverFormat.includes("ZIP") ? s("span", {
                    on: {
                        click: function (t) {
                            e.selectedFileType = "ZIP"
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        display: "inline-block"
                    },
                    attrs: {
                        type: "radio",
                        name: "filetype",
                        value: "ZIP"
                    },
                    domProps: {
                        checked: "ZIP" == e.selectedFileType
                    }
                }), s("span", {
                    staticClass: "right-margin"
                }, [e._v("ZIP")])]) : e._e(), e.serverFormat.includes("PDF") ? s("span", {
                    on: {
                        click: function (t) {
                            e.selectedFileType = "PDF"
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        display: "inline-block"
                    },
                    attrs: {
                        type: "radio",
                        name: "filetype",
                        value: "PDF"
                    },
                    domProps: {
                        checked: "PDF" == e.selectedFileType
                    }
                }), s("span", {
                    staticClass: "right-margin"
                }, [e._v("PDF")])]) : e._e(), e.serverFormat.includes("IMAGE") ? s("span", {
                    on: {
                        click: function (t) {
                            e.selectedFileType = "IMAGE"
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        display: "inline-block"
                    },
                    attrs: {
                        type: "radio",
                        name: "filetype",
                        value: "IMAGE"
                    },
                    domProps: {
                        checked: "IMAGE" == e.selectedFileType
                    }
                }), s("span", {
                    staticClass: "right-margin"
                }, [e._v("鍥剧墖")])]) : e._e()]), s("div", {
                    staticStyle: {
                        "font-size": "16px",
                        "line-height": "20px",
                        margin: "20px 0",
                        display: "flex"
                    }
                }, [s("div", {
                    staticStyle: {
                        "padding-right": "10px"
                    }
                }, [e._v("璇烽€夋嫨鏂囦欢:")]), s("OfflineExamUpload", {
                    attrs: {
                        course: e.course,
                        "selected-file-type": e.selectedFileType,
                        "upload-file-format": e.uploadFileFormat,
                        "upload-file-accept": e.uploadFileAccept
                    },
                    on: {
                        "reload-list": function (t) {
                            return e.$emit("reload-list")
                        },
                        "close-modal": e.closeModal
                    }
                })], 1)])
            }
            , Ta = []
            , Aa = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticStyle: {
                        width: "350px"
                    }
                }, ["IMAGE" === e.selectedFileType ? s("div", {
                    staticClass: "total-images"
                }, e._l(e.uploadFileList, (function (t, i) {
                    return s("div", {
                        key: i,
                        staticClass: "demo-upload-list"
                    }, [s("img", {
                        ref: "image" + i,
                        refInFor: !0,
                        staticClass: "image-small",
                        attrs: {
                            "data-src": e.blobToSrc(t, i)
                        }
                    }), s("div", {
                        staticClass: "demo-upload-list-cover"
                    }, [s("Icon", {
                        attrs: {
                            type: "ios-eye-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (t) {
                                return e.handleView(".total-images", i)
                            }
                        }
                    }), s("Icon", {
                        staticStyle: {
                            position: "absolute",
                            top: "0px"
                        },
                        attrs: {
                            type: "ios-trash-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (t) {
                                return e.handleRemoveTotal(i)
                            }
                        }
                    })], 1)])
                })), 0) : e._e(), s("Upload", {
                    ref: "uploadComp",
                    attrs: {
                        action: "",
                        headers: e.headers,
                        data: {
                            fileType: e.fileType
                        },
                        "before-upload": e.handleBeforeUpload,
                        format: e.uploadFileFormat,
                        accept: e.uploadFileAccept,
                        "on-format-error": e.handleFormatError,
                        "on-success": e.handleSuccess,
                        "on-error": e.handleError
                    }
                }, ["IMAGE" !== e.selectedFileType ? s("div", [s("Button", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        icon: "ios-cloud-upload-outline"
                    },
                    on: {
                        click: e.clickUpload
                    }
                }, [e._v(" 閫夋嫨鏂囦欢 ")]), e.uploadFileList.length > 0 ? s("span", [e._v(e._s(e.uploadFileList[0].name))]) : e._e()], 1) : s("div", [e.uploadFileList.length < 6 ? s("div", {
                    staticClass: "demo-upload-list plus",
                    on: {
                        click: e.clickUpload
                    }
                }, [e._v(" + ")]) : e._e()])]), s("div", [s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        width: "40%",
                        "margin-right": "20px"
                    },
                    attrs: {
                        icon: "ios-cloud-upload-outline",
                        disabled: 0 === e.uploadFileList.length,
                        loading: e.uploading
                    },
                    on: {
                        click: e.uploadFiles
                    }
                }, [e._v(" 纭涓婁紶 ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        width: "40%"
                    },
                    on: {
                        click: function (t) {
                            return e.$emit("close-modal")
                        }
                    }
                }, [e._v(" 鍙栨秷涓婁紶 ")])], 1)], 1)
            }
            , Pa = []
            , Ma = {
                name: "EcsOfflineUpload",
                props: {
                    course: {
                        type: Object,
                        default() {
                            return {}
                        }
                    },
                    selectedFileType: {
                        type: String,
                        default: ""
                    },
                    uploadFileFormat: {
                        type: Array,
                        default: () => []
                    },
                    uploadFileAccept: {
                        type: String,
                        default: ""
                    }
                },
                data() {
                    return {
                        headers: {
                            token: window.sessionStorage.getItem("token"),
                            key: window.localStorage.getItem("key")
                        },
                        file: null,
                        fileType: null,
                        loadingStatus: !1,
                        uploadFileList: [],
                        uploading: !1
                    }
                },
                watch: {
                    selectedFileType() {
                        this.uploadFileList = []
                    }
                },
                async created() { },
                methods: {
                    clickUpload(e) {
                        if (e.preventDefault(),
                            !this.selectedFileType)
                            return this.$Notice.warning({
                                title: "璇峰厛閫夋嫨涓婁紶鏂囦欢绫诲瀷"
                            }),
                                e.stopPropagation(),
                                !1;
                        "IMAGE" !== this.selectedFileType && (this.uploadFileList = [])
                    },
                    fileFormatCheck(e, t, s) {
                        function i(e) {
                            switch (e) {
                                case "89504E47":
                                    return "image/png";
                                case "47494638":
                                    return "image/gif";
                                case "25504446":
                                    return "application/pdf";
                                case "FFD8FFE0":
                                case "FFD8FFE1":
                                case "FFD8FFE2":
                                case "FFD8FFE3":
                                    return "image/jpeg";
                                case "504B0304":
                                    return "application/zip";
                                case "504B34":
                                    return "application/zip";
                                default:
                                    return "Unknown filetype"
                            }
                        }
                        const a = new FileReader;
                        let o = [];
                        a.onloadend = a => {
                            if (a.target.readyState === FileReader.DONE) {
                                const n = new Uint8Array(a.target.result);
                                let r = [];
                                n.forEach(e => {
                                    r.push(e.toString(16))
                                }
                                );
                                const c = r.join("").toUpperCase();
                                o.push({
                                    filename: e.name,
                                    filetype: e.type ? e.type : "Unknown/Extension missing",
                                    binaryFileType: i(c),
                                    hex: c
                                }),
                                    i(c).toUpperCase().includes(this.selectedFileType) || (this.$Notice.warning({
                                        title: "鏂囦欢鍐呭涓庢墍閫夋枃浠剁被鍨嬩笉涓€鑷�"
                                    }),
                                        t("鍜屾墍閫夋枃浠剁被鍨嬩笉涓€鑷�")),
                                    ["application/pdf"].includes(i(c)) ? e.name.endsWith(".pdf") ? t(!0) : (this.loadingStatus = !1,
                                        this.$Notice.warning({
                                            title: "鏂囦欢鍐呭涓庢枃浠剁殑鍚庣紑涓嶄竴鑷�"
                                        }),
                                        this.file = null,
                                        s("鏂囦欢鍐呭涓庢枃浠剁殑鍚庣紑涓嶄竴鑷达紝璇风‘璁ゆ枃浠舵槸pdf鏂囨。锛�")) : ["application/zip"].includes(i(c)) ? e.name.endsWith(".zip") ? t(!0) : (this.loadingStatus = !1,
                                            this.$Notice.warning({
                                                title: "鏂囦欢鍐呭涓庢枃浠剁殑鍚庣紑涓嶄竴鑷�"
                                            }),
                                            this.file = null,
                                            s("鏂囦欢鍐呭涓庢枃浠剁殑鍚庣紑涓嶄竴鑷达紝璇风‘璁ゆ枃浠舵槸zip鍘嬬缉鍖咃紒")) : ["image/jpeg"].includes(i(c)) ? e.name.endsWith(".jpeg") || e.name.endsWith(".jpg") ? t(!0) : (this.loadingStatus = !1,
                                                this.$Notice.warning({
                                                    title: "鏂囦欢鍐呭涓庢枃浠剁殑鍚庣紑涓嶄竴鑷�"
                                                }),
                                                this.file = null,
                                                s("鏂囦欢鍐呭涓庢枃浠剁殑鍚庣紑涓嶄竴鑷达紝璇风‘璁ゆ枃浠舵槸jpeg鏂囦欢锛�")) : ["image/png"].includes(i(c)) ? e.name.endsWith(".png") ? t(!0) : (this.loadingStatus = !1,
                                                    this.$Notice.warning({
                                                        title: "鏂囦欢鍐呭涓庢枃浠剁殑鍚庣紑涓嶄竴鑷�"
                                                    }),
                                                    this.file = null,
                                                    s("鏂囦欢鍐呭涓庢枃浠剁殑鍚庣紑涓嶄竴鑷达紝璇风‘璁ゆ枃浠舵槸png鏂囦欢锛�")) : (console.log("binary file type check: not zip or pdf"),
                                                        window._hmt.push(["_trackEvent", "绂荤嚎鑰冭瘯椤甸潰", "涓婁紶浣滅瓟", "鏂囦欢鏍煎紡闈瀦ip鎴杙df"]),
                                                        this.$Notice.warning({
                                                            title: "浣滅瓟鏂囦欢鎹熷潖",
                                                            desc: e.name + " 鏂囦欢鏃犳硶浠� " + this.uploadFileFormat.join(" 鎴� ") + " 鏍煎紡璇诲彇銆�"
                                                        }),
                                                        this.file = null,
                                                        this.loadingStatus = !1,
                                                        s("浣滅瓟鏂囦欢鎹熷潖"))
                            }
                        }
                            ;
                        const n = e.slice(0, 4);
                        a.readAsArrayBuffer(n)
                    },
                    fileSizeCheck(e, t, s) {
                        const i = "IMAGE" === this.selectedFileType ? 5 : 30;
                        e.size > 1024 * i * 1024 ? (this.$Notice.warning({
                            title: "瓒呭嚭鏂囦欢澶у皬闄愬埗",
                            desc: e.name + ` 澶ぇ锛屼綔绛旀枃浠朵笉鑳借秴杩�${i}MB.`
                        }),
                            s("闄勪欢澶у皬瓒呭嚭闄愬埗")) : t(!0)
                    },
                    handleSuccess() { },
                    handleError(e, t) {
                        window._hmt.push(["_trackEvent", "绂荤嚎鑰冭瘯椤甸潰", "涓婁紶浣滅瓟", "涓婁紶澶辫触"]),
                            this.file = null,
                            this.loadingStatus = !1,
                            console.log(e),
                            this.$Message.error({
                                content: t && t.desc || "涓婁紶澶辫触",
                                duration: 15,
                                closable: !0
                            })
                    },
                    handleFormatError(e) {
                        this.file = null,
                            this.loadingStatus = !1,
                            this.$Notice.warning({
                                title: "浣滅瓟鏂囦欢鏍煎紡涓嶅",
                                desc: e.name + " 鏂囦欢鏍煎紡涓嶅锛岃閫夋嫨 " + this.uploadFileFormat.join(" 鎴� ") + "  鏂囦欢銆�"
                            })
                    },
                    handleMaxSize(e) {
                        this.file = null,
                            this.loadingStatus = !1,
                            this.$Notice.warning({
                                title: "瓒呭嚭鏂囦欢澶у皬闄愬埗",
                                desc: e.name + " 澶ぇ锛屼綔绛旀枃浠朵笉鑳借秴杩�30M."
                            })
                    },
                    async handleBeforeUpload(e) {
                        const t = e.name.split(".").pop();
                        if (t.toLowerCase() !== t)
                            return this.$Notice.error({
                                title: "鏂囦欢鍚嶅悗缂€蹇呴』鏄皬鍐�",
                                desc: e.name + " 鏂囦欢鍚嶅悗缂€蹇呴』鏄皬鍐欍€�"
                            }),
                                Promise.reject("file suffix should be lower case");
                        if (this.uploadFileList.length > 1) {
                            if ("PDF" === this.selectedFileType)
                                throw console.log("PDF鏂囦欢鍙厑璁稿崟鐙笂浼�"),
                                "鍙栨秷";
                            if ("ZIP" === this.selectedFileType)
                                throw console.log("ZIP鏂囦欢鍙厑璁稿崟鐙笂浼�"),
                                "鍙栨秷"
                        }
                        console.log("涓婁紶"),
                            this.file = e,
                            this.loadingStatus = !0;
                        const s = await new Promise((t, s) => this.fileFormatCheck(e, t, s));
                        if (!0 !== s)
                            throw console.log({
                                format: s
                            }),
                            "鏂囦欢绫诲瀷妫€娴嬩笉閫氳繃";
                        const i = await new Promise((t, s) => this.fileSizeCheck(e, t, s));
                        if (!0 !== i)
                            throw console.log({
                                fileSizeCheckResult: i
                            }),
                            "鏂囦欢澶у皬妫€娴嬩笉閫氳繃";
                        throw this.uploadFileList.push(e),
                        "stop uploading by <Upload>"
                    },
                    async uploadFiles() {
                        if (0 === this.uploadFileList.length)
                            return;
                        if (this.course.offlineFiles) {
                            const e = await new Promise((e, t) => { this.$Modal.confirm({ title: "宸叉湁浣滅瓟闄勪欢锛屾槸鍚﹁鐩栵紵", onCancel: () => t(-1), onOk: () => e() }) });
                            if (-1 === e)
                                return !1
                        }
                        this.uploading = !0;
                        let e = new FormData;
                        async function t(e) {
                            return new Promise(t => {
                                var s = new FileReader;
                                s.addEventListener("loadend", (function () {
                                    t(s.result)
                                })),
                                    s.readAsArrayBuffer(e)
                            }
                            )
                        }
                        e.append("examRecordDataId", this.course.examRecordDataId),
                            e.append("fileType", this.selectedFileType);
                        for (const a of this.uploadFileList) {
                            const s = await t(a);
                            e.append("fileArray", a),
                                e.append("fileMd5Array", T()(s))
                        }
                        const s = this.$Message.info({
                            content: "涓婁紶涓�...",
                            duration: 30,
                            closable: !0
                        });
                        try {
                            await this.$http.post("/api/branch_ecs_oe_admin/offlineExam/batchSubmitPaper", e, { headers: { "Content-Type": "multipart/form-data" } })
                        } catch (i) {
                            throw this.logger({
                                action: "绂荤嚎鑰冭瘯闄勪欢娌℃湁姝ｅ父涓婁紶",
                                detail: i,
                                errorJSON: JSON.stringify(i, (e, t) => "token" === e ? "" : t),
                                errorName: i.name,
                                errorMessage: i.message,
                                errorStack: i.stack
                            }),
                            i
                        } finally {
                            this.uploading = !1,
                                s()
                        }
                        this.$Message.success({
                            content: "涓婁紶鎴愬姛",
                            duration: 5,
                            closable: !0
                        }),
                            this.uploadFileList = [],
                            this.$emit("close-modal"),
                            this.$emit("reload-list")
                    },
                    async blobToSrc(e, t) {
                        var s = new FileReader;
                        s.onload = e => {
                            const s = this.$refs["image" + t];
                            s[0].src = e.target.result
                        }
                            ,
                            s.readAsDataURL(e)
                    },
                    handleView(e, t) {
                        const s = new Qs.a(document.querySelector(e), {
                            container: "#app",
                            zIndex: 99999,
                            title: !1,
                            toolbar: {
                                zoomIn: 1,
                                zoomOut: 1,
                                oneToOne: 1,
                                reset: 1,
                                prev: 1,
                                play: {
                                    show: 0,
                                    size: "large"
                                },
                                next: 1,
                                rotateLeft: 1,
                                rotateRight: 1,
                                flipHorizontal: 1,
                                flipVertical: 1
                            },
                            ready() {
                                s.view(t)
                            },
                            hidden() {
                                s.destroy()
                            }
                        });
                        s.show()
                    },
                    handleRemoveTotal(e) {
                        this.uploadFileList.splice(e, 1)
                    }
                }
            }
            , Da = Ma
            , Ra = (s("6d64"),
                Object(l["a"])(Da, Aa, Pa, !1, null, null, null))
            , La = Ra.exports
            , qa = {
                name: "OfflineExamModal",
                components: {
                    OfflineExamUpload: La
                },
                props: {
                    course: {
                        type: Object,
                        default() {
                            return {}
                        }
                    }
                },
                data() {
                    return {
                        uploadModalVisible: !0,
                        serverFormat: "",
                        selectedFileType: ""
                    }
                },
                computed: {
                    uploadFileFormat() {
                        let e;
                        switch (this.selectedFileType) {
                            case "":
                                e = [];
                                break;
                            case "ZIP":
                                e = ["zip"];
                                break;
                            case "PDF":
                                e = ["pdf"];
                                break;
                            case "IMAGE":
                                e = ["jpeg", "jpg", "png"];
                                break
                        }
                        return e
                    },
                    uploadFileAccept() {
                        let e;
                        switch (this.selectedFileType) {
                            case "":
                                e = "";
                                break;
                            case "ZIP":
                                e = ".zip,zip";
                                break;
                            case "PDF":
                                e = ".pdf";
                                break;
                            case "IMAGE":
                                e = ".jpeg,.jpg,.png";
                                break
                        }
                        return e
                    }
                },
                watch: {
                    course() {
                        this.updateServerFormat(),
                            this.selectedFileType = ""
                    }
                },
                async created() {
                    this.updateServerFormat()
                },
                methods: {
                    async updateServerFormat() {
                        const e = await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + this.course.examId + "/OFFLINE_UPLOAD_FILE_TYPE");
                        this.serverFormat = e.data.OFFLINE_UPLOAD_FILE_TYPE && JSON.parse(e.data.OFFLINE_UPLOAD_FILE_TYPE) || []
                    },
                    modalClose() {
                        this.selectedFileType = ""
                    },
                    closeModal() {
                        this.selectedFileType = "",
                            this.$refs.uploadModal.visible = !1
                    }
                }
            }
            , ja = qa
            , Na = (s("9fe4"),
                Object(l["a"])(ja, ka, Ta, !1, null, "71359089", null))
            , Ba = Na.exports
            , $a = {
                name: "EcsOfflineList",
                components: {
                    "ecs-offline-exam-modal": Ba
                },
                props: {
                    courses: {
                        type: Array,
                        default() {
                            return []
                        }
                    }
                },
                data() {
                    return {
                        disableDownloadPaperBtn: !1,
                        downloadIds: new Set,
                        selectedCourse: null
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "timeDifference"])), Object(w["c"])(["isCug"])),
                methods: {
                    async enterExam(e) {
                        this.logger({
                            page: "绂荤嚎鑰冭瘯椤甸潰",
                            button: "鎶藉彇璇曞嵎鎸夐挳",
                            action: "鐐瑰嚮",
                            examStudentId: e.examStudentId
                        }),
                            await this.$http.get("/api/branch_ecs_oe_admin/offlineExam/startOfflineExam", { params: { examStudentId: e.examStudentId } }),
                            this.$emit("reload-list")
                    },
                    previewPaper(e) {
                        window._hmt.push(["_trackEvent", "绂荤嚎鑰冭瘯椤甸潰", "棰勮"]),
                            this.logger({
                                page: "绂荤嚎鑰冭瘯椤甸潰",
                                button: "鏌ョ湅璇曞嵎鎸夐挳",
                                action: "鐐瑰嚮"
                            });
                        var t = {
                            loginName: e.examStudentId,
                            backUrl: window.document.location.href,
                            isOnlineExam: !0
                        };
                        window.name = JSON.stringify(t),
                            window.location.href = Y["i"] + "/admin/preview_paper/" + e.paperId + "?isback=true"
                    },
                    async downloadOfflineFile(e, t) {
                        function s(e) {
                            return fetch(e).then(e => e.blob()).then(e => URL.createObjectURL(e))
                        }
                        if (window._hmt.push(["_trackEvent", "绂荤嚎鑰冭瘯椤甸潰", "涓嬭浇浣滅瓟"]),
                            [".png", ".jpg", ".jpeg"].some(e => t.endsWith(e))) {
                            const i = document.createElement("a");
                            i.href = await s(e),
                                i.download = t,
                                document.body.appendChild(i),
                                i.click(),
                                URL.revokeObjectURL(i.href),
                                document.body.removeChild(i)
                        } else
                            window.location.href = e
                    },
                    async tempDisableBtnAndDownloadPaper(e) {
                        window._hmt.push(["_trackEvent", "绂荤嚎鑰冭瘯椤甸潰", "涓嬭浇璇曞嵎"]),
                            this.downloadIds.add(e.examStudentId),
                            this.downloadIds = new Set(this.downloadIds),
                            setTimeout(() => {
                                this.downloadIds.delete(e.examStudentId),
                                    this.downloadIds = new Set(this.downloadIds)
                            }
                                , 1e4);
                        const t = await this.$http.get("/api/branch_ecs_ques/paper/export/" + e.paperId + "/PAPER/offLine", { responseType: "blob" });
                        console.log("绂荤嚎鑰冭瘯锛屼笅杞借瘯鍗凤細鍚嶇О锛�", t.headers["content-disposition"]);
                        const s = decodeURI(t.headers["content-disposition"].match(/attachment;filename=(.*)/)[1])
                            , i = URL.createObjectURL(new Blob([t.data]));
                        Object(It["b"])(i, s)
                    },
                    downloadingCourse(e) {
                        return this.downloadIds.has(e.examStudentId)
                    },
                    uploadHandler(e) {
                        this.logger({
                            page: "绂荤嚎鑰冭瘯椤甸潰",
                            button: "涓婁紶绛旀鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            this.selectedCourse = e,
                            this.$nextTick(() => {
                                this.$refs.uploadModal.$refs.uploadModal.visible = !0
                            }
                            )
                    }
                }
            }
            , Fa = $a
            , Ua = (s("74d1"),
                Object(l["a"])(Fa, Oa, Ia, !1, null, "16b6f4a4", null))
            , Qa = Ua.exports
            , Wa = {
                name: "OfflineExamHome",
                components: {
                    "ecs-offline-list": Qa
                },
                data() {
                    return {
                        courses: [],
                        answerCardUrl: null,
                        downloadUrlDisabled: !1
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    }
                }),
                async mounted() {
                    try {
                        window._hmt.push(["_trackEvent", "绂荤嚎鑰冭瘯椤甸潰", "杩涘叆鍒楄〃", ""]),
                            this.logger({
                                page: "绂荤嚎鑰冭瘯椤甸潰",
                                action: "杩涘叆椤甸潰"
                            }),
                            await this.fetchData()
                    } catch (e) {
                        this.$Message.error({
                            content: "鑾峰彇绂荤嚎鑰冭瘯鍒楄〃澶辫触",
                            duration: 15,
                            closable: !0
                        })
                    }
                },
                methods: {
                    async fetchData() {
                        const e = await this.$http.get("/api/ecs_core/org/getAnswersUrl/" + this.$store.state.user.rootOrgId);
                        this.answerCardUrl = e.data;
                        const t = await this.$http.get("/api/branch_ecs_oe_admin/offlineExam/getOfflineCourse");
                        this.courses = t.data.map(e => ({
                            examId: e.examId,
                            examRecordDataId: e.examRecordDataId,
                            courseName: e.courseName,
                            specialtyName: e.specialtyName,
                            orgName: e.orgName,
                            examStudentId: e.examStudentId,
                            startTime: e.startTime,
                            endTime: e.endTime,
                            offlineFiles: e.offlineFiles,
                            paperId: e.paperId
                        }))
                    },
                    tempDisableBtnAndDownloadPaper() {
                        window._hmt.push(["_trackEvent", "绂荤嚎鑰冭瘯椤甸潰", "涓嬭浇绛旈绾�"]),
                            this.downloadUrlDisabled = !0,
                            setTimeout(() => {
                                this.downloadUrlDisabled = !1
                            }
                                , 1e4),
                            Object(It["b"])(this.answerCardUrl, "绛旈绾告ā鏉�.zip")
                    }
                }
            }
            , Va = Wa
            , Ha = (s("6913"),
                Object(l["a"])(Va, Sa, Ca, !1, null, "9c48e488", null))
            , za = Ha.exports
            , Ka = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 褰撳墠鎵€鍦ㄤ綅缃細 "), s("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), s("div", {
                    staticClass: "home"
                }, [s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "margin-bottom": "20px"
                    }
                }, [e._v(" 閫夋嫨鑰冭瘯鎵规锛� "), s("Select", {
                    staticStyle: {
                        width: "200px"
                    },
                    attrs: {
                        filterable: ""
                    },
                    on: {
                        "on-change": e.fetchList
                    },
                    model: {
                        value: e.examId,
                        callback: function (t) {
                            e.examId = t
                        },
                        expression: "examId"
                    }
                }, e._l(e.examList, (function (e) {
                    return s("Option", {
                        key: e.id,
                        attrs: {
                            value: e.id,
                            label: e.name
                        }
                    })
                })), 1)], 1), s("OnlinePracticeList", {
                    attrs: {
                        courses: e.courses,
                        "exam-list": e.examList
                    }
                })], 1)], 1)
            }
            , Ga = []
            , Ja = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(0), e._l(e.courses, (function (t) {
                    return s("tr", {
                        key: t.courseId
                    }, [s("td", [e._v(e._s(t.courseName))]), s("td", [e._v(" " + e._s(t.startTime) + " "), s("br"), e._v(" ~ "), s("br"), e._v(" " + e._s(t.endTime) + " ")]), s("td", [s("span", {
                        domProps: {
                            innerHTML: e._s(e.cycleDesc(t))
                        }
                    })]), s("td", [e._v(e._s(t.practiceCount))]), s("td", [e._v(e._s(t.recentObjectiveAccuracy) + "%")]), s("td", [e._v(e._s(t.aveObjectiveAccuracy) + "%")]), s("td", [e._v(e._s(t.maxObjectiveAccuracy) + "%")]), s("td", {
                        staticStyle: {
                            "min-width": "180px"
                        }
                    }, [s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-template-columns": "repeat(auto-fit, minmax(100px, 1fr))",
                            "grid-gap": "10px"
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        attrs: {
                            disabled: e.disableTheCourse(t) || e.enterButtonClicked,
                            title: e.disableTheCourse(t) ? e.disableReason(t) : ""
                        },
                        on: {
                            click: function (s) {
                                return e.enterPractice(t)
                            }
                        }
                    }, [e._v(" 杩涘叆缁冧範 ")]), s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        on: {
                            click: function (s) {
                                return e.enterPracticeList(t)
                            }
                        }
                    }, [e._v(" 鏌ョ湅璇︽儏 ")])], 1)])])
                }))], 2)])])
            }
            , Xa = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("璇剧▼")]), s("td", [e._v("鑰冭瘯杩涘叆鏃堕棿")]), s("td", [e._v("鑰冭瘯鏃堕棿鍛ㄦ湡")]), s("td", [e._v("缁冧範娆℃暟")]), s("td", [e._v("鏈€杩戞纭巼")]), s("td", [e._v("骞冲潎姝ｇ‘鐜�")]), s("td", [e._v("鏈€楂樻纭巼")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("鎿嶄綔")])])
            }
            ];
        const { mapMutations: Ya } = Object(w["a"])("examHomeModule");
        var Za = {
            name: "OnlinePracticeList",
            props: {
                courses: {
                    type: Array,
                    default() {
                        return []
                    }
                }
            },
            data() {
                return {
                    now: new Date,
                    selectedCourse: null,
                    enterButtonClicked: !1
                }
            },
            computed: Object(p["a"])({}, Object(w["e"])(["user", "timeDifference"])),
            created() {
                this.getNow(),
                    this.intervalID = setInterval(() => this.getNow(), 1e3)
            },
            beforeDestroy() {
                clearInterval(this.intervalID)
            },
            methods: Object(p["a"])(Object(p["a"])({}, Ya(["toggleFaceCheckModal"])), {}, {
                cycleDesc(e) {
                    if (!e.examCycleEnabled)
                        return "";
                    const t = {
                        1: "涓€",
                        2: "浜�",
                        3: "涓�",
                        4: "鍥�",
                        5: "浜�",
                        6: "鍏�",
                        7: "鏃�"
                    }
                        , s = e.examCycleWeek.map(e => "鍛�" + t[e])
                        , i = e.examCycleTimeRange.map(e => e.timeRange).map(e => e[0] + "~" + e[1]).join("<br>");
                    return s + "<br>" + i
                },
                getNow() {
                    this.now = Date.now() + this.timeDifference
                },
                courseInBetween(e) {
                    return W()(this.now).isBetween(W()(e.startTime), W()(e.endTime))
                },
                disableReason(e) {
                    return this.courseInBetween(e) ? e.allowExamCount < 1 ? "鏃犲墿浣欑粌涔犳鏁�" : this.countdown > 0 ? "璇风◢鍚庣偣鍑�" : this.courseInCycle(e) ? "" : "涓嶅湪缁冧範鏃堕棿鍛ㄦ湡鍐�" : "褰撳墠鏃堕棿涓嶅湪缁冧範寮€鏀炬椂闂磋寖鍥�"
                },
                courseInCycle(e) {
                    if (!e.examCycleEnabled)
                        return !0;
                    const t = W()(this.now).isoWeekday();
                    if (!e.examCycleWeek.includes(t))
                        return !1;
                    const s = W()(this.now).format("HH:mm")
                        , i = e.examCycleTimeRange.map(e => e.timeRange)
                        , a = i.some(e => s >= e[0] && s <= e[1]);
                    return a
                },
                disableTheCourse(e) {
                    return !this.courseInBetween(e) || e.allowExamCount < 1 || this.countdown > 0 || !this.courseInCycle(e)
                },
                async enterPractice(e) {
                    this.enterButtonClicked = !0;
                    try {
                        this.logger({
                            page: "鍦ㄧ嚎缁冧範椤甸潰",
                            button: "杩涘叆缁冧範鎸夐挳",
                            action: "鐐瑰嚮"
                        });
                        const t = await this.checkExamInProgress();
                        if (t)
                            return window._hmt.push(["_trackEvent", "鍦ㄧ嚎缁冧範椤甸潰", "鏂偣缁€�", "杩涘叆"]),
                                void this.logger({
                                    action: "鏂偣缁€�",
                                    detail: "鍦ㄧ嚎缁冧範椤甸潰"
                                });
                        window._hmt.push(["_trackEvent", "鍦ㄧ嚎缁冧範椤甸潰", "杩涘叆缁冧範"]),
                            this.$router.push(`/online-exam/exam/${e.examId}/overview?examStudentId=${e.examStudentId}`)
                    } finally {
                        this.enterButtonClicked = !1
                    }
                },
                async enterPracticeList(e) {
                    this.logger({
                        page: "鍦ㄧ嚎缁冧範椤甸潰",
                        button: "鏌ョ湅璇︽儏鎸夐挳",
                        action: "鐐瑰嚮"
                    }),
                        this.$router.push(`/online-practice/exam/${e.examId}/list?examStudentId=${e.examStudentId}&examName=${encodeURIComponent(e.examName)}&courseName=${encodeURIComponent(e.courseName)}`)
                }
            })
        }
            , eo = Za
            , to = (s("1018"),
                s("aec2"),
                Object(l["a"])(eo, Ja, Xa, !1, null, "6e58cd4d", null))
            , so = to.exports
            , io = {
                name: "OnlinePracticeHome",
                components: {
                    OnlinePracticeList: so
                },
                data() {
                    return {
                        examId: null,
                        examList: [],
                        courses: []
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    }
                }),
                async mounted() {
                    if (window._hmt.push(["_trackEvent", "鍦ㄧ嚎缁冧範鍒楄〃椤甸潰", "杩涘叆椤甸潰"]),
                        this.logger({
                            page: "鍦ㄧ嚎缁冧範鍒楄〃椤甸潰",
                            action: "杩涘叆椤甸潰"
                        }),
                        this.$route.query.examId) {
                        this.examId = this.$route.query.examId - 0;
                        try {
                            await this.fetchList(this.examId)
                        } catch (e) {
                            return
                        }
                    }
                    try {
                        const t = await this.$http.get("/api/ecs_exam_work/exam/queryByNameLike?name=&examTypes=PRACTICE&studentId=" + this.user.id);
                        if (this.examList = (t.data || []).filter(e => e.enable),
                            void 0 === this.$route.query.examId && this.examList[0]) {
                            const t = this.examList[0].id;
                            this.examId = t;
                            try {
                                await this.fetchList(this.examId)
                            } catch (e) {
                                return
                            }
                        }
                    } catch (e) {
                        this.$Message.error({
                            content: "鏌ヨ缁冧範鍒楄〃澶辫触锛�",
                            duration: 15,
                            closable: !0
                        })
                    }
                },
                methods: {
                    async fetchList(e) {
                        this.$router.replace({
                            query: {
                                examId: e
                            }
                        });
                        try {
                            const t = await this.$http.get("/api/branch_ecs_oe_admin/practice/queryPracticeCourseList?examId=" + e);
                            this.courses = t.data
                        } catch (t) {
                            this.$Message.error({
                                content: "鑾峰彇璇剧▼鍒楄〃澶辫触",
                                duration: 15,
                                closable: !0
                            })
                        }
                    }
                }
            }
            , ao = io
            , oo = (s("df53"),
                Object(l["a"])(ao, Ka, Ga, !1, null, "4e0a7ba2", null))
            , no = oo.exports
            , ro = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 褰撳墠鎵€鍦ㄤ綅缃細 "), s("BreadcrumbItem", {
                    attrs: {
                        to: {
                            name: "OnlinePracticeHome"
                        }
                    }
                }, [e._v(" " + e._s(e.locationTitle) + " ")]), s("BreadcrumbItem", [e._v("缁冧範璇︽儏")])], 1), s("div", {
                    staticClass: "home"
                }, [s("div", {
                    staticStyle: {
                        display: "grid",
                        "grid-template-columns": "repeat(4, 1fr)",
                        "margin-bottom": "20px",
                        "text-align": "left"
                    }
                }, [s("div", [e._v(" 鎵规: "), s("span", [e._v(e._s(e.examName))])]), s("div", [e._v(" 绉戠洰: "), s("span", [e._v(e._s(e.courseName))])]), s("div", [e._v(" 骞冲潎姝ｇ‘鐜�: "), s("span", [e._v(e._s(e.aveAccuracy) + "%")])]), s("div", [e._v(" 鏈€楂樻纭巼: "), s("span", [e._v(e._s(e.maxAccuracy) + "%")])])]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("缁冧範缂栧彿")]), s("td", [e._v("寮€濮嬫棩鏈�")]), s("td", [e._v("缁撴潫鏃ユ湡")]), s("td", [e._v("缁冧範鏃堕暱")]), s("td", [e._v("鎬婚閲�")]), s("td", [e._v("姝ｇ‘")]), s("td", [e._v("閿欒")]), s("td", [e._v("鏈瓟")]), s("td", [e._v("姝ｇ‘鐜�")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("鎿嶄綔")])]), e._l(e.recordList, (function (t) {
                    return s("tr", {
                        key: t.examId
                    }, [s("td", [e._v(e._s(t.id))]), s("td", [e._v(e._s(t.startTime))]), s("td", [e._v(e._s(t.endTime))]), s("td", [e._v(e._s(e.formatTime(t.usedExamTime)))]), s("td", [e._v(e._s(t.totalQuestionCount))]), s("td", [e._v(e._s(t.succQuestionNum))]), s("td", [e._v(e._s(t.failQuestionNum))]), s("td", [e._v(e._s(t.notAnsweredCount))]), s("td", [e._v(e._s(t.objectiveAccuracy) + "%")]), s("td", {
                        staticStyle: {
                            "min-width": "120px"
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button",
                        on: {
                            click: function () {
                                return e.enterPracticeRecordDetail(t)
                            }
                        }
                    }, [e._v(" 鏌ョ湅鎴愮哗鎶ュ憡 ")])], 1)])
                }))], 2)])])])], 1)
            }
            , co = []
            , lo = {
                name: "OnlinePracticeRecordList",
                data() {
                    return {
                        recordList: []
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.match(/\/[^/]*/)[0].toUpperCase()) || {}).name
                    },
                    examName() {
                        return this.$route.query.examName
                    },
                    courseName() {
                        return this.$route.query.courseName
                    },
                    maxAccuracy() {
                        return 0 === this.recordList.length ? 0 : Math.max(...this.recordList.map(e => e.objectiveAccuracy)).toFixed(2)
                    },
                    aveAccuracy() {
                        return 0 === this.recordList.length ? 0 : (this.recordList.map(e => e.objectiveAccuracy).reduce((e, t) => e + t) / this.recordList.length).toFixed(2)
                    }
                }),
                async created() {
                    try {
                        const e = await this.$http.get("/api/branch_ecs_oe_admin/practice/queryPracticeRecordList?examStudentId=" + this.$route.query.examStudentId);
                        this.recordList = (e.data || []).reverse()
                    } catch (e) {
                        this.$Message.error({
                            content: "鏌ヨ缁冧範璁板綍鍒楄〃鍑洪敊锛�",
                            duration: 15,
                            closable: !0
                        })
                    }
                },
                methods: {
                    async enterPracticeRecordDetail(e) {
                        this.$router.push(`/online-practice/exam/${this.$route.params.examId}/detail?examRecordDataId=${e.id}`)
                    },
                    formatTime(e) {
                        return e && W.a.utc(e).format("HH:mm:ss") || ""
                    }
                }
            }
            , uo = lo
            , ho = (s("ec02"),
                Object(l["a"])(uo, ro, co, !1, null, "56b66085", null))
            , mo = ho.exports
            , po = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 褰撳墠鎵€鍦ㄤ綅缃細 "), s("BreadcrumbItem", {
                    attrs: {
                        to: {
                            name: "OnlinePracticeHome"
                        }
                    }
                }, [e._v(" " + e._s(e.locationTitle) + " ")]), s("BreadcrumbItem", [e._v("缁冧範璇︽儏")]), s("BreadcrumbItem", [e._v("鎴愮哗鎶ュ憡")])], 1), s("div", {
                    staticClass: "home"
                }, [s("div", {
                    staticClass: "qm-title-text"
                }, [e._v(" 缁冧範鎯呭喌姒傜巼(绉戠洰锛�" + e._s(e.examRecordResult.courseName) + ") ")]), s("div", {
                    staticStyle: {
                        display: "grid",
                        "grid-template-columns": "repeat(4, 1fr)",
                        "margin-bottom": "20px",
                        "text-align": "left"
                    }
                }, [s("div", [e._v(" 绛旈姝ｇ‘鐜�: "), s("span", [e._v(e._s(e.examRecordResult.objectiveAccuracy) + "%")])])]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("棰樼洰鍒嗙被")]), s("td", [e._v("棰橀噺")]), s("td", [e._v("姝ｇ‘")]), s("td", [e._v("閿欒")]), s("td", [e._v("鏈瓟")])]), e._l(e.examRecordResult.paperStructInfos, (function (t) {
                    return s("tr", {
                        key: t.index
                    }, [s("td", [e._v(e._s(t.title))]), s("td", [e._v(e._s(t.questionCount))]), s("td", [e._v(e._s(t.succQuestionNum))]), s("td", [e._v(e._s(t.failQuestionNum))]), s("td", [e._v(e._s(t.notAnsweredCount))])])
                }))], 2)]), s("div", {
                    staticClass: "info-text"
                }, [s("h4", {
                    staticClass: "font-thin text-primary-lt m-t"
                }, [e._v("鎶ュ憡鎻愮ず:")]), s("div", {
                    staticClass: "scroll-y wrapper-sm",
                    staticStyle: {
                        "min-height": "80px"
                    }
                }, [s("p", {
                    staticClass: "m-b-sm"
                }, [e._v(" 1銆佽嫢鏈粌涔犲嵎涓寘鍚儴鍒嗕富瑙傞鍨嬶紝鍒欐姤鍛婄粺璁℃暟鎹粎渚涘弬鑰冿紝鍥犱负閮ㄥ垎棰樺瀷闇€鑰冪敓鏍规嵁鍙傝€冪瓟妗堝垽鏂纭拰閿欒锛屾姤鍛婁粎瀵瑰彲缁熻鐨勯鍨嬭繘琛岀粺璁°€� ")]), s("p", {
                    staticClass: "m-b-sm"
                }, [e._v(" 2銆佽嫢鍗曢瀛樺湪澶氬浣滅瓟锛屽彧瑕佹湁涓€澶勫嚭閿欙紝璇ラ灏卞垽涓洪敊棰樸€� ")])])])])]), s("div", {
                    staticStyle: {
                        margin: "20px",
                        display: "grid",
                        "grid-template-columns": "repeat(auto-fit, minmax(100px, 1fr))",
                        "grid-gap": "20px"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    on: {
                        click: function (t) {
                            e.shouldShowPaper = !e.shouldShowPaper
                        }
                    }
                }, [e._v(" 灞曞紑璇曞嵎 ")]), e.disableGoBack ? e._e() : s("Button", {
                    staticClass: "qm-primary-button",
                    on: {
                        click: e.goBack
                    }
                }, [e._v(" 杩斿洖 ")])], 1), e.shouldShowPaper ? s("ExamPaper", {
                    attrs: {
                        "exam-id": e.examId,
                        "exam-record-data-id": e.examRecordDataId,
                        "from-cache": e.disableGoBack
                    }
                }) : e._e()], 1)
            }
            , _o = []
            , go = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.exam ? s("div", {
                    key: e.exam.id,
                    staticClass: "container"
                }, [s("div", {
                    staticClass: "main"
                }, e._l(e.questionGroupList, (function (t, i) {
                    return s("div", {
                        key: i
                    }, [s("div", [e._v(" " + e._s(e.toChineseNumber(i + 1)) + "銆�" + e._s(t.groupName) + " (" + e._s(t.groupScore) + "鍒�) ")]), e._l(t.questionWrapperList, (function (t) {
                        return s("div", {
                            key: t.questionId,
                            staticClass: "question-wrapper"
                        }, [s("div", {
                            domProps: {
                                innerHTML: e._s(e.restoreAudio(t.body))
                            }
                        }), e._l(t.questionUnitList, (function (i, a) {
                            return s("div", {
                                key: a
                            }, [s("div", {
                                staticClass: "flex"
                            }, [s("div", [e._v(e._s(t.eqs[a].order) + "銆�")]), s("div", {
                                domProps: {
                                    innerHTML: e._s(e.restoreAudio(i.body))
                                }
                            })]), e._l(t.eqs[a].optionPermutation, (function (t, a) {
                                return s("div", {
                                    key: a
                                }, [s("div", {
                                    staticClass: "flex"
                                }, [s("div", [e._v(e._s(e.indexToABCD(a)) + "銆�")]), s("div", {
                                    domProps: {
                                        innerHTML: e._s(e.restoreAudio(i.questionOptionList[t - 0].body))
                                    }
                                })])])
                            })), "NO_ANSWER" !== e.practiceType ? s("div", {
                                staticClass: "flex"
                            }, [e._v(" 姝ｇ‘绛旀锛� "), s("div", {
                                domProps: {
                                    innerHTML: e._s(e.rightAnswerToABCD(i.questionType, i.rightAnswer, t.eqs[a].optionPermutation))
                                }
                            })]) : e._e(), s("div", {
                                staticClass: "flex"
                            }, [e._v(" 瀛︾敓绛旀锛� "), s("div", {
                                domProps: {
                                    innerHTML: e._s(e.rightAnswerToABCD(i.questionType, t.eqs[a].studentAnswer, t.eqs[a].optionPermutation, i.rightAnswer))
                                }
                            })])], 2)
                        }))], 2)
                    }))], 2)
                })), 0)]) : s("div", [e._v("姝ｅ湪绛夊緟鏁版嵁杩斿洖...")])
            }
            , wo = [];
        const fo = "ABCDEFGHIJ".split("");
        var vo = {
            name: "ExamPaper",
            props: {
                examId: {
                    type: Number,
                    default: 0
                },
                examRecordDataId: {
                    type: Number,
                    default: 0
                },
                fromCache: {
                    type: Boolean,
                    default: !1
                }
            },
            data() {
                return {
                    exam: null,
                    questionGroupList: null,
                    examQuestionList: null,
                    practiceType: null
                }
            },
            async created() {
                await this.initData()
            },
            methods: {
                async initData() {
                    const e = (await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + this.examId + "/PRACTICE_TYPE")).data;
                    this.practiceType = e.PRACTICE_TYPE;
                    const [t, s, i, a, o] = await Promise.all([this.$http.get("/api/ecs_exam_work/exam/" + this.examId), this.$http.get("/api/branch_ecs_oe_admin/examRecordPaperStruct/getExamRecordPaperStruct?examRecordDataId=" + this.examRecordDataId + (this.fromCache ? "&fromCache=1" : "")), this.$http.get("/api/branch_ecs_oe_admin/examRecordQuestions/getExamRecordQuestions?examRecordDataId=" + this.examRecordDataId + (this.fromCache ? "&fromCache=1" : "")), this.$http.get("/api/branch_ecs_oe_admin/exam/record/data/findExamRecordDataEntity?examRecordDataId=" + this.examRecordDataId + (this.fromCache ? "&fromCache=1" : "")), this.$http.get("/api/branch_ecs_oe_admin/practice/getPracticeDetailInfo?examRecordDataId=" + this.examRecordDataId + (this.fromCache ? "&fromCache=1" : ""))])
                        , [n, r, c, l] = [t.data, s.data, a.data, o.data];
                    let d = i.data.examQuestionEntities;
                    if (void 0 === n || void 0 === r || void 0 === i)
                        return void this.$Message.error({
                            content: "鑾峰彇璇曞嵎淇℃伅澶辫触",
                            duration: 15,
                            closable: !0
                        });
                    let u = null
                        , h = 1;
                    d = d.map(e => (u == e.questionId || (h = 1,
                        u = e.questionId),
                        e.subNumber = h++,
                        e));
                    let m = 1
                        , p = 0;
                    d = d.map(e => {
                        p == e.mainNumber || (p = e.mainNumber,
                            m = 1),
                            e.groupOrder = m++;
                        const t = r.defaultPaper.questionGroupList[e.mainNumber - 1].questionWrapperList
                            , s = r.defaultPaper.questionGroupList[e.mainNumber - 1].groupName
                            , i = t.reduce((e, t) => e + t.questionUnitWrapperList.length, 0);
                        return e.groupName = s,
                            e.groupTotal = i,
                            e
                    }
                    ),
                        d = d.map(e => {
                            const t = r.defaultPaper.questionGroupList[e.mainNumber - 1].questionWrapperList.find(t => t.questionId === e.questionId);
                            return Object.assign(e, {
                                limitedPlayTimes: t.limitedPlayTimes
                            })
                        }
                        ),
                        this.exam = t.data,
                        this.examQuestionList = d;
                    const _ = s.data.defaultPaper.questionGroupList;
                    for (const g of _)
                        for (const e of g.questionWrapperList) {
                            const t = this.examQuestionList.filter(t => t.questionId === e.questionId);
                            Object.assign(e, {
                                eqs: t
                            })
                        }
                    for (const g of _)
                        for (const e of g.questionWrapperList) {
                            const t = await this.getQuestionContent(e.questionId, this.exam, l, c);
                            e.body = t.body,
                                e.hasAudios = t.hasAudios,
                                e.questionUnitList = t.questionUnitList
                        }
                    this.questionGroupList = _
                },
                async getQuestionContent(e, t, s, i) {
                    const a = await this.$http.post("/api/branch_ecs_ques/default_question/question", { questionId: e, examId: this.exam.id, courseCode: s.courseCode, groupCode: i.examRecord.paperType });
                    return a.data.masterVersion
                },
                restoreAudio(e) {
                    return (e || "").replace(/<a/g, "<audio controls ").replace(/url=/g, "src=").replace(/a>/g, "audio>")
                },
                toChineseNumber(e) {
                    return Object(It["i"])(e)
                },
                indexToABCD(e) {
                    return fo[e]
                },
                rightAnswerToABCD(e, t, s, i) {
                    if (null === t && (t = []),
                        ["SINGLE_CHOICE", "MULTIPLE_CHOICE"].includes(e)) {
                        "string" === typeof t && (t = t.split(""));
                        const e = t.map(e => s.indexOf(e - 0)).sort();
                        let a = e.map(e => this.indexToABCD(e + "")).join("");
                        return i && i.join("") == t.join("") ? a += '<i class="ivu-icon ivu-icon-md-checkmark" style="color: red"></i>' : i && i.join("") != t.join("") && (a += '<i class="ivu-icon ivu-icon-md-close" style="color: red"></i>'),
                            a
                    }
                    if (["TRUE_OR_FALSE"].includes(e)) {
                        "string" === typeof t && (t = [t]);
                        let e = {
                            true: "姝ｇ‘",
                            false: "閿欒"
                        }[t.join("")];
                        return e = e || "",
                            i && i.join("") == t.join("") ? e += '<i class="ivu-icon ivu-icon-md-checkmark" style="color: red"></i>' : i && i.join("") != t.join("") && (e += '<i class="ivu-icon ivu-icon-md-close" style="color: red"></i>'),
                            e
                    }
                    let a = "string" === typeof t ? t : t.join("");
                    return a
                }
            }
        }
            , yo = vo
            , bo = (s("97dc"),
                Object(l["a"])(yo, go, wo, !1, null, "59a971f0", null))
            , xo = bo.exports
            , Eo = {
                name: "OnlinePracticeRecordDetail",
                components: {
                    ExamPaper: xo
                },
                data() {
                    return {
                        examRecordResult: [],
                        shouldShowPaper: !1,
                        disableGoBack: !!this.$route.query.disableGoBack
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.match(/\/[^/]*/)[0].toUpperCase()) || {}).name
                    },
                    examRecordDataId() {
                        return this.$route.query.examRecordDataId - 0
                    },
                    examId() {
                        return this.$route.params.examId - 0
                    }
                }),
                async created() {
                    try {
                        const e = await this.$http.get("/api/branch_ecs_oe_admin/practice/getPracticeDetailInfo?examRecordDataId=" + this.$route.query.examRecordDataId + (this.disableGoBack ? "&fromCache=1" : ""));
                        this.examRecordResult = e.data || []
                    } catch (e) {
                        this.$Message.error({
                            content: "鏌ヨ缁冧範璇曞嵎璇︽儏鍑洪敊锛�",
                            duration: 15,
                            closable: !0
                        })
                    }
                },
                methods: {
                    async enterPracticeRecord(e) {
                        this.$router.push(`/online-practice/exam/${e.examId}/detail?examStudentId=${e.examStudentId}`)
                    },
                    formatTime(e) {
                        return W.a.utc(e).format("HH:mm:ss") || ""
                    },
                    goBack() {
                        this.$router.back()
                    }
                }
            }
            , So = Eo
            , Co = (s("2e2a"),
                Object(l["a"])(So, po, _o, !1, null, "33551cca", null))
            , Oo = Co.exports
            , Io = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "home"
                }, [s("header", {
                    staticClass: "header"
                }, [s("div", {
                    staticClass: "school-logo-container"
                }, [s("img", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.logoPath,
                        expression: "logoPath"
                    }],
                    staticClass: "school-logo",
                    staticStyle: {
                        background: "linear-gradient(to bottom, #38f6f5 0%, #8efdf4 100%)"
                    },
                    attrs: {
                        src: e.logoPath,
                        alt: "school logo"
                    },
                    on: {
                        load: function (e) {
                            return e.target.style = ""
                        }
                    }
                })]), s("a", {
                    staticClass: "close",
                    on: {
                        click: e.closeApp
                    }
                }, [e._v(" 鍏抽棴 ")])]), s("div", {
                    staticClass: "center",
                    style: {
                        backgroundImage: e.backgroundUrl
                    }
                }, [s("div", {
                    staticClass: "content"
                }, [s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [e.allowLoginType.includes("STUDENT_CODE") ? s("a", {
                    key: "STUDENT_CODE",
                    class: ["qm-big-text", "login-type", "STUDENT_CODE" === e.loginType && "active-type", 1 === e.allowLoginType.length && "single-login-type"],
                    staticStyle: {
                        "border-top-left-radius": "6px"
                    },
                    on: {
                        click: function (t) {
                            e.loginType = "STUDENT_CODE"
                        }
                    }
                }, [e._v(" " + e._s(e.QECSConfig.STUDENT_CODE_LOGIN_ALIAS) + " ")]) : e._e(), e.allowLoginType.includes("IDENTITY_NUMBER") ? s("a", {
                    key: "IDENTITY_NUMBER",
                    class: ["qm-big-text", "login-type", "STUDENT_CODE" !== e.loginType && "active-type", 1 === e.allowLoginType.length && "single-login-type"],
                    staticStyle: {
                        "border-top-right-radius": "6px"
                    },
                    on: {
                        click: function (t) {
                            e.loginType = "STUDENT_IDENTITY_NUMBER"
                        }
                    }
                }, [e._v(" " + e._s(e.QECSConfig.IDENTITY_NUMBER_LOGIN_ALIAS) + " ")]) : e._e(), 0 === e.allowLoginType.length ? s("a", {
                    key: "loading",
                    class: ["qm-big-text", "login-type"]
                }, [e._v(" loading... ")]) : e._e()]), s("div", {
                    staticClass: "qm-title-text",
                    staticStyle: {
                        margin: "40px 0 20px 0"
                    }
                }, [e._v(" " + e._s(e.productName) + " ")]), s("div", {
                    staticStyle: {
                        margin: "0 40px 40px 40px"
                    }
                }, [s("Form", {
                    ref: "loginForm",
                    attrs: {
                        model: e.loginForm,
                        rules: e.loginFormRule
                    }
                }, [s("FormItem", {
                    staticClass: "form-item-style",
                    attrs: {
                        prop: "accountValue"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "text",
                        size: "large"
                    },
                    model: {
                        value: e.loginForm.accountValue,
                        callback: function (t) {
                            e.$set(e.loginForm, "accountValue", t)
                        },
                        expression: "loginForm.accountValue"
                    }
                }, [s("Icon", {
                    attrs: {
                        slot: "prepend",
                        type: "ios-person"
                    },
                    slot: "prepend"
                })], 1)], 1), s("FormItem", {
                    staticClass: "form-item-style",
                    attrs: {
                        prop: "password"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "password",
                        size: "large"
                    },
                    on: {
                        "on-enter": e.loginForuser
                    },
                    model: {
                        value: e.loginForm.password,
                        callback: function (t) {
                            e.$set(e.loginForm, "password", t)
                        },
                        expression: "loginForm.password"
                    }
                }, [s("Icon", {
                    attrs: {
                        slot: "prepend",
                        type: "ios-lock"
                    },
                    slot: "prepend"
                })], 1)], 1), e.isGeeTestEnabled ? s("FormItem", {
                    staticClass: "form-item-style",
                    staticStyle: {
                        height: "40px",
                        "margin-top": "0px"
                    }
                }, [s("GeeTest", {
                    attrs: {
                        reset: e.resetGeeTime
                    },
                    on: {
                        "on-load": e.handleGtResult
                    }
                })], 1) : e._e(), s("FormItem", {
                    staticStyle: {
                        position: "relative"
                    }
                }, ["" !== e.errorInfo ? s("div", {
                    staticStyle: {
                        position: "absolute",
                        top: "-25px",
                        width: "100%"
                    }
                }, [s("Alert", {
                    attrs: {
                        type: "error",
                        "show-icon": ""
                    }
                }, [e._v(e._s(e.errorInfo))])], 1) : e._e(), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        "margin-top": "10px"
                    },
                    attrs: {
                        size: "large",
                        long: "",
                        disabled: e.disableLoginBtn,
                        loading: e.loginBtnLoading
                    },
                    on: {
                        click: e.loginForuser
                    }
                }, [e._v(" " + e._s(e.newVersionAvailable ? "鐐瑰嚮鏇存柊鐗堟湰" : "鐧诲綍") + " ")])], 1)], 1)], 1)])]), s("footer", {
                    staticClass: "footer"
                }, [s("div", {
                    staticStyle: {
                        position: "absolute",
                        right: "20px",
                        bottom: "20px"
                    }
                }, [e._v(" 鐗堟湰: " + e._s(e.VUE_APP_GIT_REPO_VERSION) + " ")]), s("DevTools")], 1), s("GlobalNotice")], 1)
            }
            , ko = []
            , To = s("d0392")
            , Ao = To["a"]
            , Po = (s("e3fa"),
                s("9294"),
                Object(l["a"])(Ao, Io, ko, !1, null, "0b20592e", null))
            , Mo = Po.exports
            , Do = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [e._v("绗笁鏂圭櫥褰�...")])
            }
            , Ro = []
            , Lo = {
                name: "StudentAccess",
                async mounted() {
                    const e = location.search;
                    let t = {};
                    for (const [d, u] of new URLSearchParams(location.search).entries())
                        t[d] = u;
                    const { accountType: s, accountValue: i, rootOrgId: a, appId: o, timestamp: n, token: r, redirectUrl: c } = t;
                    if (s && i && a && o && n && r && c)
                        try {
                            const t = await this.$http.post("/api/ecs_core/auth/thirdPartyStudentAccess" + e)
                                , s = t.data.rootOrgDomain;
                            this.$router.push("/login/" + s + e)
                        } catch (l) {
                            window._hmt.push(["_trackEvent", "绗笁鏂圭櫥褰曢〉闈�", "鎺ュ彛鍑洪敊", ""]),
                                this.$Modal.error({
                                    title: "杩斿洖",
                                    content: "绗笁鏂圭櫥褰曡闂敊璇�",
                                    onOk: () => {
                                        history.back()
                                    }
                                })
                        }
                    else
                        this.$Modal.error({
                            title: "杩斿洖",
                            content: "绗笁鏂圭櫥褰曞弬鏁伴敊璇�",
                            onOk: () => {
                                history.back()
                            }
                        })
                },
                methods: {
                    goBack() {
                        history.back()
                    }
                }
            }
            , qo = Lo
            , jo = Object(l["a"])(qo, Do, Ro, !1, null, null, null)
            , No = jo.exports
            , Bo = function () {
                var e = this
                    , t = e.$createElement
                    , i = e._self._c || t;
                return i("main-layout", [i("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 褰撳墠鎵€鍦ㄤ綅缃細 "), i("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), i("div", {
                    staticClass: "home"
                }, [i("div", {
                    staticStyle: {
                        "font-size": "18px",
                        "font-weight": "500",
                        color: "#222c32"
                    }
                }, [e._v(" 鍏憡閫氱煡 ")]), i("Button", [i("div", {
                    staticClass: "mark-read-block",
                    on: {
                        click: e.markRead
                    }
                }, [i("img", {
                    attrs: {
                        src: s("82c3")
                    }
                }), e._v(" 鏍囪涓哄凡璇� ")])])], 1), i("div", {
                    staticClass: "site-message-container"
                }, [i("div", {
                    staticStyle: {
                        "text-align": "left",
                        color: "#999",
                        "margin-bottom": "5px"
                    }
                }, [e._v(" *浠呬繚鐣欒繎1骞寸殑鍏憡閫氱煡銆� ")]), i("Table", {
                    ref: "selection",
                    attrs: {
                        border: "",
                        columns: e.columns,
                        data: e.siteMessagesComputed
                    }
                }), i("Page", {
                    staticStyle: {
                        "text-align": "right",
                        "margin-top": "10px"
                    },
                    attrs: {
                        total: e.siteMessages.length,
                        "page-size": e.pageSize,
                        current: e.page
                    },
                    on: {
                        "update:current": function (t) {
                            e.page = t
                        }
                    }
                })], 1)], 1)
            }
            , $o = []
            , Fo = {
                name: "SiteMessageHome",
                data() {
                    this.$createElement;
                    return {
                        columns: [{
                            type: "selection",
                            width: 60,
                            align: "center"
                        }, {
                            title: "鏍囬",
                            key: "title",
                            render: (e, t) => e("router-link", {
                                attrs: {
                                    to: "/site-message/" + t.row.id + "?fromPage=" + this.page
                                },
                                style: "display: flex",
                                on: {
                                    dragstart: "return false;"
                                }
                            }, [e("img", {
                                class: t.row.hasRead ? "mhome-message-read" : "mhome-message-unread"
                            }), e("span", {
                                class: "mhome-message-title"
                            }, [t.row.title])])
                        }, {
                            title: "鍙戦€佹椂闂�",
                            key: "publishTime",
                            width: "150"
                        }],
                        page: 1,
                        pageSize: 10
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "siteMessages", "siteMessagesTimeStamp", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    },
                    siteMessagesComputed() {
                        return this.siteMessages.slice((this.page - 1) * this.pageSize, this.page * this.pageSize)
                    }
                }),
                async mounted() {
                    window._hmt.push(["_trackEvent", "绔欏唴娑堟伅鍒楄〃椤甸潰", "杩涘叆椤甸潰"]),
                        this.logger({
                            page: "绔欏唴娑堟伅鍒楄〃椤甸潰",
                            action: "杩涘叆椤甸潰"
                        }),
                        await this.getList(),
                        this.$route.query.fromPage && (this.page = +this.$route.query.fromPage)
                },
                methods: Object(p["a"])(Object(p["a"])({}, Object(w["d"])(["updateSiteMessages", "updateSiteMessagesTimeStamp"])), {}, {
                    async getList() {
                        try {
                            const e = (await this.$http.get("/api/ecs_exam_work/notice/getUserNoticeList?" + this.user.id + this.siteMessagesTimeStamp)).data;
                            this.updateSiteMessages(e)
                        } catch (e) {
                            console.log(e),
                                this.$Message.error({
                                    content: "鑾峰彇鍏憡閫氱煡寮傚父",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    },
                    async markRead() {
                        this.logger({
                            page: "鍦ㄧ嚎缁冧範椤甸潰",
                            button: "鏍囪涓哄凡璇绘寜閽�",
                            action: "鐐瑰嚮"
                        });
                        const e = this.$refs.selection.getSelection().map(e => e.id);
                        0 !== e.length ? (await this.$http.post("/api/ecs_exam_work/notice/updateNoticeReadStatus?noticeId=" + e.join(",")),
                            window._hmt.push(["_trackEvent", "绔欏唴娑堟伅璇︽儏椤甸潰", "鍙戦€佸凡璇绘垚鍔�"]),
                            this.updateSiteMessagesTimeStamp(Date.now()),
                            await this.getList()) : this.$Message.warning({
                                content: "璇峰厛閫夋嫨娑堟伅",
                                duration: 10,
                                closable: !0
                            })
                    }
                })
            }
            , Uo = Fo
            , Qo = (s("885d"),
                s("7ad4"),
                Object(l["a"])(Uo, Bo, $o, !1, null, "012937ca", null))
            , Wo = Qo.exports
            , Vo = function () {
                var e = this
                    , t = e.$createElement
                    , i = e._self._c || t;
                return i("main-layout", [i("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 褰撳墠鎵€鍦ㄤ綅缃細 "), i("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), i("div", {
                    staticStyle: {
                        display: "flex",
                        "flex-direction": "row-reverse"
                    }
                }, [i("div", {
                    staticStyle: {
                        "margin-top": "20px",
                        "margin-right": "20px"
                    }
                }, [i("Button", [i("div", {
                    staticClass: "back-block",
                    on: {
                        click: e.goBack
                    }
                }, [i("img", {
                    attrs: {
                        src: s("0f11")
                    }
                }), e._v(" 杩斿洖鍒楄〃 ")])])], 1)]), e.message ? i("div", {
                    staticClass: "site-message-container"
                }, [i("h3", {
                    staticStyle: {
                        "font-size": "24px",
                        "font-weight": "500",
                        color: "rgba(34, 34, 34, 1)",
                        "line-height": "33px"
                    }
                }, [e._v(" " + e._s(e.message.title) + " ")]), i("h5", {
                    staticStyle: {
                        "font-size": "13px",
                        "font-weight": "400",
                        color: "rgba(153, 153, 153, 1)",
                        "line-height": "18px",
                        "margin-top": "16px",
                        "margin-bottom": "40px"
                    }
                }, [e._v(" 鍙戝竷鏃堕棿: " + e._s(e.message.publishTime) + " ")]), i("div", {
                    staticClass: "site-message-content",
                    domProps: {
                        innerHTML: e._s(e.message.content)
                    }
                })]) : i("div", [e._v("鍔犺浇涓�")])], 1)
            }
            , Ho = []
            , zo = {
                name: "SiteMessageDetail",
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "siteMessages", "siteMessagesTimeStamp", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.match(/\/[^/]*/)[0].toUpperCase()) || {}).name
                    },
                    message() {
                        return this.siteMessages ? this.siteMessages.find(e => e.id === +this.$route.params.id) : null
                    }
                }),
                async mounted() {
                    await this.getList(),
                        await this.prepareData()
                },
                async beforeUpdate() {
                    await this.prepareData()
                },
                methods: Object(p["a"])(Object(p["a"])({}, Object(w["d"])(["updateSiteMessages", "updateSiteMessagesTimeStamp"])), {}, {
                    async getList() {
                        try {
                            const e = (await this.$http.get("/api/ecs_exam_work/notice/getUserNoticeList?" + this.user.id + this.siteMessagesTimeStamp)).data;
                            this.updateSiteMessages(e)
                        } catch (e) {
                            console.log(e),
                                this.$Message.error({
                                    content: "鑾峰彇鍏憡閫氱煡寮傚父",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    },
                    async prepareData() {
                        this.message.hasRead || (await this.$http.post("/api/ecs_exam_work/notice/updateNoticeReadStatus?noticeId=" + this.message.id),
                            window._hmt.push(["_trackEvent", "绔欏唴娑堟伅璇︽儏椤甸潰", "鍙戦€佸凡璇绘垚鍔�"]),
                            this.updateSiteMessagesTimeStamp(Date.now()),
                            await this.getList())
                    },
                    goBack() {
                        this.logger({
                            page: "绔欏唴娑堟伅璇︽儏椤甸潰",
                            button: "杩斿洖鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            this.$router.push("/site-message" + location.search)
                    }
                })
            }
            , Ko = zo
            , Go = (s("84e7"),
                Object(l["a"])(Ko, Vo, Ho, !1, null, "0845bbe4", null))
            , Jo = Go.exports
            , Xo = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 褰撳墠鎵€鍦ㄤ綅缃細 "), s("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), s("div", {
                    staticClass: "password-container"
                }, [s("Form", {
                    ref: "form",
                    staticStyle: {
                        width: "320px"
                    },
                    attrs: {
                        model: e.form,
                        rules: e.rules
                    }
                }, [s("FormItem", {
                    attrs: {
                        label: "",
                        prop: "oldPassword"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "password",
                        placeholder: "璇疯緭鍏ユ棫瀵嗙爜"
                    },
                    model: {
                        value: e.form.oldPassword,
                        callback: function (t) {
                            e.$set(e.form, "oldPassword", t)
                        },
                        expression: "form.oldPassword"
                    }
                })], 1), s("FormItem", {
                    attrs: {
                        label: "",
                        prop: "newPassword"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "password",
                        placeholder: "璇疯緭鍏ユ柊瀵嗙爜(6鍒�18浣嶇殑鏁板瓧鎴栧瓧姣�)"
                    },
                    model: {
                        value: e.form.newPassword,
                        callback: function (t) {
                            e.$set(e.form, "newPassword", t)
                        },
                        expression: "form.newPassword"
                    }
                })], 1), s("FormItem", {
                    attrs: {
                        label: "",
                        prop: "newPasswordAgain"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "password",
                        placeholder: "璇峰啀娆¤緭鍏ユ柊瀵嗙爜"
                    },
                    model: {
                        value: e.form.newPasswordAgain,
                        callback: function (t) {
                            e.$set(e.form, "newPasswordAgain", t)
                        },
                        expression: "form.newPasswordAgain"
                    }
                })], 1), s("FormItem", {
                    staticStyle: {
                        "text-align": "left"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        size: "large"
                    },
                    on: {
                        click: e.changePwd
                    }
                }, [e._v(" 淇濆瓨 ")])], 1)], 1)], 1)], 1)
            }
            , Yo = []
            , Zo = {
                name: "Password",
                data() {
                    const e = (e, t, s) => {
                        "" === t ? s(new Error("璇疯緭鍏ュ瘑鐮�")) : t.match(/^([a-zA-Z]|[0-9]){6,18}$/) ? ("" !== this.form.newPasswordAgain && this.$refs.form.validateField("newPasswordAgain"),
                            s()) : s(new Error("璇峰湪杈撳叆娉曠殑鑻辨枃杈撳叆鐘舵€佷笅杈撳叆鏁板瓧鎴栧ぇ灏忓啓鐨勮嫳鏂囧瓧姣�."))
                    }
                        , t = (e, t, s) => {
                            "" === t ? s(new Error("璇峰啀娆¤緭鍏ユ柊瀵嗙爜")) : t !== this.form.newPassword ? s(new Error("涓ゆ杈撳叆鐨勬柊瀵嗙爜涓嶄竴鑷�!")) : s()
                        }
                        ;
                    return {
                        form: {
                            oldPassword: "",
                            newPassword: "",
                            newPasswordAgain: ""
                        },
                        rules: {
                            oldPassword: [{
                                required: !0,
                                message: "璇疯緭鍏ユ棫瀵嗙爜",
                                trigger: "blur"
                            }],
                            newPassword: [{
                                required: !0,
                                message: "璇疯緭鍏ユ柊瀵嗙爜",
                                trigger: "blur"
                            }, {
                                type: "string",
                                min: 6,
                                message: "瀵嗙爜涓嶈兘灏戜簬6浣�",
                                trigger: "blur"
                            }, {
                                type: "string",
                                max: 18,
                                message: "瀵嗙爜涓嶈兘澶氫簬18浣�",
                                trigger: "blur"
                            }, {
                                validator: e,
                                trigger: "blur"
                            }],
                            newPasswordAgain: [{
                                required: !0,
                                message: "璇疯緭鍏ユ柊瀵嗙爜",
                                trigger: "blur"
                            }, {
                                type: "string",
                                min: 6,
                                message: "瀵嗙爜涓嶈兘灏戜簬6浣�",
                                trigger: "blur"
                            }, {
                                type: "string",
                                max: 18,
                                message: "瀵嗙爜涓嶈兘澶氫簬18浣�",
                                trigger: "blur"
                            }, {
                                validator: t,
                                trigger: "blur"
                            }]
                        }
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    }
                }),
                methods: {
                    async changePwd() {
                        this.logger({
                            page: "淇敼瀵嗙爜椤甸潰",
                            button: "淇濆瓨鎸夐挳",
                            action: "鐐瑰嚮"
                        });
                        const e = await this.$refs["form"].validate();
                        if (e)
                            try {
                                const e = await this.$http.put(`/api/ecs_core/student/password?newPassword=${this.form.newPassword}&password=${this.form.oldPassword}`);
                                200 == e.status && (this.$Message.success({
                                    content: "淇濆瓨鎴愬姛",
                                    duration: 5,
                                    closable: !0
                                }),
                                    window._hmt.push(["_trackEvent", "淇敼瀵嗙爜椤甸潰", "淇敼鎴愬姛"]))
                            } catch (t) {
                                this.$Message.error({
                                    content: "淇濆瓨澶辫触",
                                    duration: 15,
                                    closable: !0
                                })
                            }
                    }
                }
            }
            , en = Zo
            , tn = (s("7938"),
                Object(l["a"])(en, Xo, Yo, !1, null, "63717e18", null))
            , sn = tn.exports;
        const an = a["a"].prototype.push;
        a["a"].prototype.push = function (e, t, s) {
            if (t || s)
                return an.call(this, e, t, s);
            try {
                return an.call(this, e).catch(e => e)
            } catch (i) {
                console.log(i)
            }
        }
            ,
            i["a"].use(a["a"]);
        let on = new a["a"]({
            mode: "history",
            base: "/oe-web/",
            routes: [{
                path: "/",
                name: "Home",
                redirect: "/login"
            }, {
                path: "/login/:domain?",
                name: "Login",
                component: Mo
            }, {
                path: "/StudentAccess",
                name: "StudentAccess",
                component: No
            }, {
                path: "/online-exam",
                name: "OnlineExamHome",
                component: Ve,
                props: {
                    examType: "ONLINE"
                }
            }, {
                path: "/online-homework",
                name: "OnlineHomeworkHome",
                component: Ve,
                props: {
                    examType: "ONLINE_HOMEWORK"
                }
            }, {
                path: "/online-exam/exam/:examId/overview",
                name: "OnlineExamOverview",
                component: Ze
            }, {
                path: "/online-exam/exam/:examId/examRecordData/:examRecordDataId/order/:order",
                name: "OnlineExamingHome",
                component: ga
            }, {
                path: "/online-exam/exam/:examId/examRecordData/:examRecordDataId/end",
                name: "ExamingEnd",
                component: Ea
            }, {
                path: "/online-practice",
                name: "OnlinePracticeHome",
                component: no
            }, {
                path: "/online-practice/exam/:examId/list",
                name: "OnlinePracticeRecordList",
                component: mo
            }, {
                path: "/online-practice/exam/:examId/detail",
                name: "OnlinePracticeRecordDetail",
                component: Oo
            }, {
                path: "/offline-exam",
                name: "OfflineExamHome",
                component: za
            }, {
                path: "/site-message",
                name: "SiteMessageHome",
                component: Wo
            }, {
                path: "/site-message/:id",
                name: "SiteMessageDetail",
                component: Jo
            }, {
                path: "/password",
                name: "Password",
                component: sn
            }, {
                path: "/check-computer",
                name: "CheckComputer",
                component: ge
            }, {
                path: "*",
                component: u
            }]
        });
        on.beforeEach((e, t, s) => {
            const i = "/login/" + localStorage.getItem("domain");
            e.path && window._hmt.push(["_trackPageview", "/oe-web" + e.fullPath]),
                e.path.match(/^\/?/) || e.path.match(/^\/login\/.?$/) || e.path.match(/^\/StudentAccess$/) ? s() : (localStorage.getItem("domain") || alert("鍦板潃鍑洪敊锛屾壘涓嶅埌鏈烘瀯锛佽鍏抽棴搴旂敤鍚庨噸璇曪紒"),
                    window.sessionStorage.getItem("token") ? s() : s({
                        path: i
                    }))
        }
        );
        t["a"] = on
    },
    4307: function (e, t, s) { },
    "45d8": function (e, t, s) {
        "use strict";
        var i = s("797e")
            , a = s.n(i);
        a.a
    },
    "464d": function (e, t, s) { },
    "48ee": function (e, t, s) { },
    "4e36": function (e, t, s) {
        "use strict";
        var i = s("d85c")
            , a = s.n(i);
        a.a
    },
    "4e61": function (e, t, s) {
        "use strict";
        var i = s("240b")
            , a = s.n(i);
        a.a
    },
    5366: function (e, t, s) {
        "use strict";
        var i = s("6a85")
            , a = s.n(i);
        a.a
    },
    "54e5": function (e, t, s) { },
    "55c6": function (e, t, s) { },
    5660: function (e, t, s) { },
    "56d7": function (e, t, s) {
        "use strict";
        s.r(t);
        s("e260"),
            s("e6cf"),
            s("a79d"),
            s("9b33");
        var i = s("2b0e")
            , a = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    attrs: {
                        id: "app",
                        onpaste: "return false",
                        oncopy: "return false",
                        oncut: "return false"
                    }
                }, [s("router-view"), s("video", {
                    staticStyle: {
                        display: "none"
                    },
                    attrs: {
                        id: "ssVideo"
                    }
                })], 1)
            }
            , o = []
            , n = (s("5319"),
                s("f3f3"))
            , r = s("2f62")
            , c = s("15ad")
            , l = s("ca00");
        const { mapMutations: d } = Object(r["a"])("examingHomeModule");
        var u = {
            name: "APP",
            computed: Object(n["a"])({}, Object(r["e"])(["user", "QECSConfig"])),
            watch: {
                QECSConfig() {
                    if (this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("FULL_SCREEN_TOP")) {
                        if ("undefined" == typeof nodeRequire)
                            return console.log("闈炶€冪敓绔紝涓嶆娴嬬疆椤剁姸鎬�"),
                                void this.logger({
                                    action: "闈炶€冪敓绔紝涓嶆娴嬬疆椤剁姸鎬�"
                                });
                        console.log("鑰冪敓绔紝璁剧疆妫€娴嬬疆椤剁姸鎬�"),
                            this.logger({
                                action: "鑰冪敓绔紝璁剧疆妫€娴嬬疆椤剁姸鎬�"
                            });
                        let e = window.nodeRequire("electron").remote;
                        const t = e.getCurrentWindow();
                        let s = 0;
                        const i = () => {
                            Date.now() - s < 1e3 || (s = Date.now(),
                                this.logger({
                                    page: window.location.pathname,
                                    action: "瀛︾敓绔笉鏄疆椤剁姸鎬�"
                                }),
                                window._hmt.push(["_trackEvent", window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "瀛︾敓绔笉鏄疆椤剁姸鎬�"]),
                                "OnlineExamingHome" === this.$route.name && (this.$Message.warning({
                                    content: "鑰冭瘯杩囩▼璇峰嬁灏濊瘯鍒囧睆锛屽彲鑳藉奖鍝嶈€冭瘯鎴愮哗",
                                    duration: 10,
                                    closable: !0
                                }),
                                    this.$http.post("/api/ecs_oe_student/examControl/switchScreen?examRecordDataId=" + this.$route.params.examRecordDataId).then(e => {
                                        if (this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("RECORD_SWITCH_SCREEN") && e.data) {
                                            const { switchScreenCount: t, maxSwitchScreenCount: s } = e.data;
                                            "number" === typeof t && "number" === typeof s && t > s && this.updateExceedSwitchCount(!0)
                                        }
                                    }
                                    )))
                        }
                            ;
                        t.removeListener("blur", i),
                            t.on("blur", i)
                    }
                }
            },
            async created() {
                this.interval = setInterval(() => {
                    this.sendOnlineSignal()
                }
                    , 18e4),
                    Object(l["e"])() && (Object(c["c"])(),
                        this.processInterval = setInterval(() => Object(c["c"])(), 12e4))
            },
            beforeDestroy() {
                clearInterval(this.interval),
                    clearInterval(this.processInterval)
            },
            methods: Object(n["a"])(Object(n["a"])({}, d(["updateExceedSwitchCount"])), {}, {
                async sendOnlineSignal() {
                    if (window.sessionStorage.getItem("token"))
                        try {
                            await this.$http.get("/api/ecs_core/student/online_signal/" + this.user.id)
                        } catch (e) {
                            this.logger({
                                page: window.location.pathname,
                                action: "鍙戦€佸湪绾夸俊鍙�",
                                userId: this.user.id
                            })
                        }
                }
            })
        }
            , h = u
            , m = (s("034f"),
                s("2877"))
            , p = Object(m["a"])(h, a, o, !1, null, null, null)
            , _ = p.exports
            , g = s("41cb")
            , w = s("c0d6")
            , f = s("9483");
        Object(f["a"])("/oe-web/service-worker.js", {
            ready() {
                console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")
            },
            registered() {
                console.log("Service worker has been registered.")
            },
            cached() {
                console.log("Content has been cached for offline use.")
            },
            updatefound() {
                console.log("New content is downloading.")
            },
            updated(e) {
                console.log("New content is available; please refresh."),
                    document.dispatchEvent(new CustomEvent("__newSWAvailable", {
                        detail: e
                    }))
            },
            offline() {
                console.log("No internet connection found. App is running in offline mode.")
            },
            error(e) {
                console.error("Error during service worker registration:", e)
            }
        });
        var v = s("6005")
            , y = s("279d")
            , b = s("ee85")
            , x = s("2ca9")
            , E = s("ea31")
            , S = s("7149")
            , C = s("cf8e")
            , O = s("c57e")
            , I = s("feab")
            , k = s("093f")
            , T = s("a8ee")
            , A = s("ff8e")
            , P = s("311a")
            , M = s("e9ce")
            , D = s("6be2")
            , R = s("a142")
            , L = s("df88")
            , q = s("6079")
            , j = s("117e")
            , N = s("d3b2")
            , B = s("2d66")
            , $ = s("f2d8")
            , F = s("d842")
            , U = s("01f8");
        s("dcad");
        i["a"].component("Button", U["a"]),
            i["a"].component("Form", F["a"]),
            i["a"].component("FormItem", $["a"]),
            i["a"].component("Input", B["a"]),
            i["a"].component("Icon", N["a"]),
            i["a"].component("Message", j["a"]),
            i["a"].component("Poptip", q["a"]),
            i["a"].component("Breadcrumb", L["a"]),
            i["a"].component("BreadcrumbItem", R["a"]),
            i["a"].component("Modal", D["a"]),
            i["a"].component("Upload", M["a"]),
            i["a"].component("Select", P["a"]),
            i["a"].component("Spin", A["a"]),
            i["a"].component("Notice", T["a"]),
            i["a"].component("Option", k["a"]),
            i["a"].component("Progress", I["a"]),
            i["a"].component("Alert", O["a"]),
            i["a"].component("Table", C["a"]),
            i["a"].component("Badge", S["a"]),
            i["a"].component("Tabs", E["a"]),
            i["a"].component("TabPane", x["a"]),
            i["a"].component("Steps", b["a"]),
            i["a"].component("Step", y["a"]),
            i["a"].component("Page", v["a"]),
            i["a"].prototype.$Message = j["a"],
            i["a"].prototype.$Modal = D["a"],
            i["a"].prototype.$Spin = A["a"],
            i["a"].prototype.$Notice = T["a"];
        s("ddb0");
        var Q = s("823b");
        i["a"].mixin({
            beforeCreate() {
                document.getElementById("app-placeholder") && document.getElementById("app-placeholder").remove()
            },
            mounted() {
                [...document.getElementsByTagName("a")].forEach(e => {
                    e.addEventListener("click", (function (e) {
                        e.preventDefault()
                    }))
                }
                )
            },
            methods: {
                logger(e) {
                    Object(Q["b"])(e)
                },
                async checkExamInProgress() {
                    const e = this.$createElement;
                    try {
                        let t;
                        for (let e = 0; e < 4; e++)
                            if (t = await this.$http.get("/api/ecs_oe_student/examControl/checkExamInProgress"),
                                503 !== t.status && "S-101000" !== t.data.code) {
                                if ("000000" === t.data.code)
                                    break
                            } else
                                await new Promise(e => setTimeout(() => e(), 2e3));
                        if (200 !== t.status || "000000" !== t.data.code)
                            throw window._hmt.push(["_trackEvent", "鏂偣缁€冨鐞嗗紓甯�", "璋冪敤鏂偣缁€冩帴鍙ｈ秴杩囨鏁�"]),
                            new Error("璋冪敤鏂偣缁€冩帴鍙ｈ秴杩囨鏁�");
                        if (t = t.data.data,
                            t && (t.isExceed || t.exceedMaxSwitchScreenCount)) {
                            const s = t.isExceed ? `瓒呭嚭鏈€澶ф柇鐐圭画鑰冩鏁�(${t.maxInterruptNum})锛屾鍦ㄨ嚜鍔ㄤ氦鍗�...` : `瓒呭嚭鏈€澶у垏灞忔鏁�(${t.maxSwitchScreenCount})锛屾鍦ㄨ嚜鍔ㄤ氦鍗�...`;
                            this.$Message.info({
                                content: s,
                                duration: 15,
                                closable: !0
                            }),
                                this.$Spin.show({
                                    render: () => e("div", {
                                        style: "font-size: 24px"
                                    }, [s])
                                });
                            const i = await this.$http.get("/api/ecs_oe_student/examControl/endExam");
                            if (this.$Spin.hide(),
                                200 !== i.status)
                                throw window._hmt.push(["_trackEvent", "鏂偣缁€冨鐞嗗紓甯�", "浜ゅ嵎澶辫触"]),
                                this.$Message.error({
                                    content: "浜ゅ嵎澶辫触",
                                    duration: 15,
                                    closable: !0
                                }),
                                new Error("浜ゅ嵎澶辫触");
                            return this.$router.replace({
                                path: `/online-exam/exam/${t.examId}/examRecordData/${t.examRecordDataId}/end`
                            }),
                                !0
                        }
                        if (t)
                            return this.$Spin.show({
                                render: () => e("div", {
                                    style: "font-size: 24px"
                                }, ["姝ｅ湪杩涘叆鏂偣缁€�..."])
                            }),
                                this.$router.push(`/online-exam/exam/${t.examId}/examRecordData/${t.examRecordDataId}/order/1`),
                                setTimeout(() => this.$Spin.hide(), 1e3),
                                !0
                    } catch (t) {
                        throw this.$Spin.hide(),
                        window._hmt.push(["_trackEvent", "鏂偣缁€冨鐞嗗紓甯�"]),
                        this.$Message.error({
                            content: "鏂偣缁€冨鐞嗗紓甯�",
                            duration: 15,
                            closable: !0
                        }),
                        t
                    }
                },
                logout(e = "") {
                    console.log("閫€鍑虹櫥褰曪細", e),
                        this.logger({
                            action: "閫€鍑虹櫥褰�",
                            cause: e
                        }),
                        localStorage.removeItem("phoneVerified"),
                        window._hmt.push(["_trackEvent", "閫€鍑�", e]);
                    const t = sessionStorage.getItem("redirectUrl");
                    t ? this.$Modal.error({
                        title: "纭杩斿洖",
                        content: "",
                        onOk: () => {
                            window.location = t
                        }
                    }) : this.$router.push("/login/" + e)
                }
            }
        });
        s("acc7");
        var W = s("a27e");
        i["a"].prototype.$httpGetRetry = async function (...e) {
            let t, s = !1;
            for (let o = 0; o < 5; o++)
                try {
                    const t = await i["a"].prototype.$http.get.apply(i["a"], e);
                    return s = !0,
                        t
                } catch (a) {
                    if (console.log(a),
                        t = a,
                        !a.response) {
                        await new Promise(e => setTimeout(e, 1e3));
                        continue
                    }
                }
            if (!s)
                throw t
        }
            ,
            i["a"].prototype.$httpPostRetry = async function (...e) {
                let t, s = !1;
                for (let o = 0; o < 5; o++)
                    try {
                        const t = await i["a"].prototype.$http.post.apply(i["a"], e);
                        return s = !0,
                            t
                    } catch (a) {
                        if (console.log(a),
                            t = a,
                            !a.response) {
                            await new Promise(e => setTimeout(e, 1e3));
                            continue
                        }
                    }
                if (!s)
                    throw t
            }
            ,
            i["a"].config.errorHandler = e => {
                throw window._hmt.push(["_trackEvent", "Vue缁勪欢閿欒"]),
                Object(Q["b"])({
                    action: "Vue缁勪欢閿欒",
                    path: window.location,
                    errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                    errorName: e.name,
                    errorMessage: e.message,
                    errorStack: e.stack
                }),
                console.trace(e),
                e
            }
            ,
            window.addEventListener("error", (function (e) {
                window._hmt.push(["_trackEvent", "鍏ㄥ眬JS閿欒:" + window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), e.message, "detail see ali"]),
                    Object(Q["b"])({
                        action: "鍏ㄥ眬JS閿欒",
                        page: window.location,
                        message: e.message,
                        errorJSON: JSON.stringify(e.error, (e, t) => "token" === e ? "" : t),
                        errorName: e.error.name,
                        errorMessage: e.error.message,
                        errorStack: e.error.stack,
                        errorFileName: e.error.filename,
                        errorLineNo: e.error.lineno,
                        errorColNo: e.error.colno
                    }),
                    console.trace(e)
            })),
            window.addEventListener("unhandledrejection", (function (e) {
                var t, s, i, a;
                if ("NavigationDuplicated" !== e.reason.name) {
                    try {
                        console.log("unhandledrejection event", e, e.reason, JSON.stringify(e.reason)),
                            Object(Q["b"])({
                                action: "unhandledrejection閿欒",
                                page: window.location.pathname,
                                reason: e.reason,
                                reasonJson: JSON.stringify(e.reason)
                            }),
                            console.trace(e)
                    } catch (r) {
                        console.log("promise error log")
                    }
                    var o, n;
                    if ((null === (t = e.reason) || void 0 === t || null === (s = t.message) || void 0 === s ? void 0 : s.includes("Box.constructor")) || (null === (i = e.reason) || void 0 === i || null === (a = i.message) || void 0 === a ? void 0 : a.includes("Error: toNetInput")))
                        window._hmt.push(["_trackEvent", "鍏ㄥ眬Promise鏈鐞嗛敊璇�", e.reason.message.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]);
                    else
                        window._hmt.push(["_trackEvent", "鍏ㄥ眬Promise鏈鐞嗛敊璇�", window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), null === (o = e.reason) || void 0 === o || null === (n = o.message) || void 0 === n ? void 0 : n.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")])
                } else
                    Object(Q["b"])({
                        action: "unhandledrejection閿欒",
                        page: window.location.pathname,
                        reason: "NavigationDuplicated"
                    })
            })),
            window.addEventListener("rejectionhandled", (function (e) {
                console.log("rejectionhandled"),
                    window._hmt.push(["_trackEvent", "鍏ㄥ眬Promise宸插鐞嗛敊璇�", e.reason])
            }));
        s("d093");
        var V = function () {
            var e = this
                , t = e.$createElement
                , s = e._self._c || t;
            return s("div", {
                staticClass: "main-layout"
            }, [s("header", {
                staticClass: "header qm-primary-text"
            }, [e.ifShowQr ? s("Poptip", {
                attrs: {
                    trigger: "hover",
                    width: "280"
                }
            }, [s("span", {
                staticClass: "name-arrow"
            }, [e._v("鎵嬫満绔櫥褰�(Android)")]), s("div", {
                attrs: {
                    slot: "content"
                },
                slot: "content"
            }, [s("Tabs", {
                attrs: {
                    type: "card"
                }
            }, [s("TabPane", {
                attrs: {
                    label: "涓嬭浇瀹夊崜apk"
                }
            }, [s("div", {
                staticClass: "qm-primary-text flex-center"
            }, [s("qrcode", {
                attrs: {
                    value: e.appDownloadUrl,
                    options: {
                        width: 200
                    }
                }
            })], 1)]), s("TabPane", {
                attrs: {
                    label: "缁戝畾鐢ㄦ埛"
                }
            }, [s("div", {
                staticClass: "qm-primary-text flex-center"
            }, [s("qrcode", {
                attrs: {
                    value: e.qrValue,
                    options: {
                        width: 200
                    }
                }
            }), s("div", [e._v("璇蜂娇鐢ㄢ€滀簯鑰冣€滱pp鎵弿")])], 1)])], 1)], 1)]) : e._e(), e.ifShowQr ? s("span", {
                staticStyle: {
                    margin: "auto 20px"
                }
            }, [e._v("|")]) : e._e(), s("Poptip", {
                attrs: {
                    trigger: "hover",
                    width: "300"
                }
            }, [s("span", {
                staticClass: "name-arrow"
            }, [e._v(e._s(e.user.displayName) + " "), s("i", {
                staticClass: "ivu-icon ivu-icon-md-arrow-dropdown",
                staticStyle: {
                    "vertical-align": "middle"
                }
            })]), s("div", {
                attrs: {
                    slot: "content"
                },
                slot: "content"
            }, [s("div", {
                staticClass: "info qm-primary-text"
            }, [s("div", {
                staticClass: "hr info-row"
            }, [s("div", [e._v("搴曠収")]), s("div", [s("img", {
                staticClass: "user-avatar",
                attrs: {
                    src: e.user.photoPath,
                    alt: "鏃犲簳鐓�"
                }
            })])]), s("div", {
                staticClass: "hr info-row"
            }, [s("div", [e._v("瀛﹀彿")]), s("div", [e._v(e._s(e.user.studentCodeList.join(",")))])]), s("div", {
                staticClass: "hr info-row"
            }, [s("div", [e._v("韬唤璇佸彿")]), s("div", [e._v(e._s(e.user.identityNumber))])]), s("div", {
                staticClass: "hr info-row"
            }, [s("div", [e._v("瀛︿範涓績")]), s("div", [e._v(e._s(e.user.orgName))])]), e.isEpcc ? e._e() : s("div", {
                staticStyle: {
                    "grid-column": "span 2",
                    "place-self": "center",
                    width: "100%",
                    "padding-top": "10px"
                }
            }, [s("Button", {
                staticClass: "qm-primary-button",
                attrs: {
                    long: ""
                },
                on: {
                    click: e.goChangePwd
                }
            }, [e._v(" 淇敼瀵嗙爜 ")])], 1)])])]), s("span", {
                staticStyle: {
                    margin: "auto 20px"
                }
            }, [e._v("|")]), s("a", {
                staticClass: "qm-primary-text",
                staticStyle: {
                    display: "inline-block",
                    "margin-right": "20px",
                    "text-align": "center"
                },
                on: {
                    click: function () {
                        e.logger({
                            page: "MainLayout",
                            button: "閫€鍑烘寜閽�",
                            action: "鐐瑰嚮"
                        }),
                            e.logout("?LogoutReason=姝ｅ父閫€鍑�")
                    }
                }
            }, [e._v(" " + e._s(e.isEpcc ? "杩斿洖" : "閫€鍑虹櫥褰�") + " ")])], 1), s("transition", {
                attrs: {
                    name: "fade",
                    appear: ""
                }
            }, [s("main", {
                key: e.$route.path,
                staticClass: "content"
            }, [e._t("default")], 2)]), s("nav", {
                staticClass: "nav"
            }, [s("img", {
                staticClass: "qm-logo",
                attrs: {
                    src: e.getLogo
                }
            }), s("ul", e._l(e.menus, (function (t, i) {
                return s("li", {
                    key: i
                }, [s("router-link", {
                    staticClass: "link",
                    attrs: {
                        to: t.link,
                        ondragstart: "return false;"
                    }
                }, ["STU_NOTICE" === t.routeCode ? s("Badge", {
                    attrs: {
                        count: e.messageUnread,
                        offset: [20, -20]
                    }
                }, [e._v(" " + e._s(t.name) + " ")]) : s("span", [e._v(" " + e._s(t.name) + " ")])], 1)], 1)
            })), 0)]), s("footer", {
                staticClass: "footer"
            }, [e._v("漏锔�2020 鍚槑娉板拰")]), s("SiteMessagePopup")], 1)
        }
            , H = []
            , z = (s("4e82"),
                s("b2e5"))
            , K = s.n(z)
            , G = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("transition", {
                    attrs: {
                        name: "fade",
                        mode: "out-in",
                        appear: "",
                        duration: {
                            enter: 500,
                            leave: 300
                        }
                    }
                }, [e.unreadMessage ? s("div", {
                    key: e.unreadMessage.id,
                    staticClass: "popup"
                }, [s("h5", {
                    staticStyle: {
                        padding: "5px",
                        background: "rgba(19, 187, 138, 1)",
                        "border-radius": "6px 6px 0px 0px",
                        "font-size": "14px",
                        "font-weight": "500",
                        color: "rgba(255, 255, 255, 1)",
                        "line-height": "20px"
                    }
                }, [e._v(" " + e._s(e.unreadMessage.title) + " ")]), s("p", {
                    staticStyle: {
                        "text-overflow": "ellipsis",
                        "text-indent": "2em",
                        "text-align": "left",
                        height: "100px",
                        overflow: "hidden",
                        margin: "20px"
                    }
                }, [e._v(" " + e._s(e.unreadMessageContent) + " ")]), s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "margin-left": "20px",
                        "margin-bottom": "10px"
                    }
                }, [s("router-link", {
                    attrs: {
                        to: "/site-message/" + e.unreadMessage.id,
                        ondragstart: "return false;"
                    }
                }, [e._v(" 璇︽儏 >>> ")]), s("span", {
                    staticStyle: {
                        display: "inline-block",
                        "margin-left": "20px",
                        cursor: "pointer"
                    },
                    on: {
                        click: e.ignoreMessage
                    }
                }, [e._v("蹇界暐")])], 1)]) : e._e()])
            }
            , J = []
            , X = {
                name: "SiteMessagePopup",
                data() {
                    let e = window.sessionStorage.getItem("ignoreMessageIds");
                    return e = e ? JSON.parse(e) : [],
                    {
                        ignoreMessageIds: e
                    }
                },
                computed: Object(n["a"])(Object(n["a"])({}, Object(r["e"])(["siteMessages"])), {}, {
                    unreadMessage() {
                        const e = this.siteMessages.filter(e => !1 === e.hasRead).filter(e => !1 === this.ignoreMessageIds.includes(e.id)).reverse();
                        return e.length > 0 ? e[0] : null
                    },
                    unreadMessageContent() {
                        const e = document.createElement("div");
                        e.innerHTML = this.unreadMessage.content;
                        const t = e.textContent || e.innerText || "";
                        return t.slice(0, 90) + (t.length > 90 ? "..." : "")
                    }
                }),
                methods: {
                    ignoreMessage() {
                        this.logger({
                            page: "SiteMessagePopup",
                            button: "蹇界暐鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            this.ignoreMessageIds.push(this.unreadMessage.id),
                            window.sessionStorage.setItem("ignoreMessageIds", JSON.stringify(this.ignoreMessageIds))
                    }
                }
            }
            , Y = X
            , Z = (s("097c"),
                Object(m["a"])(Y, G, J, !1, null, "65bdce4a", null))
            , ee = Z.exports
            , te = {
                name: "MainLayout",
                components: {
                    qrcode: K.a,
                    SiteMessagePopup: ee
                },
                data() {
                    return {
                        appDownloadUrl: "fetching...",
                        ifShowQr: !1,
                        menus: []
                    }
                },
                computed: Object(n["a"])(Object(n["a"])(Object(n["a"])({}, Object(r["e"])(["user", "siteMessages", "QECSConfig"])), Object(r["c"])(["isEpcc", "isCug"])), {}, {
                    messageUnread() {
                        return this.siteMessages.filter(e => !1 === e.hasRead).length
                    },
                    qrValue() {
                        const { rootOrgId: e, studentCodeList: t, identityNumber: s } = this.user;
                        return JSON.stringify({
                            rootOrgId: e,
                            studentCode: t.join(","),
                            identityNumber: s
                        })
                    },
                    getLogo() {
                        return "true" === this.QECSConfig.IS_CUSTOM_MENU_LOGO ? this.QECSConfig.CUS_MENU_LOGO_FILE_URL : s("d4aa")
                    }
                }),
                async created() {
                    const e = await this.$http.get("/api/ecs_core/systemProperty/APP_DOWNLOAD_URL");
                    this.appDownloadUrl = e.data;
                    const t = await this.$http.get(`/api/ecs_core/org/property/${this.user.rootOrgId}/APP_ENABLED`);
                    this.ifShowQr = t.data;
                    var s = "/api/ecs_core/rolePrivilege/getStudentClientMenu?rootOrgId=" + this.user.rootOrgId;
                    const i = {
                        STU_ONLINE_EXAM: "/online-exam",
                        STU_ONLINE_HOMEWORK: "/online-homework",
                        STU_ONLINE_PRACTICE: "/online-practice",
                        STU_OFFLINE_EXAM: "/offline-exam",
                        STU_NOTICE: "/site-message",
                        STU_MODIFY_PWD: "/password"
                    }
                        , a = await this.$http.get(s);
                    this.menus = a.data.sort((e, t) => t.weight - e.weight).map(e => ({
                        routeCode: e.routeCode.toUpperCase(),
                        name: e.name,
                        link: i[e.routeCode.toUpperCase()]
                    })),
                        this.updateMenus(this.menus)
                },
                methods: Object(n["a"])(Object(n["a"])({}, Object(r["d"])(["updateMenus"])), {}, {
                    goChangePwd() {
                        this.logger({
                            page: "MainLayout",
                            button: "淇敼瀵嗙爜鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            this.$router.push("/password")
                    }
                })
            }
            , se = te
            , ie = (s("b843"),
                Object(m["a"])(se, V, H, !1, null, "bbae2eb2", null))
            , ae = ie.exports;
        Object(l["h"])(),
            i["a"].use(W["a"]),
            i["a"].config.productionTip = !1,
            i["a"].component("MainLayout", ae),
            new i["a"]({
                router: g["a"],
                store: w["a"],
                render: e => e(_)
            }).$mount("#app")
    },
    5785: function (e, t, s) { },
    6463: function (e, t, s) { },
    "669d": function (e, t, s) { },
    6745: function (e, t, s) {
        "use strict";
        var i = s("54e5")
            , a = s.n(i);
        a.a
    },
    "685a": function (e, t, s) {
        "use strict";
        s.d(t, "a", (function () {
            return n
        }));
        s("5319");
        var i = s("2b80")
            , a = s.n(i);
        const o = [[/(electron-exam-shell)\/([\w.]+)/i], [a.a.BROWSER.NAME, a.a.BROWSER.VERSION]];
        t["b"] = new a.a(navigator.userAgent, {
            browser: o
        });
        const n = new a.a(navigator.userAgent.replace("electron-exam-shell/", ""), null).getBrowser()
    },
    6913: function (e, t, s) {
        "use strict";
        var i = s("7bc1")
            , a = s.n(i);
        a.a
    },
    "6a85": function (e, t, s) { },
    "6af0": function (e, t, s) { },
    "6c20": function (e, t, s) { },
    "6d64": function (e, t, s) {
        "use strict";
        var i = s("48ee")
            , a = s.n(i);
        a.a
    },
    "6fb0": function (e, t, s) {
        "use strict";
        var i = s("464d")
            , a = s.n(i);
        a.a
    },
    7139: function (e, t, s) {
        "use strict";
        var i = s("1eee")
            , a = s.n(i);
        a.a
    },
    7257: function (e, t, s) { },
    "73db": function (e, t, s) { },
    "74d1": function (e, t, s) {
        "use strict";
        var i = s("669d")
            , a = s.n(i);
        a.a
    },
    "754c": function (e, t, s) { },
    "75a8": function (e, t, s) { },
    "78d8": function (e, t, s) { },
    7938: function (e, t, s) {
        "use strict";
        var i = s("14b7")
            , a = s.n(i);
        a.a
    },
    "797e": function (e, t, s) { },
    "7ad4": function (e, t, s) {
        "use strict";
        var i = s("f43d")
            , a = s.n(i);
        a.a
    },
    "7bc1": function (e, t, s) { },
    "7cb1": function (e, t, s) { },
    "7e89": function (e, t, s) {
        "use strict";
        var i = s("f8fb")
            , a = s.n(i);
        a.a
    },
    "7e8b": function (e, t, s) {
        "use strict";
        var i = s("754c")
            , a = s.n(i);
        a.a
    },
    "7f41": function (e, t, s) { },
    "80a2": function (e, t, s) {
        "use strict";
        var i = s("1121")
            , a = s.n(i);
        a.a
    },
    "81ef": function (e, t, s) { },
    "823b": function (e, t, s) {
        "use strict";
        s.d(t, "c", (function () {
            return h
        })),
            s.d(t, "b", (function () {
                return m
            })),
            s.d(t, "a", (function () {
                return p
            }));
        s("ddb0"),
            s("af2d");
        var i = s("e6fd")
            , a = s("c1df")
            , o = s.n(a)
            , n = function () {
                if ("undefined" == typeof nodeRequire)
                    return console.log("nodeRequire failed"),
                        {};
                const e = window.nodeRequire("os");
                let t = {};
                return t.arch = e.arch(),
                    t.platform = e.platform(),
                    t.release = e.release(),
                    t.type = e.type(),
                    t.hostname = e.hostname(),
                    t.totalmem = e.totalmem() / 1024 / 1024 / 1024,
                    t.freemem = e.freemem() / 1024 / 1024 / 1024,
                    t.cpus = JSON.stringify(e.cpus()),
                    t.networkInterfaces = JSON.stringify(e.networkInterfaces()),
                    t.userInfo = JSON.stringify(e.userInfo()),
                    t.loadavg = JSON.stringify(e.loadavg()),
                    t
            }
            , r = s("c0d6");
        const c = "cn-shenzhen.log.aliyuncs.com"
            , l = "examcloud"
            , d = i["k"]
            , u = new window.Tracker("" + c, "" + l, "" + d);
        function h(e) {
            try {
                const t = r["a"].state.user;
                u.push("userName", t.displayName),
                    u.push("userId", t.id),
                    u.push("userIdentityNumber", t.identityNumber),
                    u.push("userStudentCodeList", t.studentCodeList.join(",")),
                    u.push("rootOrgName", t.rootOrgName),
                    u.push("rootOrgId", t.rootOrgId);
                const s = localStorage.getItem("uuidForEcs");
                s && u.push("uuidForEcs", s);
                for (let [a, o] of Object.entries(e))
                    u.push(a, o);
                const i = n();
                for (let [e, a] of Object.entries(i))
                    u.push(e, a);
                u.push("clientDate", o()().format("YYYY-MM-DD HH:mm:ss.SSS")),
                    u.push("UA", navigator.userAgent),
                    u.logger()
            } catch (t) {
                console.log(t),
                    window._hmt.push(["_trackEvent", "鍒涘缓鐢ㄦ埛鏃ュ織鍑洪敊-1"])
            }
        }
        function m(e) {
            try {
                const t = r["a"].state.user
                    , s = localStorage.getItem("uuidForEcs");
                s && u.push("uuidForEcs", s),
                    t && u.push("userId", t.id);
                for (let [i, a] of Object.entries(e))
                    u.push(i, a);
                u.push("clientDate", o()().format("YYYY-MM-DD HH:mm:ss.SSS")),
                    u.logger()
            } catch (t) {
                console.log(t),
                    window._hmt.push(["_trackEvent", "鍒涘缓鐢ㄦ埛鏃ュ織鍑洪敊-2"])
            }
        }
        function p() {
            const e = "undefined" != typeof nodeRequire;
            if (e)
                try {
                    const e = r["a"].state.user
                        , s = localStorage.getItem("uuidForEcs");
                    if (!s)
                        return;
                    u.push("uuidForEcs", s),
                        e && u.push("userId", e.id);
                    let i = null;
                    try {
                        let e = (localStorage.getItem("lastLogIndex") || 0) - 0;
                        i = window.nodeRequire("electron-log");
                        const t = i.transports.file.findLogPath()
                            , s = window.nodeRequire("fs")
                            , a = s.readFileSync(t, "utf-8")
                            , o = a.toString().split("\r\n").join("\n").split("\n");
                        o.length < e && (e = 0);
                        let n = 10;
                        const r = o.slice(e, e + n).filter(e => e);
                        if (!r.length)
                            return;
                        e += r.length,
                            localStorage.setItem("lastLogIndex", e),
                            u.push("encryptLog", r.join("\n"))
                    } catch (t) {
                        return void console.debug(t)
                    }
                    u.push("clientDate", o()().format("YYYY-MM-DD HH:mm:ss.SSS")),
                        u.logger()
                } catch (t) {
                    console.log(t),
                        window._hmt.push(["_trackEvent", "鍒涘缓鐢ㄦ埛鏃ュ織鍑洪敊-3"])
                }
        }
    },
    "82c3": function (e, t, s) {
        e.exports = s.p + "img/sms-read.8ea6bf73.svg"
    },
    8482: function (e, t, s) { },
    8489: function (e, t, s) {
        "use strict";
        var i = s("7257")
            , a = s.n(i);
        a.a
    },
    "84e7": function (e, t, s) {
        "use strict";
        var i = s("e85b")
            , a = s.n(i);
        a.a
    },
    "853c": function (e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAACgCAMAAABKfUWuAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABqlBMVEX/nGX/nWX+pmT+oGT/lmX+qWT+pWT/mGX+p2T/nmX/l2X/mWX+qGT+o2T+omT/n2X+pGT+oWT/m2UAAAD/mmX/lWX+qmT/gUn/fkb/iFD/h1D/hEz/k13/gkv/fEX/fUX/jlf/gEj/fUX/f0j/ilP/hU7/f0f/oGT+p2T/oGT/mGX/m2X/l2X/oGT/oGT/pWT/mGX/l2X+qGT/oGT+p2T+pWT/nWX/mWX/mWX+p2T/oGT/l2X+p2T+p2T+pmT/iVP/oGT/oGT+pWT+pmT+pGT/mGX/mmX/oWT+qWT/oGT+pmT/m2X+p2T+p2T+qmT/nGX/l2X+p2T+o2T+qGT/m2X/jVf/kl3/i1P/j1f+qWT/mmX/mmX/nGX/nGX+omT/g0v/omT/f0f/oGT/fET/n2X/nmX+oGT+pGT+pWT/mmX/nWX/mWX+pmT/nGX+o2T/////mGX+omT+qGT/m2X/l2X+p2T+oWT+qWT/lmX+qmT/lWX/0LL/4s//+vb/uIv+v5X+xZ7/7uP/rHf+tIH+pm7/yan/6Nn+qW7/om//28b/9Oz/u5X/17z/r4Ihy6JVAAAAY3RSTlMzMzMzMzMzMzMzMzMzMzMzMzMzADMzM5nNZmaAQI3z5k2m2bNZc8ASLhorWfMdDSEwAwMK5kBAs5nzBiAqWVlZFiaZzfPZzVmzwHONs2bz8+bZs5lzTUBZTY1m5uZmjY26vNlkK8iLAAAKB0lEQVR42u3d6X8TxxkHcLW0aVw3JdWq3dXep2T5kMH4wtgBwn1DIITcL6Zt0pRUDbTQ1NyBHJD8z3memV1pJaQgaVbx8MnzeyFpR3vMfvXMzOI3lLRR06w3Fg/P/IUiUhrFbqO+uElk4wLuW6CyGx+Q9KQA65u/pQzIiwGXGjPEND4g8ckBHiI+GcAm8ckALi0SjwxgncpPBnBpgWxkADc2/0AZKqUBqwfJyADWyUUKsEEsUoCLpCIFSH5ygOQnB9h4lTJSegDrJCIF2CQQKcCNGQKRAVzaJA8pwAXikAKkBUQOcIkmQDnAxV9TxkgbsEkWcoAzZCEFeIgopACXqADlABskIQVIBSgJ2HhFuWy9e/LIl2mOnHx36xVFIwBnFOvV6ZPnv+zJ+ZOn1QWsK9WllcvLt/tm+fKKooCbKvXo8vnbA3P+spKA+xTqz7nl2z+Z5XMKAi6oM3rP3nhhzq4oB6jMErJ16cYQubSlGKAyI3hr/42hsn9LLcCF19XIG/v/O2T2v/G6MgHAmZfNTynBkrahit/1EaKOYEmrK9GPlUvXR8qlFWUAF5Xox9nrI+asMoCbKnTj3Kcj55wqgEp0Y3l0wGVFAJuvKZA3Px0jb6rQ89dKdQU6sXL0kzFydEUJwIYKBfjJWFGiBEuLCnRieTzAZSUAD+98H07/a6jc395+8k1Xy2kVAGd2vg9v5Uy+b7Vad+714fvmIXzTuvtVvu0tFQAV6MPRDsmDFs/3zwPeEd/czdfgUQLEnPiik69Sp+++6MmjVpoH+dYTCgD+ccfzUTfVfW54vwfwXga4nW/9aOd7rwDgqa4KvNt6ik4PhwI8RYCQI7c62c6cWre60xnC+dYjBAjJi9zPnL7uAbyVLSKPu1oJEPL3njy692D7wePe1sfpY0x3KwH2ARwUfJDudSXAEQD7hQAhf5WIAoB/2vHIAO587wnw5Qf8m0QIEHJ8fL/jBAg5NUDn0fYP6fu9QYCnCBBy5rP++br1lL/fad0dsMdnZwgQcmIgYIu/P03f++SEAoC7dj4X+uvAv36fwNuzVuvhAL8LCnReBcC1z/vmGf5h9R7+feZJ/x0+XyNAnisDfNI/wLQefjtghysEKPJBf59vvxN/2Rrk98EuAhRZvzkgP2xvbz8b9OXNdQJMs3rh5hi5sEqA7RL8xxhRogAVAdz1/uh+76vR89JuJfLh6IAfqtFzRQB3r/1zxKztJsB8Vo+N5ndslQC7Mzc/it/83G4CfE7w30NHHT+FAEcQVMhPJcChBVXy212aUihzx/4zRI7NqdRnpQCnVtde7Le2OkWAg/PexZ/mu/ieYh1WDXBqan3+fwMzv65cd9UDnFpdv9if7+L66hQBDpUra/P/78n82hUlu6omIK7IZ9aOZ3jH187MqdpPZQFflpR+RZEKARIgARIgAVIIcMcAKRQK5ZebWSKQy2EikMsiEcil8bNcJQnt3qaq8XHpmmf0tL5j9LaUIv1a17ZlWJ0N++Ncs32t50zvWN0HBhO4tXqpXHCqjEdnWarlssGCcjkw0li4m8GicsSMqkju4Oyj7Rj45jNmd51fZzp/t5z0LFlz4LpxZ7cYjnPb34o9jHLxaRYOGKORyxz+GsJrjAquDTebBgEcaInbxqwPYNljDr/tsIPcOUC3GLP4/k7b1WK1XD/gTHZo2NkPWp0QoFYq/pxV6LSHZRMyXlq+roeB7hvMQYcIAWOX6XbIIh1TY17ehgfu1UJ1YMwh42/jMQ9ew1ROZzW/Kk4bVZ2qL/bBwDkM+P2sbEToBgvxalah9zo7AcCIOTiYLF3HbkOHxS1UDcGJQxD8mB6gUlWvQmla/QDBTkdFzhG2SxOPt2vMrWa/lp47TH/uRLooxs5exZbhgQkAQmWhiNHusF2tJlBNOUCH35letXDLdpxslrPwAL/c3vJwHEMBwwQKw5NPDrwCwR8nBwuLD34DjME8eK0KrXQI50Yz7BUyA3crFrBePKBftXDaghGLI8sRHQ7AKwdoh9gAk3wVtngBCnoXATsTmcWnSj4veizJZrNcdemd6dPKZDqAftmK/E6TgdVY9ES4UTxgOlbABa2qvMMJzomGmPL4ffDKgzkQ3xOWCdYYzlzZsoBJPIcvLLHrtVVdZmRFahm4VIg1pgOIdRrw3yv9bSYHOKsVD1jVIxhNXYAw5QVO9yrMdzBwwtTT1YKvzIAZM5Y91USJaMZR7afPNp1FhYl1OZtiO4Bi4sARwLxyHtAqHHABACuFx2RGzKA4KqAEnysWH5mRhYuKB2Vowj7wVVyzA2iHrcDCw2ACTEyGR7lmeh7mwxvs5IgTxxGcyc2WWSOGJtg/5tMiXogHWrAHcBhODu0mfDXxukaRt7pvUoAJizmgg7fisJAFIXQfbsRgKQ5nDDw9gc+8BXgDNKtUolQsYjV8AzSvkgozD3bKh9vAr1GxhVIHEOqZhbmd8Im8aEAYwRMC9B2gqtSYibfiBybMeAnco8sBoaxgFYF/e8FohRJx0AQeTFhUEYAoWPORRNQqPNNxUNvV/ajzoJPa2CYHTMusEqN2AqfEx/TY98VOuuFYnFPHqxSWhYkBwqvB4DevmUbAW3ReQTUOCBvwEe8apjc70hEKPkUBf9zDx5MIB6/OCy8WA9tMz23pevrUkgGGugDEEvcSvLhp1qAhFhXtJGLuhcnDSYu10BE8OcCKH8Ig8uJKBggPKQkC+rARsoTfih6bzHNgja64VqWzylQcqBMPyzNxcRzDc7PVfQ09HcoMhztsmAksRzYcyac+qGx8Vq/BNxYOfLcGK5tr8+LWix3BkwBMENDWYQrya2I6Q0DwNLAuHbgpUIN7C00TiyWqGMADdxebJhQitPlixnNtXGVCG0c8FKgtzm6bZlwxPQEBOlBiuDLDtOtZ8At5zIRKtmDhwmuHzI8Dyxc7+qYJzU5xN1qfCGCCz8IVLACsEYePPgD0BQV/SvT9wMHpTsSs2HaneFn20bZwHmU1/h38M8aNRbsvjnJ9MeNZaOMZulVBRtsSC06CV8c13muf1xBXdO3C7nQP/z8NS9MF523DqB2cno4Mk28eDOAFAKf12lXchklMfDFtitns7fzBcI/5zauhnn10rOxT12Fwpavp+Q7Ck/L0dCCOCBLc0zAOpgcFIVwdnq+7LyeXxmQAfzHZs5cACyhAApQsQAIcN4c0ApTJrEaAUmm2AX9HGSMHNAKUSbaCEOCYqWsEKJMFjQBlMruXAKUmwA2NAGXS1AiwoAWEA/6eMlIaGgHK5IBGgIX6EaCkHwHKzH8EOFrqGgFKZE9T6wv4G8pQmd3QCFAiC3s1Ahw/e+qaRoDj58BejQAlZr+mphHg+KP3kKYR4Ph8jb0aAU6QDwD/TBmQ2bo2RAhwgN7CPk0jwEnrEWAfvAP1DW2EEGBb7vBio97URs2PMEtldQ7FgEkAAAAASUVORK5CYII="
    },
    "885d": function (e, t, s) {
        "use strict";
        var i = s("4307")
            , a = s.n(i);
        a.a
    },
    "8bc3": function (e, t, s) {
        "use strict";
        var i = s("55c6")
            , a = s.n(i);
        a.a
    },
    "8cae": function (e, t, s) {
        "use strict";
        var i = s("8482")
            , a = s.n(i);
        a.a
    },
    "8cd0": function (e, t, s) { },
    9294: function (e, t, s) {
        "use strict";
        var i = s("d79d")
            , a = s.n(i);
        a.a
    },
    "93f8": function (e, t, s) {
        "use strict";
        var i = s("170f")
            , a = s.n(i);
        a.a
    },
    "949d": function (e, t, s) { },
    "94b9": function (e, t, s) { },
    9584: function (e, t, s) {
        "use strict";
        var i = s("ca62")
            , a = s.n(i);
        a.a
    },
    "97dc": function (e, t, s) {
        "use strict";
        var i = s("6463")
            , a = s.n(i);
        a.a
    },
    "9b33": function (e, t, s) {
        s("ddb0");
        const i = console.log
            , a = "undefined" != typeof nodeRequire;
        let o = null;
        if (a) {
            try {
                o = window.nodeRequire("electron-log")
            } catch (n) {
                console.debug(n)
            }
            console.log = async function (...e) {
                if (o && o.info) {
                    const t = [window.location.pathname, ...e];
                    t.map(e => (e = JSON.stringify(e),
                        e));
                    const s = t.join(";;; ");
                    let i = new TextEncoder;
                    const a = i.encode(s)
                        , n = {
                            alg: "RSA-OAEP-256",
                            e: "AQAB",
                            ext: !0,
                            key_ops: ["encrypt"],
                            kty: "RSA",
                            n: "3vl4K5l_XhHYnm28Nz0YoaP7UTUPRQD4_S2btf1R1kzuVbbqg3eBru7OOcPSVOVFd0GGwy1cXlq1-J9XqFTEscFLIQYCimvLhtSDs7797b6DMwpWQ7Y_QvaVXhwgZZh7KlD0pLUtF2NwDYK10bPaWHEik-OwDCQE5P5Gv6Oz4TZZAjSpxOCNx_ui_KGeu8c63if1-mNwzn70U82LjhbHy3edDjAdT0JDPxqYPiMwSo8lhDy1CqFiyQxq2unPHJcRxb9fAwV3siyWOdHQaaKH2GvCxhpsPUHnVlIng02yeZBzv-UIz6fAPWNhC-6H_5GeZ_Qlk6qQIPzFQ3DPD82VGF9GWGbkdWgHm3JZsSyjjZXYSU3lmc3gaO8q5ZDGGlmh31ApOYddEsFcfYobI3RJwhlvAFHxr9YtRjXlaL-YUf_KwztJFFNw75WSWp8-WtMy96LL3cljjR3rxHYBjiOYDsReTIIeLEDEigcKFyswuc71qSIB6XQFxM6J6u3Urvu3uoPiu-aqujVj6gtOSfOHGvCXq05n3eBk89o2kY92J10v1ANDbZo6HneqKFKJ2Dh8uUaavdSJfHWc8QTy2b50HasxZj9mv_ADaBYaGb2C_tnNvgkusnHu87qxt95iqLPJOzMy4au0UD6kPZ8aTkGZq_b2gT9LHxi6PPdEOjRdVxs"
                        }
                        , r = await window.crypto.subtle.importKey("jwk", n, { name: "RSA-OAEP", modulusLength: 4096, publicExponent: new Uint8Array([1, 0, 1]), hash: "SHA-256" }, !0, ["encrypt"])
                        , c = await window.crypto.subtle.encrypt({ name: "RSA-OAEP", modulusLength: 4096, publicExponent: new Uint8Array([1, 0, 1]), hash: "SHA-256" }, r, a)
                        , l = function (e) {
                            return String.fromCharCode.apply(null, new Uint8Array(e))
                        };
                    o.info(">>==>>" + window.btoa(l(c)) + "<<==<<")
                }
                try {
                    i.call(window, ...e)
                } catch (n) {
                    console.debug(n)
                }
            }
        }
    },
    "9fe4": function (e, t, s) {
        "use strict";
        var i = s("0af9")
            , a = s.n(i);
        a.a
    },
    a156: function (e, t, s) {
        "use strict";
        var i = s("75a8")
            , a = s.n(i);
        a.a
    },
    a27e: function (module, __webpack_exports__, __webpack_require__) {
        "use strict";
        var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5319")
            , core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__)
            , iview_src_components_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("6be2")
            , iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("117e")
            , vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2b0e")
            , axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("bc3a")
            , axios__WEBPACK_IMPORTED_MODULE_4___default = __webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__)
            , _axiosProgress__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("aa02")
            , _axiosCache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("17b4")
            , _router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("41cb")
            , _utils_logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("823b");
        const qmInstance = axios__WEBPACK_IMPORTED_MODULE_4___default.a.create({});
        let wk_token, wk_key;
        qmInstance.interceptors.request.use(e => (!1 === e.url.includes("/login") || !1 === e.url.includes("/api/ecs_core/auth/thirdPartyStudentAccess") ? (wk_token = window.sessionStorage.getItem("token"),
            wk_key = window.localStorage.getItem("key"),
            wk_token && null == e.headers.common["token"] && (e.headers.common["token"] = wk_token,
                e.headers.common["key"] = wk_key)) : wk_token = null,
            e), e => (iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                content: e,
                duration: 15,
                closable: !0
            }),
                Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                    action: "axios request",
                    errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                    errorName: e.name,
                    errorMessage: e.message,
                    errorStack: e.stack
                }),
                Promise.resolve(e))),
            qmInstance.interceptors.response.use(e => e, error => {
                if (console.log("axios response error: " + JSON.stringify(error)),
                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                        action: "axios response",
                        errorJSON: JSON.stringify(error, (e, t) => "token" === e ? "" : t),
                        errorName: error.name,
                        errorMessage: error.message,
                        errorStack: error.stack
                    }),
                    !error.response) {
                    (void 0 === window.___lastNetworkError || window.___lastNetworkError < Date.now() - 15e3) && (iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                        content: "缃戠粶杩炴帴寮傚父锛岃妫€鏌ョ綉缁滆缃€�",
                        duration: 15,
                        closable: !0
                    }),
                        window.___lastNetworkError = Date.now(),
                        Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                            action: "缃戠粶杩炴帴寮傚父锛岃妫€鏌ョ綉缁滆缃�" + (eval(["nav", "iga", "tor", ".c", "onn", "ec", "ti", "on", ".r", "t", "t"].join("")) && ".")
                        }));
                    let detailInfo = "";
                    try {
                        detailInfo += error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "/{id}"),
                            error.message
                    } catch (error) {
                        console.log("detailInfo error")
                    }
                    return window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "缃戠粶杩炴帴寮傚父锛岃妫€鏌ョ綉缁滆缃€�", detailInfo]),
                        Promise.reject(error)
                }
                let status = error.response.status;
                if (403 != status && 401 != status) {
                    if (502 == status)
                        return window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "鏈嶅姟鍣ㄥ紓甯�(502)锛�", error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]),
                            iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: "鏈嶅姟鍣ㄥ紓甯�(502)锛�",
                                duration: 15,
                                closable: !0
                            }),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                                action: "axios response error",
                                errorMessage: "鏈嶅姟鍣ㄥ紓甯�(502)",
                                url: error.config.url
                            }),
                            Promise.reject(error);
                    if (503 == status) {
                        const e = ["/api/ecs_oe_student/examControl/checkExamInProgress", "/api/branch_ecs_oe_admin/examControl/queryExamList"];
                        return e.includes(error.config.url) ? Promise.resolve({
                            status: 503
                        }) : (window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "鏈嶅姟鍣ㄧ箒蹇�(503)锛佽绋嶅悗閲嶈瘯銆�", error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]),
                            iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: "鏈嶅姟鍣ㄧ箒蹇�(503)锛佽绋嶅悗閲嶈瘯銆�",
                                duration: 15,
                                closable: !0
                            }),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                                action: "axios response error",
                                errorMessage: "鏈嶅姟鍣ㄧ箒蹇�(503)锛佽绋嶅悗閲嶈瘯銆�",
                                url: error.config.url
                            }),
                            Promise.reject(error))
                    }
                    if (504 == status)
                        return window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "鏈嶅姟鍣ㄥ紓甯�(504)锛�", error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]),
                            iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: "鏈嶅姟鍣ㄥ紓甯�(504)锛�",
                                duration: 15,
                                closable: !0
                            }),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                                action: "axios response error",
                                errorMessage: "鏈嶅姟鍣ㄥ紓甯�",
                                url: error.config.url
                            }),
                            Promise.reject(error);
                    if (200 != status) {
                        function showDescOrNot(e) {
                            e && e.desc ? iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: e.desc,
                                duration: 15,
                                closable: !0
                            }) : iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: "鏈畾涔夊紓甯�: " + JSON.stringify(e, 2),
                                duration: 15,
                                closable: !0
                            })
                        }
                        window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "status: " + status, error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                                action: "axios response error",
                                errorMessage: `鏈嶅姟鍣ㄧ箒蹇�(${status})`,
                                url: error.config.url
                            }),
                            !wk_token || [401, 403].includes(status) || error.config.url.includes("/api/ecs_core/log/studentClient/") || setTimeout(() => {
                                qmInstance.post("/api/ecs_core/log/studentClient/debug/S-009001", error.config.url + " 璇锋眰澶辫触", {
                                    headers: {
                                        "Content-Type": "text/plain"
                                    }
                                })
                            }
                                , 3e3);
                        let e = error.response.data;
                        if (e instanceof Blob) {
                            const t = new FileReader;
                            t.addEventListener("load", () => {
                                let e = t.result;
                                "string" === typeof e && (e = JSON.parse(e)),
                                    showDescOrNot(e)
                            }
                                , !1),
                                t.readAsText(e)
                        } else
                            showDescOrNot(e);
                        return Promise.reject(error)
                    }
                } else {
                    if (void 0 === window.___lastInvalidDate || window.___lastInvalidDate < Date.now() - 1e3) {
                        iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                            content: "鐧诲綍澶辨晥锛岃閲嶆柊鐧诲綍锛�",
                            duration: 15,
                            closable: !0
                        }),
                            window.___lastInvalidDate = Date.now();
                        const e = sessionStorage.getItem("redirectUrl");
                        e ? iview_src_components_modal__WEBPACK_IMPORTED_MODULE_1__["a"].error({
                            title: "纭杩斿洖",
                            content: "token澶辨晥",
                            onOk: () => {
                                window.location = e
                            }
                        }) : _router__WEBPACK_IMPORTED_MODULE_7__["a"].push("/login/")
                    }
                    wk_token = null
                }
            }
            ),
            qmInstance.defaults.withCredentials = !0,
            qmInstance.defaults.timeout = 3e4,
            qmInstance.defaults.headers.common["X-Requested-With"] = "XMLHttpRequest",
            qmInstance.get = Object(_axiosCache__WEBPACK_IMPORTED_MODULE_6__["a"])(qmInstance.get, [/\/api\/exam_question\/question\/\?question_id/, /\/api\/exam_question\/paper_struct\/\?exam_record_id=/, /\/api\/ecs_oe_student\/examQuestion\/getQuestionContent\?questionId=.*&exam_record_id=/, /\/api\/ecs_oe_student\/examFaceLivenessVerify\/checkFaceLiveness$/]),
            Object(_axiosProgress__WEBPACK_IMPORTED_MODULE_5__["a"])(qmInstance),
            vue__WEBPACK_IMPORTED_MODULE_3__["a"].prototype.$http = qmInstance,
            __webpack_exports__["a"] = {
                install: function (e) {
                    Object.defineProperty(e.prototype, "$http", {
                        value: qmInstance
                    })
                }
            }
    },
    a332: function (e, t, s) { },
    a49f: function (e, t, s) { },
    a69f: function (e, t, s) { },
    a741: function (e, t, s) {
        "use strict";
        var i = s("b686")
            , a = s.n(i);
        a.a
    },
    aa02: function (e, t, s) {
        "use strict";
        s.d(t, "a", (function () {
            return r
        }));
        var i = s("2b1a")
            , a = s("bc3a")
            , o = s.n(a);
        const n = (e, t) => Math.floor(1 * e) / t;
        function r(e = o.a) {
            let t = 0;
            const s = () => {
                e.interceptors.request.use(e => (t++,
                    i["a"].start(),
                    e))
            }
                , a = () => {
                    const t = e => i["a"].update(n(e.loaded, e.total));
                    e.defaults.onDownloadProgress = t,
                        e.defaults.onUploadProgress = t
                }
                , r = () => {
                    const s = e => (0 === --t && i["a"].finish(),
                        e)
                        , a = e => {
                            throw 0 === --t && i["a"].error(),
                            console.log(e),
                            e
                        }
                        ;
                    e.interceptors.response.use(s, a)
                }
                ;
            s(),
                a(),
                r()
        }
    },
    acc7: function (e, t, s) { },
    aec2: function (e, t, s) {
        "use strict";
        var i = s("a49f")
            , a = s.n(i);
        a.a
    },
    af2d: function (e, t) {
        (function (e, t) {
            function s() {
                return e.ActiveXObject ? new ActiveXObject("Microsoft.XMLHTTP") : e.XMLHttpRequest ? new XMLHttpRequest : void 0
            }
            function i(e, t, i) {
                this.uri_ = "https://" + t + "." + e + "/logstores/" + i + "/track?APIVersion=0.6.0",
                    this.params_ = new Array,
                    this.httpRequest_ = s()
            }
            i.prototype = {
                push: function (e, t) {
                    e && t && (this.params_.push(e),
                        this.params_.push(t))
                },
                logger: async function () {
                    var t = this.uri_
                        , s = 0;
                    while (this.params_.length > 0)
                        t += s % 2 == 0 ? "&" + encodeURIComponent(this.params_.shift()) : "=" + encodeURIComponent(this.params_.shift()),
                            ++s;
                    try {
                        await e.fetch(t)
                    } catch (i) {
                        e && e.console && "function" === typeof e.console.log && (console.log("Failed to log to ali log service because of this exception:\n" + i),
                            console.log("Failed log data:", t),
                            (location.pathname.startsWith("/oe-web/login") || "/oe-web" === location.pathname) && localStorage.setItem("lastLogIndex", 0))
                    }
                }
            },
                e.Tracker = i
        })(window, document)
    },
    b1ed: function (e, t, s) {
        "use strict";
        var i = s("8cd0")
            , a = s.n(i);
        a.a
    },
    b3a4: function (e, t, s) { },
    b479: function (e, t, s) { },
    b686: function (e, t, s) { },
    b843: function (e, t, s) {
        "use strict";
        var i = s("fdd6")
            , a = s.n(i);
        a.a
    },
    b8fe: function (e, t, s) {
        "use strict";
        var i = s("b479")
            , a = s.n(i);
        a.a
    },
    c0d6: function (e, t, s) {
        "use strict";
        s("ddb0");
        var i = s("2b0e")
            , a = s("2f62")
            , o = s("e6fd")
            , n = s("823b");
        i["a"].use(a["b"]);
        const r = {
            namespaced: !0,
            state: {
                faceCheckModalOpen: !1
            },
            mutations: {
                toggleFaceCheckModal(e, t) {
                    e.faceCheckModalOpen = void 0 === t ? !e.faceCheckModalOpen : t
                }
            },
            actions: {},
            getters: {}
        }
            , c = {
                namespaced: !0,
                state: {
                    exam: null,
                    paperStruct: null,
                    examQuestionList: null,
                    questionFilterType: "ALL",
                    snapNow: !1,
                    remainTime: null,
                    snapProcessingCount: 0,
                    shouldSubmitPaper: !1,
                    allAudioPlayTimes: [],
                    questionQrCode: null,
                    questionQrCodeScanned: null,
                    questionAnswerFileUrl: [],
                    pictureAnswer: {},
                    uploadModalVisible: !1,
                    isDoingFaceLiveness: !1,
                    exceedSwitchCount: !1
                },
                mutations: {
                    updateRemainTime(e, t) {
                        e = Object.assign(e, {
                            remainTime: t
                        })
                    },
                    toggleSnapNow(e) {
                        e.snapNow = !e.snapNow,
                            e.snapNow && (e.snapProcessingCount = e.snapProcessingCount + 1)
                    },
                    decreaseSnapCount(e) {
                        e.snapProcessingCount = e.snapProcessingCount - 1
                    },
                    updateExamState(e, t) {
                        e = Object.assign(e, t)
                    },
                    updateExamResult(e, t) {
                        e = Object.assign(e, {
                            examResult: t
                        })
                    },
                    updateQuestionFilter(e, t) {
                        window._hmt.push(["_trackEvent", "绛旈椤甸潰", "绛涢€夐棶棰�"]),
                            e.questionFilterType = t
                    },
                    updateQuestionAudioPlayTimes(e, t) {
                        let s = !1
                            , i = e.allAudioPlayTimes.map(e => {
                                if (e.name === t) {
                                    s = !0;
                                    const i = e.times + 1;
                                    return {
                                        name: t,
                                        times: i
                                    }
                                }
                                return e
                            }
                            );
                        s || i.push({
                            name: t,
                            times: 1
                        });
                        const a = e.examQuestionList.map(e => 1 == e.order ? Object.assign({}, e, {
                            dirty: !0
                        }, {
                            getQuestionContent: !0
                        }, {
                            audioPlayTimes: JSON.stringify(i)
                        }) : e);
                        e = Object.assign(e, {
                            allAudioPlayTimes: i,
                            examQuestionList: a
                        })
                    },
                    updateExamQuestion(e, { order: t, studentAnswer: s, isSign: i, audioPlayTimes: a, getQuestionContent: o }) {
                        const n = e.examQuestionList.map(e => e.order == t ? Object.assign({}, e, void 0 === o && {
                            dirty: !0
                        }, void 0 !== s && {
                            studentAnswer: s
                        }, void 0 !== a && {
                            audioPlayTimes: a
                        }, void 0 !== i && {
                            isSign: i
                        }, void 0 !== o && {
                            getQuestionContent: o
                        }) : e);
                        e = Object.assign(e, {
                            examQuestionList: n
                        })
                    },
                    resetExamQuestionDirty(e) {
                        const t = e.examQuestionList.map(e => Object.assign({}, e, {
                            dirty: !1
                        }));
                        e = Object.assign(e, {
                            examQuestionList: t
                        })
                    },
                    setShouldSubmitPaper(e) {
                        e.shouldSubmitPaper = !e.shouldSubmitPaper
                    },
                    setQuestionQrCode(e, t) {
                        e.questionQrCode = t
                    },
                    setQuestionQrCodeScanned(e, t) {
                        e.questionQrCodeScanned = t
                    },
                    setQuestionFileAnswerUrl(e, t) {
                        e.questionAnswerFileUrl = e.questionAnswerFileUrl.filter(e => !e.saved);
                        let s = e.questionAnswerFileUrl
                            , i = !1;
                        for (const a of s)
                            if (a.order === t.order) {
                                a.fileUrl = t.fileUrl,
                                    i = !0;
                                break
                            }
                        i ? e.questionAnswerFileUrl = [...s] : e.questionAnswerFileUrl.push(t)
                    },
                    updatePicture(e, t) {
                        e.pictureAnswer = t
                    },
                    updateUploadModalVisible(e, t) {
                        e.uploadModalVisible = t
                    },
                    updateIsDoingFaceLiveness(e, t) {
                        e.isDoingFaceLiveness = t
                    },
                    updateExceedSwitchCount(e, t) {
                        e.exceedSwitchCount = t
                    }
                },
                actions: {},
                getters: {
                    examShouldShowAnswer(e) {
                        return !(!e.exam || "IN_PRACTICE" !== e.exam.practiceType)
                    }
                }
            }
            , l = window.localStorage.getItem("user-for-reload")
            , d = l ? JSON.parse(l) : {};
        t["a"] = new a["b"].Store({
            state: {
                user: d,
                timeDifference: 0,
                siteMessages: [],
                siteMessagesTimeStamp: Date.now(),
                QECSConfig: {},
                menus: []
            },
            mutations: {
                updateUser(e, t) {
                    e = Object.assign(e, {
                        user: t
                    })
                },
                updateTimeDifference(e, t) {
                    e = Object.assign(e, {
                        timeDifference: t
                    }),
                        Object(n["b"])({
                            action: "updateTimeDifference",
                            timeDifference: t
                        }),
                        console.log("涓庢湇鍔″櫒鏃堕棿宸紓锛�" + t)
                },
                updateSiteMessages(e, t) {
                    Array.isArray(t) && (t = t.map(e => (e.hasRecalled && (e.title = "鍙戦€佽€呭凡鎾ゅ洖娑堟伅锛�" + e.title,
                        e.content = "璇ユ秷鎭凡缁忚鍙戦€佽€呮挙鍥炪€�"),
                        e))),
                        e = Object.assign(e, {
                            siteMessages: t
                        })
                },
                updateSiteMessagesTimeStamp(e, t) {
                    e = Object.assign(e, {
                        siteMessagesTimeStamp: t
                    })
                },
                updateQECSConfig(e, t) {
                    e = Object.assign(e, {
                        QECSConfig: t
                    })
                },
                updateMenus(e, t) {
                    e = Object.assign(e, {
                        menus: t
                    })
                }
            },
            actions: {},
            modules: {
                examHomeModule: r,
                examingHomeModule: c
            },
            getters: {
                isEpcc(e) {
                    return e.user.schoolDomain === o["c"]
                },
                isCug(e) {
                    const t = !0;
                    return e.user.schoolDomain === o["a"] && t
                }
            }
        })
    },
    c232: function (e, t, s) {
        "use strict";
        var i = s("b3a4")
            , a = s.n(i);
        a.a
    },
    c2d5: function (e, t, s) {
        "use strict";
        var i = s("40c2")
            , a = s.n(i);
        a.a
    },
    c3ab: function (e, t, s) { },
    c427: function (e, t, s) {
        "use strict";
        var i = s("28be")
            , a = s.n(i);
        a.a
    },
    c47a: function (e, t, s) {
        "use strict";
        var i = s("2941")
            , a = s.n(i);
        a.a
    },
    c4d1: function (e, t, s) {
        "use strict";
        var i = s("73db")
            , a = s.n(i);
        a.a
    },
    ca00: function (module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, "i", (function () {
            return toChineseNumber
        })),
            __webpack_require__.d(__webpack_exports__, "f", (function () {
                return isThisMachineOwnByStudent
            })),
            __webpack_require__.d(__webpack_exports__, "h", (function () {
                return setUUID
            })),
            __webpack_require__.d(__webpack_exports__, "e", (function () {
                return isElectron
            })),
            __webpack_require__.d(__webpack_exports__, "g", (function () {
                return registerOnResize
            })),
            __webpack_require__.d(__webpack_exports__, "b", (function () {
                return downloadFileURL
            })),
            __webpack_require__.d(__webpack_exports__, "a", (function () {
                return checkMainExe
            })),
            __webpack_require__.d(__webpack_exports__, "d", (function () {
                return initScreenShot
            })),
            __webpack_require__.d(__webpack_exports__, "c", (function () {
                return getScreenShot
            }));
        var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5319")
            , core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__)
            , core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("498a")
            , core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1___default = __webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1__)
            , core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ddb0")
            , core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2___default = __webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__)
            , core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2b3d")
            , core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3___default = __webpack_require__.n(core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3__)
            , _constants_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("e6fd")
            , lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("2ef0")
            , lodash__WEBPACK_IMPORTED_MODULE_5___default = __webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__)
            , vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("2b0e")
            , _logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("823b");
        function toChineseNumber(e) {
            let t;
            if (e < 10)
                t = e.toLocaleString("zh-u-nu-hanidec");
            else if (10 === e)
                t = "鍗�";
            else if (e > 10 && e < 20)
                t = "鍗�" + (e % 10).toLocaleString("zh-u-nu-hanidec");
            else if (e >= 20 && e < 100) {
                let s = e.toLocaleString("zh-u-nu-hanidec", {
                    useGrouping: !1
                }).split("");
                s.splice(1, 0, "鍗�"),
                    t = s.join("").replace("銆�", "")
            } else
                t = e.toLocaleString("zh-u-nu-hanidec");
            return t
        }
        function isThisMachineOwnByStudent() {
            return (JSON.parse(localStorage.getItem("userIds")) || []).length < 5
        }
        function setUUID() {
            if (!localStorage.getItem("uuidForEcs")) {
                const e = "" + Date.now() + Math.random();
                localStorage.setItem("uuidForEcs", e)
            }
        }
        function isElectron() {
            return "undefined" != typeof nodeRequire
        }
        function registerOnResize() {
            const e = Object(lodash__WEBPACK_IMPORTED_MODULE_5__["throttle"])(() => {
                Object(_logger__WEBPACK_IMPORTED_MODULE_7__["b"])({
                    page: window.location.pathname,
                    action: "registerOnResize",
                    width: window.screen.width,
                    height: window.screen.height,
                    screenX: window.screen.availWidth,
                    screenY: window.screen.availHeight,
                    clientWidth: document.documentElement.clientWidth,
                    clientHeight: document.documentElement.clientHeight,
                    windowInnerWidth: window.innerWidth,
                    windowInnerHeight: window.innerHeight,
                    windowOuterWidth: window.outerWidth,
                    windowOuterHeight: window.outerHeight
                }),
                    getScreenShot({
                        cause: "ss-registerOnResize"
                    })
            }
                , 3e3);
            window.onresize = e
        }
        async function downloadFileURL(e, t) {
            const s = document.createElement("a");
            s.style.display = "none";
            const i = t || e.split("/").pop().split("?")[0];
            console.log(i),
                s.setAttribute("download", i),
                s.href = e,
                document.body.appendChild(s),
                s.click(),
                document.body.removeChild(s)
        }
        function checkMainExe() {
            try {
                let iid = window.nodeRequire("process").pid;
                const cp = window.nodeRequire("child_process");
                iid = cp.execSync(`cmd /c chcp 65001>nul && C:\\Windows\\System32\\wbem\\wmic process where ^(processid^=${iid}^) get parentprocessid /value`).toString(),
                    iid = iid.replace("ParentProcessId=", "").trim(),
                    console.log(iid),
                    iid = cp.execSync(`cmd /c chcp 65001>nul && C:\\Windows\\System32\\wbem\\wmic process where ^(processid^=${iid}^) get parentprocessid /value`).toString(),
                    iid = iid.replace("ParentProcessId=", "").trim(),
                    console.log(iid);
                let executablePath = cp.execSync(`cmd /c chcp 65001>nul && C:\\Windows\\System32\\wbem\\wmic process where ^(processid^=${iid}^) get executablepath /value`);
                console.log(executablePath);
                const encoding = window.nodeRequire("encoding");
                if (executablePath = encoding.convert(executablePath, "utf8", "gbk").toString(),
                    console.log(executablePath),
                    executablePath = executablePath.replace("ExecutablePath=", "").trim().replace(/&amp;/g, "&"),
                    executablePath === eval("process.env.PORTABLE_EXECUTABLE_FILE")) {
                    const e = window.nodeRequire("crypto").createHmac("sha256", "abcdefg").update(window.nodeRequire("fs").readFileSync(executablePath)).digest("hex");
                    if (console.log("the hash: ", e),
                        _constants_constants__WEBPACK_IMPORTED_MODULE_4__["f"].get(window.location.hostname) === e)
                        return !0
                }
            } catch (error) {
                console.log(error)
            }
            return !1
        }
        function initScreenShot() {
            function e(e) {
                const t = document.querySelector("#ssVideo");
                t.srcObject = e,
                    t.onloadedmetadata = () => t.play()
            }
            window.nodeRequire("electron").desktopCapturer.getSources({
                types: ["window", "screen"]
            }, async (t, s) => {
                console.log(s);
                for (const i of s)
                    if (console.log(i),
                        "Entire screen" === i.name) {
                        try {
                            const t = await navigator.mediaDevices.getUserMedia({ audio: !1, video: { mandatory: { chromeMediaSource: "desktop", chromeMediaSourceId: i.id, minWidth: 600, maxWidth: 600, minHeight: 480, maxHeight: 480 } } });
                            e(t)
                        } catch (t) {
                            console.log(t),
                                Object(_logger__WEBPACK_IMPORTED_MODULE_7__["b"])({
                                    page: window.location.pathname,
                                    action: "ss-failed",
                                    sse: t
                                })
                        }
                        return
                    }
            }
            )
        }
        async function getScreenShot({ cause: e = "ss-none" }) {
            const t = document.querySelector("#ssVideo");
            async function s() {
                return new Promise((e, s) => {
                    4 === t.readyState && t.srcObject.active || s("desktop娌℃湁姝ｅ父鍚敤"),
                        t.pause();
                    var i = document.createElement("canvas");
                    i.width = 220,
                        i.height = 165;
                    var a = i.getContext("2d");
                    a.drawImage(t, 0, 0, 220, 165),
                        i.toBlob(e, "image/png", .95)
                }
                )
            }
            const i = await s()
                , a = new URLSearchParams;
            if (a.append("fileSuffix", "png"),
                window.location.pathname.includes("/login"))
                return;
            const o = await vue__WEBPACK_IMPORTED_MODULE_6__["a"].prototype.$http.get("/api/ecs_oe_student/examControl/getCapturePhotoYunSign?" + a);
            let n = new FormData;
            for (let [c, l] of Object.entries(o.data.formParams))
                n.append(c, l);
            n.append("file", i);
            try {
                const s = await fetch(o.data.formUrl, { method: "POST", body: n });
                if (console.log(s, {
                    "res2.headers": s.headers,
                    'res2.headers.get("Content-MD5")': s.headers.get("Content-MD5"),
                    'res2.headers.get("Content-Type")': s.headers.get("Content-Type")
                }),
                    !s.ok)
                    throw s.status;
                Object(_logger__WEBPACK_IMPORTED_MODULE_7__["b"])({
                    page: window.location.pathname,
                    detail: "妗岄潰鎶撴媿淇濆瓨鎴愬姛",
                    resultUrl: o.data.accessUrl,
                    cause: e
                })
            } catch (r) {
                console.log(r),
                    Object(_logger__WEBPACK_IMPORTED_MODULE_7__["b"])({
                        page: window.location.pathname,
                        detail: "妗岄潰鎶撴媿澶辫触",
                        error: r,
                        cause: e
                    })
            } finally {
                // t && t.play()
            }
        }
    },
    ca62: function (e, t, s) { },
    ccab: function (e, t, s) {
        "use strict";
        var i = s("a69f")
            , a = s.n(i);
        a.a
    },
    cddd: function (e, t, s) {
        "use strict";
        s.d(t, "b", (function () {
            return i
        })),
            s.d(t, "a", (function () {
                return a
            }));
        const i = ["17GuaGua Cam", "91KBOX", "e2eSoft iVCam", "e2eSoft VCam", "FaceRig Virtual Camera", "MagicCamera Capture", "MeiSe", "Virtual Cam", "YY浼翠荆", "WebcamMax Capture", "Wecam", "Vcam ", "softcam", "Vandate Virtual Camera", "video2webcam", "VCDCut Pro", "9158铏氭嫙瑙嗛", "9158Capture", "Insta360 Virtual Camera", "鏃犱粬鐩存挱浼翠荆PC瀹㈡埛绔�", "鏃犱粬鐩告満鐢佃剳鐗�", "mobiola webcamera", "鑹剧背绉€瀹�(ImiShowBox)", "video2Webcam", "椋炵繑铏氭嫙瑙嗛", "榄斿姏绉€", "YY寮€鎾�", "鏃犱粬浼翠荆", "瑙嗛杩為害", "閰风嫍鐩存挱浼翠荆", "screen-capture-recorder", "OBS Virtual Camera", "OBS-Camera", "ManyCam Virtual Webcam", "灏忚懌鑺︾洿鎾姪鎵�", "yyplayer", "绉€鑹茬洿鎾即渚�", "绉€鑹茬洿鎾姪鎵�", "Citrix HDX Web Camera"]
            , a = "qq;teamviewer;lookmypc;xt;winaw32;pcaquickconnect;sessioncontroller;sunloginclient;sunloginremote;wemeetapp;wechat;todesk"
    },
    d0392: function (module, __webpack_exports__, __webpack_require__) {
        "use strict";
        var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5319")
            , core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__)
            , core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("498a")
            , core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1___default = __webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1__)
            , core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ddb0")
            , core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2___default = __webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__)
            , core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2b3d")
            , core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3___default = __webpack_require__.n(core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3__)
            , _home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("f3f3")
            , moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("c1df")
            , moment__WEBPACK_IMPORTED_MODULE_5___default = __webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__)
            , vuex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("2f62")
            , _constants_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("e6fd")
            , _constants_constant_namelist__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("cddd")
            , _DevTools_vue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("21d8")
            , _utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("15ad")
            , _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("685a")
            , _utils_logger__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("823b")
            , _utils_util__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("ca00")
            , _GeeTest__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("e031")
            , _GlobalNotice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("f694")
            , _utils_tryLimit__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("ff04");
        let element = new Image;
        Object.defineProperty(element, "id", {
            get: function () {
                return window._hmt.push(["_trackEvent", "鎺у埗鍙版墦寮€", window.location.href, "|||" + localStorage.getItem("domain") + "|||" + localStorage.getItem("key")]),
                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                        currentPage: "鐧诲綍椤甸潰",
                        action: "鎺у埗鍙版墦寮€",
                        UA: navigator.userAgent,
                        url: window.location.href
                    }),
                    null
            }
        }),
            __webpack_exports__["a"] = {
                name: "Login",
                components: {
                    DevTools: _DevTools_vue__WEBPACK_IMPORTED_MODULE_9__["a"],
                    GeeTest: _GeeTest__WEBPACK_IMPORTED_MODULE_14__["a"],
                    GlobalNotice: _GlobalNotice__WEBPACK_IMPORTED_MODULE_15__["a"]
                },
                data() {
                    return {
                        QECSConfig: {},
                        loginType: "STUDENT_CODE",
                        errorInfo: "",
                        loginForm: {
                            accountValue: "",
                            password: "",
                            tid: ""
                        },
                        loginFormRule: {
                            accountValue: [{
                                required: !0,
                                message: "璇峰～鍐欑櫥褰曡处鍙�",
                                trigger: "blur"
                            }],
                            password: [{
                                required: !0,
                                message: "璇峰～鍐欏瘑鐮�",
                                trigger: "blur"
                            }]
                        },
                        captchaObj: null,
                        resetGeeTime: Date.now(),
                        loginBtnLoading: !1,
                        disableLoginBtnBecauseRemoteApp: !0,
                        disableLoginBtnBecauseVCam: !0,
                        disableLoginBtnBecauseAppVersionChecker: !1,
                        disableLoginBtnBecauseRefreshServiceWorker: !1,
                        disableLoginBtnBecauseNotAllowedNative: !0,
                        newVersionAvailable: !1,
                        VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
                        GeeTestConfig: {}
                    }
                },
                computed: {
                    logoPath() {
                        return this.QECSConfig.LOGO_FILE_URL ? this.QECSConfig.LOGO_FILE_URL : ""
                    },
                    backgroundUrl() {
                        return `url(${this.QECSConfig.STUDENT_CLIENT_BG_PICTURE_URL || "https://cdn.qmth.com.cn/ui/ecs-client-bg.jpg!/progressive/true"})`
                    },
                    productName() {
                        return this.QECSConfig.OE_STUDENT_SYS_NAME || "杩滅▼鏁欒偛缃戠粶鑰冭瘯"
                    },
                    allowLoginType() {
                        return this.QECSConfig.LOGIN_TYPE && this.QECSConfig.LOGIN_TYPE.split(",") || []
                    },
                    schoolDomain() {
                        const e = _constants_constants__WEBPACK_IMPORTED_MODULE_7__["b"];
                        return e && e.includes("qmth.com.cn") || this.$Message.error({
                            content: "鏈烘瀯鍦板潃鍑洪敊锛岃鍏抽棴绋嬪簭鍚庡啀鐧诲綍銆�",
                            duration: 15,
                            closable: !0
                        }),
                            e
                    },
                    isEPCC() {
                        return this.schoolDomain === _constants_constants__WEBPACK_IMPORTED_MODULE_7__["c"]
                    },
                    usernameInputPlaceholder() {
                        return "STUDENT_CODE" === this.loginType ? "璇疯緭鍏ュ鍙�" : "璇疯緭鍏ヨ韩浠借瘉鍙�"
                    },
                    passwordInputPlaceholder() {
                        return this.loginType,
                            "鍒濆瀵嗙爜涓鸿韩浠借瘉鍙峰悗6浣�"
                    },
                    disableLoginBtn() {
                        return Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])() && (this.disableLoginBtnBecauseRemoteApp || this.disableLoginBtnBecauseVCam) || this.disableLoginBtnBecauseAppVersionChecker || this.disableLoginBtnBecauseRefreshServiceWorker || this.disableLoginBtnBecauseNotAllowedNative
                    },
                    isGeeTestEnabled() {
                        const e = this.GeeTestConfig[this.QECSConfig.ROOT_ORG_ID]
                            , t = void 0 === e
                            , s = this.GeeTestConfig["-1"];
                        return t ? s : e
                    }
                },
                watch: {
                    "loginForm.accountValue": function () {
                        Date.now() - this.resetGeeTime > 6e4 && (this.captchaObj.destroy(),
                            this.resetGeeTime = Date.now())
                    },
                    "loginForm.password": function () {
                        Date.now() - this.resetGeeTime > 6e4 && (this.captchaObj.destroy(),
                            this.resetGeeTime = Date.now())
                    }
                },
                async mounted() {
                    if (this.examShellStats(),
                        localStorage.getItem("__swReload") && (localStorage.removeItem("__swReload"),
                            this.$Message.info({
                                content: "姝ｅ湪鏇存柊鐗堟湰..."
                            }),
                            this.disableLoginBtnBecauseRefreshServiceWorker = !0,
                            await new Promise(e => { setTimeout(() => { e() }, 2e3) }),
                            location.reload(!0)),
                        fetch(_constants_constants__WEBPACK_IMPORTED_MODULE_7__["e"] + "tiny_face_detector_model-weights_manifest.json"),
                        fetch(_constants_constants__WEBPACK_IMPORTED_MODULE_7__["e"] + "face_landmark_68_model-weights_manifest.json"),
                        fetch(_constants_constants__WEBPACK_IMPORTED_MODULE_7__["e"] + "face_expression_model-weights_manifest.json"),
                        this.checkNewVersionListener = document.addEventListener("__newSWAvailable", () => {
                            this.newVersionAvailable = !0
                        }
                            , {
                                once: !0
                            }),
                        this.isEPCC) {
                        const e = new URLSearchParams(location.search).get("redirectUrl");
                        e && sessionStorage.setItem("redirectUrl", e),
                            this.login()
                    }
                    this.uploadLogInterval = setInterval(() => Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["a"])(), 5e3),
                        Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])() && Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                            currentPage: "鐧诲綍椤甸潰",
                            action: "versonstats",
                            packageVersion: "ua-" + _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().version,
                            file: eval("process.env.PORTABLE_EXECUTABLE_FILE"),
                            uaGood: "uagood-" + (eval("process.env.PORTABLE_EXECUTABLE_FILE") ? 1 : 0)
                        })
                },
                async created() {
                    const h = this.$createElement;
                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                        currentPage: "鐧诲綍椤甸潰",
                        action: "page created",
                        UA: navigator.userAgent
                    }),
                        navigator.connection && navigator.connection.rtt && (console.log("UA: ", navigator.userAgent),
                            console.log("_trackEvent", "鐧诲綍椤甸潰", `褰撳墠缃戦€�: ${Number(navigator.connection.downlink).toPrecision(1)}Mib; 缃戠粶寤惰繜: ${Number(navigator.connection.rtt).toPrecision(1)}ms`),
                            window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", `褰撳墠缃戦€�: ${Number(navigator.connection.downlink).toPrecision(1)}Mib; 缃戠粶寤惰繜: ${Number(navigator.connection.rtt).toPrecision(1)}ms`]),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                currentPage: "鐧诲綍椤甸潰",
                                action: "page銆€created",
                                UA: navigator.userAgent
                            })),
                        this.isEPCC && this.$Spin.show({
                            render: () => h("div", {
                                style: "font-size: 44px"
                            }, ["姝ｅ湪鐧诲綍..."])
                        }),
                        -1 != navigator.userAgent.indexOf("WOW64") || -1 != navigator.userAgent.indexOf("Win64") ? window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "64Bit OS"]) : window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "闈�64Bit OS"]),
                        this.$Message.config({
                            duration: 15,
                            size: "large",
                            closable: !0
                        }),
                        window.sessionStorage.removeItem("token"),
                        window.sessionStorage.clear(),
                        window.localStorage.removeItem("key"),
                        Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])() && !eval("process.env.PORTABLE_EXECUTABLE_FILE") && (this.disableLoginBtnBecauseAppVersionChecker = !0,
                            "1.9.3" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().version ? this.$Message.error({
                                content: "璇蜂笌瀛︽牎鐢宠鏈€鏂扮殑瀹㈡埛绔紝杩涜鑰冭瘯锛�",
                                duration: 172800
                            }) : this.$Message.error({
                                content: "鐢佃剳鐜杈句笉鍒拌€冭瘯瑕佹眰锛岃娓呯悊涓庤€冭瘯鏃犲叧杞欢鎴栨洿鎹㈢數鑴�",
                                duration: 172800
                            })),
                        Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["g"])(),
                        Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["d"])(),
                        _constants_constants__WEBPACK_IMPORTED_MODULE_7__["h"].includes(window.location.hostname) && (Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["a"])() || (this.disableLoginBtnBecauseAppVersionChecker = !0,
                            "1.9.3" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().version ? this.$Message.error({
                                content: "璇蜂笌瀛︽牎鐢宠鏈€鏂扮殑瀹㈡埛绔紝杩涜鑰冭瘯锛�",
                                duration: 172800
                            }) : this.$Message.error({
                                content: "鐢佃剳鐜杈句笉鍒拌€冭瘯瑕佹眰锛岃娓呯悊涓庤€冭瘯鏃犲叧杞欢鎴栨洿鎹㈢數鑴�",
                                duration: 172800
                            }),
                            this.checkInCaseOldTimeout = setTimeout(() => {
                                this.newVersionAvailable && this.$Message.error({
                                    content: "绋嬪簭鏈夋洿鏂帮紝璇烽噸鏂版墦寮€瀹㈡埛绔紒",
                                    duration: 172800
                                })
                            }
                                , 1e4))),
                        ["xjtu.ecs.qmth.com.cn", "ccnu.ecs.qmth.com.cn", "snnu.ecs.qmth.com.cn", "swjtu.ecs.qmth.com.cn"].includes(this.schoolDomain) && (Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])() && window.nodeRequire("fs").existsSync("multiCamera.exe") || (this.disableLoginBtnBecauseAppVersionChecker = !0,
                            this.$Message.error({
                                content: "璇蜂笌瀛︽牎鐢宠鏈€鏂扮殑瀹㈡埛绔紝杩涜鑰冭瘯锛�",
                                duration: 172800
                            }))),
                        ["cup.ecs.qmth.com.cn"].includes(this.schoolDomain) && ("electron-exam-shell" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().name || "2" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().major && "1" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().major || _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["a"].major < "58") && (this.disableLoginBtnBecauseAppVersionChecker = !0,
                            this.$Message.error({
                                content: "璇蜂笌瀛︽牎鐢宠鏈€鏂扮殑瀹㈡埛绔紝杩涜鑰冭瘯锛�",
                                duration: 172800
                            })),
                        await this.checkElectronConfig(),
                        await this.checkGeeTestConfig(),
                        await this.checkVCam(),
                        await this.checkAllowedClient(),
                        1 === this.allowLoginType.length && "IDENTITY_NUMBER" === this.allowLoginType[0] && (this.loginType = "STUDENT_IDENTITY_NUMBER")
                },
                beforeDestroy() {
                    clearTimeout(this.loginTimeout),
                        clearInterval(this.uploadLogInterval),
                        clearTimeout(this.checkInCaseOldTimeout),
                        document.removeEventListener("__newSWAvailable", this.checkNewVersionListener)
                },
                methods: Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({}, Object(vuex__WEBPACK_IMPORTED_MODULE_6__["d"])(["updateUser", "updateTimeDifference", "updateQECSConfig"])), {}, {
                    testServiceWorker() {
                        "serviceWorker" in navigator && navigator.serviceWorker.register("/service-worker-test.js").then((function (e) {
                            console.log("Registration OK!. Scope is " + e.scope)
                        })).catch((function (e) {
                            console.error("Registration FAILED! " + e)
                        }))
                    },
                    async loginForuser() {
                        Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                            currentPage: "鐧诲綍椤甸潰",
                            action: "鐐瑰嚮鐧诲綍鎸夐挳"
                        });
                        try {
                            const e = await this.checkNewVersion();
                            if (e)
                                return
                        } catch (i) {
                            console.log("妫€娴嬫柊鐗堟湰鍑洪敊")
                        }
                        if (this.loginBtnLoading)
                            return;
                        this.loginBtnLoading = !0;
                        const { limitResult: e, serverOk: t } = await Object(_utils_tryLimit__WEBPACK_IMPORTED_MODULE_16__["a"])({ action: "login", limit: 500 });
                        if (this.logger({
                            action: "鐧诲綍椤甸潰--login clicked",
                            logId: "鐧诲綍闄愭祦API call"
                        }),
                            !e)
                            return Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                currentPage: "鐧诲綍椤甸潰--login clicked",
                                action: "鐧诲綍琚檺娴�",
                                serverOk: t
                            }),
                                this.$Modal.warning({
                                    title: "鎻愮ず",
                                    content: "缃戠粶绻佸繖锛岃绋嶅悗鍐嶈瘯銆�"
                                }),
                                await new Promise(e => setTimeout(() => e(), 3e3)),
                                void (this.loginBtnLoading = !1);
                        Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                            currentPage: "鐧诲綍椤甸潰--login clicked",
                            action: "鐧诲綍鏈檺娴�"
                        });
                        const s = Date.now();
                        if (this.isGeeTestEnabled && (!this.captchaObj || !this.captchaObj.getValidate()))
                            return this.$Message.error("璇峰畬鎴愰獙璇�"),
                                void (this.loginBtnLoading = !1);
                        try {
                            await this.login()
                        } finally {
                            const e = Date.now();
                            this.loginTimeout = setTimeout(() => {
                                this.loginBtnLoading = !1
                            }
                                , 1e4 - (e - s))
                        }
                    },
                    async login() {
                        if (Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                            currentPage: "鐧诲綍椤甸潰--login clicked",
                            action: "in login()",
                            UA: navigator.userAgent
                        }),
                            this.errorInfo = "",
                            !this.isEPCC && this.disableLoginBtn)
                            return;
                        let e;
                        if (this.isEPCC) {
                            try {
                                const e = await this.checkNewVersion();
                                if (e)
                                    return
                            } catch (s) {
                                console.log("妫€娴嬫柊鐗堟湰鍑洪敊")
                            }
                            if (e = await this.epccLogin(),
                                !e)
                                return;
                            e.data = {
                                content: e.data,
                                code: "200"
                            }
                        } else {
                            const t = await this.$refs.loginForm.validate();
                            if (!t)
                                return;
                            let s = this.loginForm
                                , i = {};
                            if (this.isGeeTestEnabled) {
                                const e = this.captchaObj.getValidate();
                                i = {
                                    user_id: localStorage.getItem("uuidForEcs"),
                                    client_type: "Web",
                                    challenge: e.geetest_challenge,
                                    validate: e.geetest_validate,
                                    seccode: e.geetest_seccode
                                }
                            }
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                currentPage: "鐧诲綍椤甸潰",
                                action: "send params",
                                domain: this.schoolDomain,
                                rootOrgId: this.QECSConfig.ROOT_ORG_ID,
                                accountType: this.loginType,
                                accountValue: this.loginForm.accountValue
                            }),
                                e = await this.$http.post("/api/ecs_core/verifyCode/gt/login", Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({}, s), {}, { accountType: this.loginType, domain: this.schoolDomain, rootOrgId: this.QECSConfig.ROOT_ORG_ID, alwaysOK: !0 }, i))
                        }
                        let t = e.data;
                        if (this.updateTimeDifference(moment__WEBPACK_IMPORTED_MODULE_5___default()(e.headers.date).diff(moment__WEBPACK_IMPORTED_MODULE_5___default()())),
                            "200" == t.code) {
                            t = t.content,
                                this.errorInfo = "",
                                window.sessionStorage.setItem("token", t.token),
                                window.localStorage.setItem("key", t.key),
                                window.localStorage.setItem("domain", this.schoolDomain);
                            try {
                                const [{ data: e }, { data: s }] = await Promise.all([this.$http.get("/api/ecs_core/student/getStudentInfoBySession"), this.$http.get("/api/ecs_exam_work/exam_student/specialtyNameList/")])
                                    , i = Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({}, t), e), {}, {
                                        specialty: s.join(),
                                        schoolDomain: this.schoolDomain
                                    });
                                this.updateUser(i),
                                    window.localStorage.setItem("user-for-reload", JSON.stringify(i)),
                                    window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "鐧诲綍", this.$route.query.LogoutReason]);
                                const a = await this.checkExamInProgress();
                                if (window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "鐧诲綍鎴愬姛"]),
                                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["c"])({
                                        action: "鐧诲綍鎴愬姛"
                                    }),
                                    a)
                                    return this.logger({
                                        action: "鏂偣缁€�",
                                        detail: "鐧诲綍椤甸潰"
                                    }),
                                        void window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "鏂偣缁€�", "閲嶆柊鐧诲綍"]);
                                Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["c"])({
                                    cause: "ss-login"
                                }),
                                    this.$router.push("/online-exam");
                                let o = JSON.parse(localStorage.getItem("userIds"));
                                o = [...new Set(o).add(i.id)],
                                    localStorage.setItem("userIds", JSON.stringify(o)),
                                    this.$Spin.hide(),
                                    this.$Message.destroy()
                            } catch (s) {
                                window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "鐧诲綍澶辫触", "getStudentInfoBySession澶辫触"]),
                                    this.logger({
                                        action: "鐧诲綍澶辫触",
                                        detail: "getStudentInfoBySession澶辫触"
                                    }),
                                    this.$Message.error({
                                        content: "鑾峰彇瀛︾敓淇℃伅澶辫触锛岃閲嶈瘯锛�",
                                        duration: 15,
                                        closable: !0
                                    }),
                                    this.isEPCC && (this.$Spin.hide(),
                                        this.logout())
                            }
                        } else
                            window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "鐧诲綍澶辫触", t.desc]),
                                Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                    currentPage: "鐧诲綍椤甸潰",
                                    action: "鐧诲綍澶辫触",
                                    desc: t.desc
                                }),
                                this.errorInfo = t.desc,
                                this.captchaObj.destroy(),
                                this.resetGeeTime = Date.now()
                    },
                    async checkNewVersion() {
                        let e = new Headers;
                        e.append("Content-Type", "application/javascript"),
                            e.append("Cache-Control", "no-cache");
                        const t = await fetch(document.scripts[document.scripts.length - 1].src + "?x" + Date.now(), { method: "HEAD", headers: e });
                        if (!t.ok || this.newVersionAvailable)
                            return t.ok && this.newVersionAvailable && localStorage.getItem("__swReload") ? (window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "service worker鍒锋柊澶辫触"]),
                                this.$Message.destroy(),
                                this.$Message.info({
                                    content: "璇烽噸鏂版墦寮€绋嬪簭銆�",
                                    duration: 172800
                                }),
                                !0) : (window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "鏂扮増鏈彂甯冨悗锛屽鎴风鑷姩鍒锋柊"]),
                                    this.$Message.info({
                                        content: "姝ｅ湪鑾峰彇鏂扮増鏈�..."
                                    }),
                                    localStorage.setItem("__swReload", "anything"),
                                    this.disableLoginBtnBecauseRefreshServiceWorker = !0,
                                    await new Promise(e => { setTimeout(() => { e() }, 1e3) }),
                                    location.reload(!0),
                                    !0)
                    },
                    async checkElectronConfig() {
                        try {
                            const e = _constants_constants__WEBPACK_IMPORTED_MODULE_7__["j"]
                                , t = await fetch(e + "/org_properties/byOrgDomain/" + _constants_constants__WEBPACK_IMPORTED_MODULE_7__["b"] + "/studentClientConfig.json?" + Date.now() + Math.random());
                            if (!t.ok)
                                return void this.$Message.error({
                                    content: "鑾峰彇杩滅▼閰嶇疆鏂囦欢鍑洪敊锛岃閲嶆柊鎵撳紑绋嬪簭锛�",
                                    duration: 15,
                                    closable: !0
                                });
                            {
                                const e = await t.json();
                                this.QECSConfig = e,
                                    this.updateQECSConfig(e)
                            }
                        } catch (e) {
                            return void this.$Message.error({
                                content: "鑾峰彇杩滅▼閰嶇疆鏂囦欢鍑洪敊锛岃閲嶆柊鎵撳紑绋嬪簭锛�",
                                duration: 15,
                                closable: !0
                            })
                        }
                        await this.checkRemoteApp()
                    },
                    async checkGeeTestConfig() {
                        try {
                            const e = _constants_constants__WEBPACK_IMPORTED_MODULE_7__["j"]
                                , t = await fetch(e + "/org_properties/geetestConfig.json?" + Date.now() + Math.random());
                            if (!t.ok)
                                return void this.$Message.error({
                                    content: "鑾峰彇杩滅▼閰嶇疆鏂囦欢鍑洪敊锛岃閲嶆柊鎵撳紑绋嬪簭锛�",
                                    duration: 15,
                                    closable: !0
                                });
                            {
                                const e = await t.json();
                                this.GeeTestConfig = e
                            }
                        } catch (e) {
                            return void this.$Message.error({
                                content: "鑾峰彇杩滅▼閰嶇疆鏂囦欢鍑洪敊锛岃閲嶆柊鎵撳紑绋嬪簭锛�",
                                duration: 15,
                                closable: !0
                            })
                        }
                    },
                    async checkRemoteApp() {
                        const e = this.$createElement;
                        if (Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])())
                            if (this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("DISABLE_REMOTE_ASSISTANCE")) {
                                let e = "Project1.exe";
                                if (Object(_utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__["b"])("Project2.exe")) {
                                    const t = _constants_constant_namelist__WEBPACK_IMPORTED_MODULE_8__["a"];
                                    e = `Project2.exe "${t}" `
                                }
                                const i = window.nodeRequire("fs");
                                try {
                                    i.unlinkSync("remoteApplication.txt")
                                } catch (s) {
                                    console.log(s)
                                }
                                await Object(_utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__["a"])(e, t.bind(this))
                            } else
                                this.disableLoginBtnBecauseRemoteApp = !1;
                        async function t() {
                            let t;
                            try {
                                const e = window.nodeRequire("fs");
                                try {
                                    t = e.readFileSync("remoteApplication.txt", "utf-8")
                                } catch (s) {
                                    console.log(s),
                                        window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "璇诲彇remoteApplication.txt鍑洪敊--0"]),
                                        await new Promise(e => setTimeout(() => e(), 3e3)),
                                        t = e.readFileSync("remoteApplication.txt", "utf-8")
                                }
                            } catch (s) {
                                return console.log(s),
                                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                        currentPage: "鐧诲綍椤甸潰",
                                        errorType: "e-01",
                                        error: s.message,
                                        detail: t
                                    }),
                                    window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "璇诲彇remoteApplication.txt鍑洪敊"]),
                                    void this.$Message.error({
                                        content: "绯荤粺妫€娴嬪嚭閿�(e-01)锛岃閫€鍑虹▼搴忓悗閲嶈瘯锛�",
                                        duration: 172800
                                    })
                            }
                            if ("undefined" !== typeof nodeRequire) {
                                const e = Object(_utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__["d"])();
                                e.hasSun && (t ? t += ",sunloginclient" : t = "sunloginclient"),
                                    e.hasTodesk && (t ? t += ",todesk" : t = "todesk")
                            }
                            if (t && t.trim()) {
                                let s = t.replace("qq", "QQ").replace("teamviewer", "TeamViewer").replace("lookmypc", "LookMyPC").replace("xt", "鍗忛€�").replace("winaw32", "Symantec PCAnywhere").replace("pcaquickconnect", "Symantec PCAnywhere").replace("sessioncontroller", "Symantec PCAnywhere").replace(/sunloginclient/gi, "鍚戞棩钁�").replace(/sunloginremote/gi, "鍚戞棩钁�").replace(/閫夋嫨鍏嶅畨瑁呰繍琛岋紝鎴浘璇嗗埆/gi, "鍚戞棩钁�").replace("wemeetapp", "鑵捐浼氳").replace("wechat", "寰俊").replace("todesk", "ToDesk");
                                s = [...new Set(s.split(",").map(e => e.trim()))].join("锛�"),
                                    this.disableLoginBtnBecauseRemoteApp = !0,
                                    this.$Message.info({
                                        render: () => e("div", {
                                            style: "padding-left: 4px; line-height: 80px; font-size: 36px; color: white; background-color: #D9001B"
                                        }, ["鍦ㄨ€冭瘯鏈熼棿锛岃鍏虫帀", s, "杞欢锛岃瘹淇¤€冭瘯銆�"]),
                                        duration: 172800
                                    })
                            } else
                                this.disableLoginBtnBecauseRemoteApp = !1
                        }
                    },
                    async checkVCam() {
                        const e = this.$createElement;
                        if (!Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])())
                            return;
                        const t = _constants_constant_namelist__WEBPACK_IMPORTED_MODULE_8__["b"];
                        async function s() {
                            let s;
                            try {
                                const e = window.nodeRequire("fs");
                                try {
                                    s = e.readFileSync("CameraInfo.txt", "utf-8")
                                } catch (i) {
                                    console.log(i),
                                        window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "CameraInfo.txt鍑洪敊--0"]),
                                        await new Promise(e => setTimeout(() => e(), 3e3)),
                                        s = e.readFileSync("CameraInfo.txt", "utf-8")
                                }
                            } catch (i) {
                                return console.log(i),
                                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                        currentPage: "鐧诲綍椤甸潰",
                                        errorType: "e-02",
                                        error: i.message,
                                        detail: s
                                    }),
                                    window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "璇诲彇CameraInfo.txt鍑洪敊"]),
                                    void this.$Message.error({
                                        content: "绯荤粺妫€娴嬪嚭閿�(e-02)锛岃閫€鍑虹▼搴忓悗閲嶈瘯锛�",
                                        duration: 172800
                                    })
                            }
                            if (this.disableLoginBtnBecauseVCam = !1,
                                s && s.trim())
                                for (const a of t)
                                    s.toUpperCase().includes(a.toUpperCase()) && (this.disableLoginBtnBecauseVCam = !0,
                                        this.$Message.info({
                                            render: () => e("div", {
                                                style: "padding-left: 4px; line-height: 80px; font-size: 36px; color: white; background-color: #D9001B"
                                            }, ["鍦ㄨ€冭瘯鏈熼棿锛岃鍏虫帀铏氭嫙鎽勫儚澶磋蒋浠讹紝璇氫俊鑰冭瘯銆�"]),
                                            duration: 172800
                                        }),
                                        console.log(s))
                        }
                        this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("DISABLE_VIRTUAL_CAMERA") ? await Object(_utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__["a"])("multiCamera.exe", s.bind(this)) : this.disableLoginBtnBecauseVCam = !1
                    },
                    async checkAllowedClient() {
                        if ("true" === Object({
                            VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
                            VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
                            VUE_APP_ROUTER_PATH: "/oe-web/",
                            VUE_APP_PUBLIC_PATH: "/oe-web/",
                            VUE_APP_SLS_STORE_NAME: "student-client",
                            NODE_ENV: "production",
                            BASE_URL: "/oe-web/"
                        }).VUE_APP_SKIP_CHECK_NATIVE)
                            return console.log("鐜妫€鏌�: process.env.VUE_APP_SKIP_CHECK_NATIVE === " + Object({
                                VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
                                VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
                                VUE_APP_ROUTER_PATH: "/oe-web/",
                                VUE_APP_PUBLIC_PATH: "/oe-web/",
                                VUE_APP_SLS_STORE_NAME: "student-client",
                                NODE_ENV: "production",
                                BASE_URL: "/oe-web/"
                            }).VUE_APP_SKIP_CHECK_NATIVE, " 鍏佽娴忚鍣ㄨ闂�"),
                                void (this.disableLoginBtnBecauseNotAllowedNative = !1);
                        if (this.QECSConfig.LOGIN_SUPPORT.includes("NATIVE")) {
                            const e = "electron-exam-shell" === _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().name
                                , t = Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])();
                            let s = !1
                                , i = !1;
                            if (e && t) {
                                const e = window.nodeRequire("fs");
                                e && "function" === typeof e.readFileSync && (s = !0,
                                    i = !0,
                                    this.disableLoginBtnBecauseNotAllowedNative = !1)
                            }
                            this.disableLoginBtnBecauseNotAllowedNative && (window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "涓嶅厑璁歌闂�-" + JSON.stringify({
                                hasShell: e,
                                hasNode: t,
                                hasFs: s,
                                hasReadFileSync: i
                            })]),
                                this.$Message.error({
                                    content: "璇蜂笌瀛︽牎鐢宠鏈€鏂扮殑瀹㈡埛绔紝杩涜鑰冭瘯锛�",
                                    duration: 172800
                                }))
                        } else
                            this.$Message.error({
                                content: "鏈€冭瘯涓嶆敮鎸佸湪鑰冪敓绔腑杩涜锛�",
                                duration: 172800
                            })
                    },
                    closeApp() {
                        this.logger({
                            page: "鐧诲綍椤�",
                            button: "鍏抽棴鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            console.log("鍏抽棴搴旂敤"),
                            window.close()
                    },
                    examShellStats() {
                        const e = window.navigator.userAgent.split(" ").find(e => e.startsWith("electron-exam-shell/"))
                            , t = window.navigator.userAgent.split(" ").find(e => e.startsWith("Chrome/"));
                        e ? window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "瀛︾敓绔増鏈�", e + "/" + t]) : (window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "娴忚鍣ㄧ櫥褰�"]),
                            t ? window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "瀛︾敓绔増鏈�/chrome", t]) : window._hmt.push(["_trackEvent", "鐧诲綍椤甸潰", "瀛︾敓绔増鏈�/鍏朵粬娴忚鍣�", window.navigator.userAgent]))
                    },
                    async epccLogin() {
                        const { accountType: e, accountValue: t, rootOrgId: s, appId: i, timestamp: a, token: o, redirectUrl: n } = this.$route.query;
                        if (e && t && s && i && a && o && n)
                            try {
                                const e = await this.$http.post("/api/ecs_core/auth/thirdPartyStudentAccess" + location.search);
                                return e
                            } catch (r) {
                                window._hmt.push(["_trackEvent", "绗笁鏂圭櫥褰曢〉闈�", "鎺ュ彛鍑洪敊", ""]),
                                    this.$Spin.hide(),
                                    this.logout()
                            }
                        else
                            this.$Spin.hide(),
                                this.logout()
                    },
                    handleGtResult(e) {
                        this.captchaObj = e
                    }
                })
            }
    },
    d4aa: function (e, t, s) {
        e.exports = s.p + "img/qm-logo.cdd0ebd8.png"
    },
    d79d: function (e, t, s) { },
    d85c: function (e, t, s) { },
    df53: function (e, t, s) {
        "use strict";
        var i = s("0ce7")
            , a = s.n(i);
        a.a
    },
    dffe: function (e, t, s) {
        "use strict";
        var i = s("6c20")
            , a = s.n(i);
        a.a
    },
    e031: function (e, t, s) {
        "use strict";
        var i = function () {
            var e = this
                , t = e.$createElement
                , s = e._self._c || t;
            return s("div", [s("div", {
                attrs: {
                    id: "captcha"
                }
            }, [e.loading ? s("p", {
                staticClass: "show"
            }, [e._v("姝ｅ湪鍔犺浇楠岃瘉鐮�......")]) : e._e()])])
        }
            , a = []
            , o = s("823b")
            , n = {
                name: "GeeTest",
                props: {
                    reset: {
                        type: Number,
                        default: 0
                    }
                },
                data() {
                    return {
                        loading: !0
                    }
                },
                watch: {
                    reset: {
                        immediate: !0,
                        handler() {
                            this.resetGee()
                        }
                    }
                },
                methods: {
                    async resetGee() {
                        const e = this;
                        function t(t) {
                            e.$emit("on-load", t),
                                t.appendTo("#captcha"),
                                t.onReady((function () {
                                    e.loading = !1
                                })),
                                t.onError(t => {
                                    Object(o["b"])({
                                        currentPage: "鏋侀獙",
                                        errorCode: t.error_code,
                                        msg: t.msg
                                    }),
                                        e.$Message.error({
                                            content: "璧勬簮鍔犺浇澶辫触锛岃鍏抽棴绋嬪簭锛屾鏌ョ綉缁滅姸鍐靛悗閲嶈瘯銆�",
                                            duration: 60,
                                            closable: !0
                                        })
                                }
                                )
                        }
                        let s = null;
                        try {
                            s = await this.$http.post("/api/ecs_core/verifyCode/register", { user_id: localStorage.getItem("uuidForEcs"), client_type: "Web" })
                        } catch (a) {
                            return Object(o["b"])({
                                currentPage: "鏋侀獙",
                                action: "register鎺ュ彛璋冪敤澶辫触",
                                errorJSON: JSON.stringify(a, (e, t) => "token" === e ? "" : t),
                                errorName: a.name,
                                errorMessage: a.message,
                                errorStack: a.stack
                            }),
                                void this.$Message.error({
                                    content: "璧勬簮娉ㄥ唽澶辫触锛岃鍏抽棴绋嬪簭锛屾鏌ョ綉缁滅姸鍐靛悗閲嶈瘯銆�",
                                    duration: 300,
                                    closable: !0
                                })
                        }
                        const i = s.data;
                        i.success || Object(o["b"])({
                            currentPage: "鏋侀獙",
                            error: "鏋侀獙API瀹曟満"
                        }),
                            window.initGeetest({
                                gt: i.gt,
                                challenge: i.challenge,
                                new_captcha: i.new_captcha,
                                offline: !i.success,
                                product: "float",
                                width: "100%"
                            }, t)
                    }
                }
            }
            , r = n
            , c = (s("b1ed"),
                s("2877"))
            , l = Object(c["a"])(r, i, a, !1, null, null, null);
        t["a"] = l.exports
    },
    e3fa: function (e, t, s) {
        "use strict";
        var i = s("f530")
            , a = s.n(i);
        a.a
    },
    e42f: function (e, t, s) { },
    e6fd: function (e, t, s) {
        "use strict";
        s.d(t, "d", (function () {
            return n
        })),
            s.d(t, "i", (function () {
                return r
            })),
            s.d(t, "l", (function () {
                return c
            })),
            s.d(t, "m", (function () {
                return l
            })),
            s.d(t, "j", (function () {
                return d
            })),
            s.d(t, "k", (function () {
                return u
            })),
            s.d(t, "e", (function () {
                return h
            })),
            s.d(t, "c", (function () {
                return m
            })),
            s.d(t, "a", (function () {
                return p
            })),
            s.d(t, "b", (function () {
                return g
            })),
            s.d(t, "g", (function () {
                return w
            })),
            s.d(t, "f", (function () {
                return f
            })),
            s.d(t, "h", (function () {
                return v
            }));
        s("5319"),
            s("ddb0"),
            s("2b3d");
        let i, a, o;
        if (Object({
            VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
            VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
            VUE_APP_ROUTER_PATH: "/oe-web/",
            VUE_APP_PUBLIC_PATH: "/oe-web/",
            VUE_APP_SLS_STORE_NAME: "student-client",
            NODE_ENV: "production",
            BASE_URL: "/oe-web/"
        }).VUE_APP_CORE_HOST_URL) {
            const e = new URL(Object({
                VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
                VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
                VUE_APP_ROUTER_PATH: "/oe-web/",
                VUE_APP_PUBLIC_PATH: "/oe-web/",
                VUE_APP_SLS_STORE_NAME: "student-client",
                NODE_ENV: "production",
                BASE_URL: "/oe-web/"
            }).VUE_APP_CORE_HOST_URL);
            i = e.toString(),
                a = e.host,
                o = e.protocol.replace("http", "ws")
        } else
            i = window.location.origin,
                a = window.location.host,
                o = window.location.protocol.replace("http", "ws");
        const n = "https://api.megvii.com/faceid/liveness/v2/do?token="
            , r = i
            , c = o + "//" + a + "/api/ws/faceBiopsy"
            , l = o + "//" + a + "/api/ws/fileAnswer"
            , d = "https://ecs-static.qmth.com.cn"
            , u = "student-client"
            , h = "/oe-web/models/20190620/"
            , m = "bds.ecs.qmth.com.cn"
            , p = "cug.ecs.qmth.com.cn";
        let _;
        "true" === Object({
            VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
            VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
            VUE_APP_ROUTER_PATH: "/oe-web/",
            VUE_APP_PUBLIC_PATH: "/oe-web/",
            VUE_APP_SLS_STORE_NAME: "student-client",
            NODE_ENV: "production",
            BASE_URL: "/oe-web/"
        }).VUE_APP_SELF_DEFINE_DOMAIN && (_ = window.localStorage.getItem("exam_cloud_domain_in_url")),
            _ || (_ = window.location.hostname.split(".")[0]);
        const g = _ + ".ecs.qmth.com.cn"
            , w = "1"
            , f = new Map([["pc-test.ea100.com.cn", "7501fb797d0bac668e13f392b42e1b9f6464442c2ffc03c2a3243416ef226eb8"]])
            , v = [...f.keys()]
    },
    e85b: function (e, t, s) { },
    e902: function (e, t, s) {
        "use strict";
        var i = s("5660")
            , a = s.n(i);
        a.a
    },
    e989: function (e, t, s) { },
    ec02: function (e, t, s) {
        "use strict";
        var i = s("a332")
            , a = s.n(i);
        a.a
    },
    f195: function (e, t, s) { },
    f3c0: function (e, t, s) {
        "use strict";
        var i = s("6af0")
            , a = s.n(i);
        a.a
    },
    f43d: function (e, t, s) { },
    f530: function (e, t, s) { },
    f5d8: function (e, t, s) {
        "use strict";
        var i = s("e989")
            , a = s.n(i);
        a.a
    },
    f694: function (e, t, s) {
        "use strict";
        var i = function () {
            var e = this
                , t = e.$createElement
                , s = e._self._c || t;
            return s("div")
        }
            , a = []
            , o = s("e6fd")
            , n = {
                name: "GlobalNotice",
                data() {
                    return {
                        clicked: !1
                    }
                },
                watch: {
                    clicked(e) {
                        e && this.$Spin.hide()
                    },
                    $route(e) {
                        "Login" !== e.name && this.$Spin.hide()
                    }
                },
                async created() {
                    this.fetchNotice(),
                        this.fetchInterval = setInterval(() => {
                            this.fetchNotice()
                        }
                            , 6e4)
                },
                beforeDestroy() {
                    clearInterval(this.fetchInterval)
                },
                methods: {
                    async fetchNotice() {
                        const e = this.$createElement
                            , t = o["j"] + "/sys_notice/org_all.json?" + Date.now() + Math.random()
                            , s = await this.$http.get(t, { withCredentials: !1 })
                            , i = s.data;
                        !this.clicked && i.enable && this.$Spin.show({
                            render: () => e("div", {
                                style: "width: 600px; border: 1px solid #999; border-radius: 5px; padding: 20px; color: black"
                            }, [e("div", {
                                style: "font-size: 28px"
                            }, [i.title]), e("div", {
                                style: "font-size: 18px; text-align: left"
                            }, [i.content.repeat(1)]), e("div", [e("Button", {
                                attrs: {
                                    size: "large",
                                    long: !0
                                },
                                class: "qm-primary-button",
                                style: "margin-top: 30px; width: 160px",
                                on: {
                                    click: this.clickBtn
                                }
                            }, ["纭畾"])])])
                        })
                    },
                    clickBtn() {
                        this.logger({
                            page: "GlobalNotice",
                            button: "纭畾鎸夐挳",
                            action: "鐐瑰嚮"
                        }),
                            this.clicked = !0
                    }
                }
            }
            , r = n
            , c = s("2877")
            , l = Object(c["a"])(r, i, a, !1, null, null, null);
        t["a"] = l.exports
    },
    f6a7: function (e, t, s) { },
    f748: function (e, t, s) { },
    f8fb: function (e, t, s) { },
    f9c5: function (e, t, s) {
        "use strict";
        var i = s("94b9")
            , a = s.n(i);
        a.a
    },
    fdd6: function (e, t, s) { },
    ff04: function (e, t, s) {
        "use strict";
        s.d(t, "a", (function () {
            return n
        }));
        var i = s("bc3a")
            , a = s.n(i)
            , o = s("823b");
        async function n({ action: e, limit: t = 100 }) {
            let s = null
                , i = !1;
            try {
                if (s = await a.a.get(`https://tcc.qmth.com.cn/rate_limit/prod/${e}/${t}`, { timeout: 1e4 }),
                    i = s.data.pass,
                    Object(o["b"])({
                        action: "绗竴娆￠檺娴佽皟鐢�",
                        limitAction: e,
                        detail: i ? "杩涘叆" : "闄愭祦"
                    }),
                    !i) {
                    s = null;
                    const n = 4 * Math.random() + 1;
                    console.log({
                        sleepTime: n,
                        now: Date.now()
                    }),
                        await new Promise(e => setTimeout(e, 1e3 * n)),
                        console.log({
                            sleepTime: n,
                            now: Date.now()
                        }),
                        s = await a.a.get(`https://tcc.qmth.com.cn/rate_limit/prod/${e}/${t}`, { timeout: 1e4 }),
                        i = s.data.pass,
                        Object(o["b"])({
                            action: "闄愭祦鍚庤嚜鍔ㄩ噸璇�",
                            limitAction: e,
                            detail: i ? "杩涘叆" : "渚濈劧闄愭祦"
                        })
                }
            } catch (n) {
                console.log(n),
                    window._hmt.push(["_trackEvent", e, "鑾峰彇rateLimit澶辫触"])
            }
            return {
                limitResult: i,
                serverOk: !!s
            }
        }
    }
});
//# sourceMappingURL=app.9e67cac0.js.map(function (e) {
    function t(t) {
        for (var i, n, r = t[0], c = t[1], l = t[2], u = 0, h = []; u < r.length; u++)
            n = r[u],
                Object.prototype.hasOwnProperty.call(a, n) && a[n] && h.push(a[n][0]),
                a[n] = 0;
        for (i in c)
            Object.prototype.hasOwnProperty.call(c, i) && (e[i] = c[i]);
        d && d(t);
        while (h.length)
            h.shift()();
        return o.push.apply(o, l || []),
            s()
    }
    function s() {
        for (var e, t = 0; t < o.length; t++) {
            for (var s = o[t], i = !0, r = 1; r < s.length; r++) {
                var c = s[r];
                0 !== a[c] && (i = !1)
            }
            i && (o.splice(t--, 1),
                e = n(n.s = s[0]))
        }
        return e
    }
    var i = {}
        , a = {
            app: 0
        }
        , o = [];
    function n(t) {
        if (i[t])
            return i[t].exports;
        var s = i[t] = {
            i: t,
            l: !1,
            exports: {}
        };
        return e[t].call(s.exports, s, s.exports, n),
            s.l = !0,
            s.exports
    }
    n.m = e,
        n.c = i,
        n.d = function (e, t, s) {
            n.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: s
            })
        }
        ,
        n.r = function (e) {
            "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
        }
        ,
        n.t = function (e, t) {
            if (1 & t && (e = n(e)),
                8 & t)
                return e;
            if (4 & t && "object" === typeof e && e && e.__esModule)
                return e;
            var s = Object.create(null);
            if (n.r(s),
                Object.defineProperty(s, "default", {
                    enumerable: !0,
                    value: e
                }),
                2 & t && "string" != typeof e)
                for (var i in e)
                    n.d(s, i, function (t) {
                        return e[t]
                    }
                        .bind(null, i));
            return s
        }
        ,
        n.n = function (e) {
            var t = e && e.__esModule ? function () {
                return e["default"]
            }
                : function () {
                    return e
                }
                ;
            return n.d(t, "a", t),
                t
        }
        ,
        n.o = function (e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        ,
        n.p = "/oe-web/";
    var r = window["webpackJsonp"] = window["webpackJsonp"] || []
        , c = r.push.bind(r);
    r.push = t,
        r = r.slice();
    for (var l = 0; l < r.length; l++)
        t(r[l]);
    var d = c;
    o.push([0, "chunk-vendors"]),
        s()
})({
    0: function (e, t, s) {
        e.exports = s("56d7")
    },
    "034f": function (e, t, s) {
        "use strict";
        var i = s("f195")
            , a = s.n(i);
        a.a
    },
    "071d": function (e, t, s) {
        "use strict";
        var i = s("7cb1")
            , a = s.n(i);
        a.a
    },
    "097c": function (e, t, s) {
        "use strict";
        var i = s("81ef")
            , a = s.n(i);
        a.a
    },
    "0af9": function (e, t, s) { },
    "0ce7": function (e, t, s) { },
    "0e91": function (e, t, s) {
        "use strict";
        var i = s("c3ab")
            , a = s.n(i);
        a.a
    },
    "0f11": function (e, t, s) {
        e.exports = s.p + "img/back.84c70c73.svg"
    },
    "0f90": function (e, t, s) {
        "use strict";
        var i = s("7f41")
            , a = s.n(i);
        a.a
    },
    1: function (e, t) { },
    1018: function (e, t, s) {
        "use strict";
        var i = s("78d8")
            , a = s.n(i);
        a.a
    },
    1121: function (e, t, s) { },
    "123d": function (e, t, s) { },
    "14b7": function (e, t, s) { },
    "15ad": function (e, t, s) {
        "use strict";
        s.d(t, "a", (function () {
            return o
        })),
            s.d(t, "b", (function () {
                return n
            })),
            s.d(t, "d", (function () {
                return r
            })),
            s.d(t, "c", (function () {
                return l
            }));
        s("5319"),
            s("498a"),
            s("ddb0");
        var i = s("823b")
            , a = s("2ef0");
        function o(e, t) {
            if ("undefined" == typeof nodeRequire)
                throw console.log("nodeRequire failed"),
                window._hmt.push(["_trackEvent", window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "不在Electron中，调用 " + e + " 失败"]),
                Object(i["b"])({
                    page: window.location.pathname,
                    action: "不在Electron中，调用 " + e + " 失败"
                }),
                new Error("不在Electron中，调用 " + e + " 失败");
            return new Promise(s => {
                window.nodeRequire("node-cmd").get("cmd /c chcp 65001>nul && " + e, async (a, n, r) => {
                    if (console.log(e, a, n),
                        Object(i["b"])({
                            page: window.location.pathname,
                            exeName: e,
                            error: JSON.stringify(a),
                            data: n,
                            stderr: JSON.stringify(r),
                            absPath: e.includes(":")
                        }),
                        !e.includes(":") && a) {
                        const s = window.nodeRequire("electron").remote.require("fs")
                            , i = window.nodeRequire("electron").remote.require("path")
                            , [a, n] = e.split(" ")
                            , r = i.join(window.nodeRequire("electron").remote.app.getAppPath(), "../../", a);
                        if (s.existsSync(r))
                            try {
                                await o([r, n].join(" ").trim(), t)
                            } catch (c) {
                                console.log("second try error", r)
                            }
                    }
                    await new Promise(e => setTimeout(() => e(), 1e3));
                    try {
                        await t()
                    } catch (l) {
                        console.log("call cb failed", l)
                    } finally {
                        s()
                    }
                }
                )
            }
            )
        }
        function n(e) {
            if ("undefined" == typeof nodeRequire)
                throw console.log("nodeRequire failed"),
                window._hmt.push(["_trackEvent", window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "不在Electron中，调用 fs 失败"]),
                Object(i["b"])({
                    page: window.location.pathname,
                    action: "不在Electron中，调用 fs 失败"
                }),
                new Error("不在Electron中，调用 fs 失败");
            return window.nodeRequire("fs").existsSync(e)
        }
        function r() {
            Object(i["b"])({
                page: window.location.pathname,
                action: "nodeCheckRemoteDesktop"
            });
            try {
                const e = window.nodeRequire("child_process").execSync("cmd /c chcp 65001>nul && tasklist /FO CSV").toString();
                if (!e)
                    return {};
                if (e.match(/sunloginclient/gi) && e.match(/sunloginclient/gi).length > 0 || e.match(/向日葵/gi) && e.match(/向日葵/gi).length > 0 || e.match(/选择免安装运行，截图识别/gi) && e.match(/选择免安装运行，截图识别/gi).length > 0)
                    return {
                        hasSun: !0
                    };
                if (e.match(/todesk/gi) && e.match(/todesk/gi).length > 0)
                    return {
                        hasTodesk: !0
                    }
            } catch (e) {
                console.log(e)
            }
            return {}
        }
        let c = [];
        function l() {
            try {
                let e = window.nodeRequire("child_process").execSync("cmd /c chcp 65001>nul && tasklist /FO CSV").toString();
                e = e.split("\r\n"),
                    e.shift(),
                    e = e.map(e => e.split(",")[0]);
                const t = Object(a["xor"])(c, e);
                t && t.length > 0 && Object(i["b"])({
                    page: window.location.pathname,
                    action: "nodeCheckProcess",
                    xorRes: t.join(" ||| ")
                }),
                    c = e
            } catch (e) {
                console.log("nodeCheckProcess exec error: ", e)
            }
        }
    },
    "170f": function (e, t, s) { },
    "17b4": function (e, t, s) {
        "use strict";
        s("ddb0");
        t["a"] = function (e, t) {
            const s = new Map;
            return function (i) {
                const a = i;
                if (t.some(e => i.match(e))) {
                    if (s.has(a)) {
                        const e = s.get(a);
                        return e
                    }
                    {
                        const t = e(...arguments);
                        return t.then(e => (200 === e.status && s.set(a, t),
                            t))
                    }
                }
                {
                    const t = e(...arguments);
                    return t
                }
            }
        }
    },
    "18a7": function (e, t, s) { },
    "1c71": function (e, t, s) {
        "use strict";
        var i = s("949d")
            , a = s.n(i);
        a.a
    },
    "1eee": function (e, t, s) { },
    2: function (e, t) { },
    "21d8": function (e, t, s) {
        "use strict";
        var i = function () {
            var e = this
                , t = e.$createElement
                , s = e._self._c || t;
            return s("div")
        }
            , a = []
            , o = {
                name: "DevTools",
                created() {
                    if ("undefined" != typeof nodeRequire) {
                        let e = !1
                            , t = !1
                            , s = [];
                        this.listener = document.addEventListener("keydown", (function (i) {
                            e && t && (s.push(i.code[i.code.length - 1]),
                                s.join("").toLowerCase() === window.QECSConfig.STUDENT_CLIENT_CONSOLE_CONFIG && window.nodeRequire("electron").remote.getCurrentWindow().toggleDevTools()),
                                i.ctrlKey && i.shiftKey && "KeyU" === i.code && (e = !0,
                                    setTimeout(() => {
                                        e = !1,
                                            t = !1,
                                            s = []
                                    }
                                        , 5e3)),
                                e && i.ctrlKey && i.shiftKey && "KeyP" === i.code && (t = !0)
                        }))
                    }
                },
                beforeDestroy() {
                    this.listener && document.removeEventListener(this.listener)
                }
            }
            , n = o
            , r = s("2877")
            , c = Object(r["a"])(n, i, a, !1, null, null, null);
        t["a"] = c.exports
    },
    "240b": function (e, t, s) { },
    2517: function (e, t, s) { },
    "287f": function (e, t, s) {
        "use strict";
        var i = s("2517")
            , a = s.n(i);
        a.a
    },
    "28be": function (e, t, s) { },
    2941: function (e, t, s) { },
    "2d57": function (e, t, s) {
        "use strict";
        var i = s("5785")
            , a = s.n(i);
        a.a
    },
    "2df4": function (e, t, s) {
        "use strict";
        var i = s("e42f")
            , a = s.n(i);
        a.a
    },
    "2e2a": function (e, t, s) {
        "use strict";
        var i = s("f6a7")
            , a = s.n(i);
        a.a
    },
    3: function (e, t) { },
    3220: function (e, t, s) {
        "use strict";
        var i = s("123d")
            , a = s.n(i);
        a.a
    },
    3429: function (e, t, s) {
        "use strict";
        var i = s("18a7")
            , a = s.n(i);
        a.a
    },
    4053: function (e, t, s) {
        "use strict";
        var i = s("f748")
            , a = s.n(i);
        a.a
    },
    "40c2": function (e, t, s) { },
    "41cb": function (e, t, s) {
        "use strict";
        var i = s("2b0e")
            , a = s("8c4f")
            , o = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "page-404"
                }, [s("h1", [e._v("页面不存在!")]), s("br"), s("br"), s("div", [s("Button", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        size: "large",
                        long: ""
                    },
                    on: {
                        click: e.goLogin
                    }
                }, [e._v(" 返回登录页 ")])], 1)])
            }
            , n = []
            , r = {
                name: "Page404",
                methods: {
                    goLogin() {
                        this.logger({
                            page: "Page404",
                            button: "返回登录页按钮",
                            action: "点击"
                        }),
                            this.$router.push("/login/")
                    }
                }
            }
            , c = r
            , l = (s("dffe"),
                s("2877"))
            , d = Object(l["a"])(c, o, n, !1, null, "512712ed", null)
            , u = d.exports
            , h = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 当前所在位置： "), s("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), s("div", {
                    staticClass: "home"
                }, [s("ecs-online-list", {
                    attrs: {
                        courses: e.courses,
                        "end-courses": e.endCourses,
                        "exam-type": e.examType
                    }
                })], 1), s("PhoneVerifyForDD"), s("PrivacyDialog")], 1)
            }
            , m = []
            , p = s("f3f3")
            , _ = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "list"
                }, [s("div", {
                    staticStyle: {
                        display: "flex",
                        "margin-bottom": "10px"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    class: "EXAMING" != e.selectExamState && "disable-button",
                    staticStyle: {
                        "margin-right": "20px"
                    },
                    on: {
                        click: function (t) {
                            e.selectExamState = "EXAMING"
                        }
                    }
                }, [e._v(" 待考列表 ")]), "ONLINE" === e.examType ? s("Button", {
                    staticClass: "qm-primary-button",
                    class: "EXAM_END" != e.selectExamState && "disable-button",
                    on: {
                        click: function (t) {
                            e.selectExamState = "EXAM_END"
                        }
                    }
                }, [e._v(" 已结束考试 ")]) : e._e()], 1), "EXAMING" == e.selectExamState ? s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("课程")]), e.isEpcc ? e._e() : s("td", {
                    key: "cc"
                }, [e._v("层次")]), e.isEpcc ? e._e() : s("td", {
                    key: "zy"
                }, [e._v("专业")]), s("td", [e._v("考试进入时间")]), s("td", [e._v("考试时间周期")]), s("td", [e._v("剩余考试次数")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("操作")])]), e._l(e.courses, (function (t) {
                    return s("tr", {
                        key: t.examId + t.courseId
                    }, [s("td", [e._v(e._s(t.courseName))]), e.isEpcc ? e._e() : s("td", {
                        key: "cc"
                    }, [e._v(e._s(t.courseLevel))]), e.isEpcc ? e._e() : s("td", {
                        key: "zy"
                    }, [e._v(e._s(t.specialtyName))]), s("td", [e._v(" " + e._s(t.startTime) + " "), s("br"), e._v(" ~ "), s("br"), e._v(" " + e._s(t.endTime) + " ")]), s("td", [s("span", {
                        domProps: {
                            innerHTML: e._s(e.cycleDesc(t))
                        }
                    })]), s("td", [e._v(e._s(t.allowExamCount))]), s("td", {
                        staticStyle: {
                            "min-width": "180px"
                        }
                    }, [s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-template-columns": "repeat(auto-fit, minmax(100px, 1fr))",
                            "grid-gap": "10px"
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        attrs: {
                            disabled: e.disableTheCourse(t) || e.spinShow || e.enterButtonClicked,
                            title: e.disableTheCourse(t) ? e.disableReason(t) : ""
                        },
                        on: {
                            click: function (s) {
                                return e.raceEnter(t)
                            }
                        }
                    }, [e._v(" 进入考试" + e._s(e.countdown > 0 ? "(" + e.countdown + ")" : "") + " ")]), e.isEpcc ? e._e() : s("Poptip", {
                        staticClass: "online-exam-list-override-poptip",
                        attrs: {
                            trigger: t.isObjScoreView ? "hover" : "click",
                            placement: "left"
                        },
                        on: {
                            "on-popper-show": function (s) {
                                e.overFlowStyle = !0,
                                    e.cid = t.courseId
                            },
                            "on-popper-hide": function (t) {
                                e.overFlowStyle = !1,
                                    e.cid = null
                            }
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        staticStyle: {
                            width: "100%"
                        },
                        attrs: {
                            disabled: !t.isObjScoreView
                        }
                    }, [e._v(" 客观分 ")]), s("ecs-online-exam-result-list", {
                        attrs: {
                            slot: "content",
                            "popper-show": e.cid === t.courseId,
                            "exam-student-id": t.examStudentId
                        },
                        slot: "content"
                    })], 1)], 1)])])
                }))], 2)]) : e._e(), "ONLINE" === e.examType && "EXAM_END" === e.selectExamState ? s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("课程")]), e.isEpcc ? e._e() : s("td", {
                    key: "cc"
                }, [e._v("层次")]), e.isEpcc ? e._e() : s("td", {
                    key: "zy"
                }, [e._v("专业")]), s("td", [e._v("考试进入时间")]), s("td", [e._v("考试时间周期")]), s("td", [e._v("剩余考试次数")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("操作")])]), e._l(e.endCourses, (function (t) {
                    return s("tr", {
                        key: t.examId + t.courseId
                    }, [s("td", [e._v(e._s(t.courseName))]), e.isEpcc ? e._e() : s("td", {
                        key: "cc"
                    }, [e._v(e._s(t.courseLevel))]), e.isEpcc ? e._e() : s("td", {
                        key: "zy"
                    }, [e._v(e._s(t.specialtyName))]), s("td", [e._v(" " + e._s(t.startTime) + " "), s("br"), e._v(" ~ "), s("br"), e._v(" " + e._s(t.endTime) + " ")]), s("td", [s("span", {
                        domProps: {
                            innerHTML: e._s(e.cycleDesc(t))
                        }
                    })]), s("td", [e._v(e._s(t.allowExamCount))]), s("td", {
                        staticStyle: {
                            "min-width": "180px"
                        }
                    }, [s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-template-columns": "repeat(auto-fit, minmax(100px, 1fr))",
                            "grid-gap": "10px"
                        }
                    }, [e.isEpcc ? e._e() : s("Poptip", {
                        staticClass: "online-exam-list-override-poptip",
                        attrs: {
                            trigger: t.isObjScoreView ? "hover" : "click",
                            placement: "left"
                        },
                        on: {
                            "on-popper-show": function (s) {
                                e.overFlowStyle = !0,
                                    e.cid = t.courseId
                            },
                            "on-popper-hide": function (t) {
                                e.overFlowStyle = !1,
                                    e.cid = null
                            }
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        staticStyle: {
                            width: "100%"
                        },
                        attrs: {
                            disabled: !t.isObjScoreView
                        }
                    }, [e._v(" 客观分 ")]), s("ecs-online-exam-result-list", {
                        attrs: {
                            slot: "content",
                            "popper-show": e.cid === t.courseId,
                            "exam-student-id": t.examStudentId
                        },
                        slot: "content"
                    })], 1)], 1)])])
                }))], 2)]) : e._e(), e.spinShow ? s("Spin", {
                    attrs: {
                        size: "large",
                        fix: ""
                    }
                }, [e._v(e._s(e.processingMessage))]) : e._e(), s("OnlineExamFaceCheckModal", {
                    attrs: {
                        open: e.faceCheckModalOpen,
                        course: e.selectedCourse
                    }
                }), s("Modal", {
                    ref: "checkEnvModal",
                    attrs: {
                        title: "环境检测",
                        "footer-hide": "",
                        width: "800",
                        closable: !1,
                        "mask-closable": !1
                    },
                    model: {
                        value: e.shouldShowCheckEnvModal,
                        callback: function (t) {
                            e.shouldShowCheckEnvModal = t
                        },
                        expression: "shouldShowCheckEnvModal"
                    }
                }, [e.shouldShowCheckEnvModal ? s("CheckComputer", {
                    on: {
                        "on-close": e.resumeEnterExam
                    }
                }) : e._e()], 1), s("CommittmentDialog", {
                    ref: "committmentDialogRef",
                    attrs: {
                        content: e.committmentHtmlContent
                    }
                })], 1)
            }
            , g = []
            , w = s("2f62")
            , f = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(0), e._l(e.results, (function (t, i) {
                    return s("tr", {
                        key: i
                    }, [s("td", [e._v(e._s(t.examOrder))]), s("td", [e._v(e._s(t.startTime))]), s("td", [e._v(e._s(t.endTime))]), t.isExamEnded ? t.isAuditing ? s("td", [e._v("审核中")]) : t.isIllegality ? s("td", [e._v("违纪")]) : s("td", [e._v(e._s(t.objectiveScore))]) : s("td", [e._v("分数计算中")])])
                })), e.loading ? s("tr", [e._v(" 加载中 ")]) : e._e()], 2)])])
            }
            , v = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("次数")]), s("td", [e._v("开始时间")]), s("td", [e._v("交卷时间")]), s("td", [e._v("客观分")])])
            }
            ]
            , y = (s("4e82"),
            {
                name: "EcsOnlineExamResultList",
                props: {
                    examStudentId: {
                        type: Number,
                        default: 0
                    },
                    popperShow: {
                        type: Boolean,
                        default: !1
                    }
                },
                data() {
                    return {
                        loading: !0,
                        results: []
                    }
                },
                watch: {
                    async popperShow() {
                        if (this.popperShow)
                            try {
                                const e = (await this.$http.get("/api/branch_ecs_oe_admin/exam/score/queryObjectiveScoreList?examStudentId=" + this.examStudentId)).data;
                                this.results = (e || []).sort((e, t) => t.examOrder - e.examOrder).slice(0, 10),
                                    this.loading = !1
                            } catch (e) {
                                this.$Message.error({
                                    content: "查询客观分列表出错！",
                                    duration: 15,
                                    closable: !0
                                })
                            }
                    }
                }
            })
            , b = y
            , x = (s("4e61"),
                Object(l["a"])(b, f, v, !1, null, "7434a322", null))
            , E = x.exports
            , S = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    attrs: {
                        width: "900",
                        "mask-closable": !1,
                        closable: !1
                    },
                    on: {
                        "on-visible-change": e.updateCameraState
                    },
                    model: {
                        value: e.faceCheckModalOpen,
                        callback: function (t) {
                            e.faceCheckModalOpen = t
                        },
                        expression: "faceCheckModalOpen"
                    }
                }, [s("div", {
                    staticStyle: {
                        display: "flex",
                        "justify-content": "space-between",
                        "align-items": "center"
                    },
                    attrs: {
                        slot: "header"
                    },
                    slot: "header"
                }, [s("div", {
                    staticClass: "qm-title-text"
                }, [e._v("人脸识别")]), s("Icon", {
                    staticClass: "qm-icon-button",
                    attrs: {
                        type: "ios-close",
                        size: "24"
                    },
                    on: {
                        click: e.closeModal
                    }
                })], 1), s("div", {
                    staticStyle: {
                        display: "grid",
                        "grid-template-columns": "200px 400px 1fr",
                        "grid-gap": "5px",
                        position: "relative"
                    }
                }, [s("div", {
                    staticClass: "avatar",
                    style: {
                        backgroundImage: "url('" + e.userPhoto + "')"
                    }
                }, [s("div", {
                    staticClass: "avatar-info",
                    staticStyle: {
                        "text-align": "center",
                        "margin-top": "260px",
                        color: "white"
                    }
                }, [s("span", {
                    staticStyle: {
                        "background-color": "rgba(0, 0, 0, 0.5)",
                        display: "inline-block",
                        padding: "6px 16px",
                        "border-radius": "6px"
                    }
                }, [e._v(" " + e._s(e.userPhoto ? "我的底照" : "无底照") + " ")])])]), s("div", {
                    staticClass: "camera"
                }, [e.faceCheckModalOpen ? s("FaceRecognition", {
                    attrs: {
                        width: "400",
                        height: "300",
                        "show-recognize-button": !0,
                        "close-camera": e.closeCamera
                    },
                    on: {
                        "on-recognize-result": e.getFaceRecognitionResult
                    }
                }) : e._e()], 1), s("div", {
                    staticClass: "verify-desc qm-primary-text"
                }, [s("h4", {
                    staticClass: "qm-big-text",
                    staticStyle: {
                        "font-weight": "bold"
                    }
                }, [e._v("操作提示：")]), s("p", [e._v("1.请先确保摄像头设备已连接并能正常工作；")]), s("p", [e._v("2.请保持光源充足，不要逆光操作；")]), s("p", [e._v(" 3.请保证脸部正面面向摄像头，并适当调整姿势保证整个脸部能够进入左侧识别画面； ")]), s("p", [e._v("4.系统识别通过后，将自动跳转进入考试界面；")])])]), s("div", {
                    attrs: {
                        slot: "footer"
                    },
                    slot: "footer"
                })])
            }
            , C = []
            , O = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [s("video", {
                    ref: "video",
                    attrs: {
                        id: "video",
                        width: e.width,
                        height: e.height,
                        autoplay: ""
                    }
                }), e.showRecognizeButton ? s("div", {
                    staticStyle: {
                        position: "absolute",
                        width: "400px",
                        "text-align": "center",
                        "margin-top": "-50px",
                        color: "#232323"
                    }
                }, [s("button", {
                    class: ["verify-button", e.disableSnap && "disable-verify-button"],
                    attrs: {
                        disabled: e.disableSnap
                    },
                    on: {
                        click: e.snap
                    }
                }, [e._v(" " + e._s(e.msg) + " ")])]) : e._e()])
            }
            , I = []
            , k = (s("5319"),
                s("498a"),
                s("ddb0"),
                s("2b3d"),
                s("8237"))
            , T = s.n(k)
            , A = s("685a");
        const { mapState: P, mapMutations: M } = Object(w["a"])("examingHomeModule");
        var D = {
            name: "FaceRecognition",
            props: {
                width: {
                    type: String,
                    default: "400"
                },
                height: {
                    type: String,
                    default: "300"
                },
                showRecognizeButton: Boolean,
                closeCamera: Boolean
            },
            data() {
                return {
                    disableSnap: !0,
                    msg: "开始识别"
                }
            },
            computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user"])), P(["snapNow"])),
            watch: {
                snapNow(e) {
                    e && (!this.lastSnapTime || Date.now() - this.lastSnapTime > 2e4 ? (this.lastSnapTime = Date.now(),
                        this.snapTimer()) : (window._hmt.push(["_trackEvent", "摄像头框", "上次的抓拍未超过20秒，本次抓拍指令取消"]),
                            this.logger({
                                page: "摄像头框",
                                action: "抓拍取消",
                                detail: "上次的抓拍未超过20秒，本次抓拍指令取消"
                            }),
                            this.decreaseSnapCount()),
                        this.toggleSnapNow())
                },
                closeCamera: function (e) {
                    e ? (console.log("关闭摄像头"),
                        window.__stream = null,
                        this.$refs.video.srcObject && (this.$refs.video.srcObject.getTracks().forEach((function (e) {
                            e.stop()
                        })),
                            this.$refs.video.srcObject = null)) : this.openCamera()
                }
            },
            async mounted() {
                window.__stream = null,
                    this.openCamera()
            },
            beforeDestroy() {
                clearTimeout(this.retrySnapTimeout),
                    clearTimeout(this.showSnapResultTimeout),
                    window.__stream = null,
                    this.$refs.video.srcObject && (this.$refs.video.srcObject.getTracks().forEach((function (e) {
                        e.stop()
                    })),
                        this.$refs.video.srcObject = null)
            },
            methods: Object(p["a"])(Object(p["a"])({}, M(["toggleSnapNow", "decreaseSnapCount"])), {}, {
                async openCamera() {
                    const e = Date.now()
                        , t = this.$refs.video;
                    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia)
                        try {
                            console.log("启动摄像头"),
                                this.logger({
                                    action: "启动摄像头"
                                }),
                                console.log({
                                    getSupportedConstraints: navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints()
                                }),
                                this.logger({
                                    action: "摄像头打开",
                                    detail: "摄像头getSupportedConstraints",
                                    getSupportedConstraints: navigator.mediaDevices.getSupportedConstraints && JSON.stringify(navigator.mediaDevices.getSupportedConstraints())
                                });
                            const i = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user", aspectRatio: 4 / 3, resizeMode: "crop-and-scale", width: 640, height: 480 } });
                            if (i) {
                                {
                                    const e = i.getVideoTracks()[0];
                                    e && e.getCapabilities && e.getConstraints && e.getSettings ? console.log({
                                        getCapabilities: e.getCapabilities && e.getCapabilities(),
                                        getConstraints: e.getConstraints && e.getConstraints(),
                                        getSettings: e.getSettings && e.getSettings()
                                    }) : console.log("stream.getVideoTracks()[0] failed")
                                }
                                t.srcObject = i,
                                    window.__stream = i;
                                try {
                                    try {
                                        await t.play()
                                    } catch (s) {
                                        if ("AbortError" != s.name)
                                            throw s;
                                        console.log("AbortError and retry"),
                                            await t.play(),
                                            this.logger({
                                                action: "摄像头没有正常启用: AbortError 重试成功"
                                            }),
                                            window._hmt.push(["_trackEvent", "摄像头框", "摄像头状态", "摄像头没有正常启用: AbortError 重试成功"])
                                    }
                                    this.disableSnap = !1;
                                    const i = Date.now();
                                    window._hmt.push(["_trackEvent", "摄像头框", "摄像头打开耗时", Number(Math.floor((i - e) / 1e3)).toPrecision(1) + "秒"]),
                                        console.log("摄像头打开耗时", Math.floor((i - e) / 1e3) + "秒"),
                                        this.logger({
                                            action: "摄像头打开耗时",
                                            cost: i - e
                                        })
                                } catch (s) {
                                    console.log("摄像头没有正常启用", s),
                                        this.logger({
                                            action: "摄像头没有正常启用",
                                            detail: s,
                                            errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t),
                                            errorName: s.name,
                                            errorMessage: s.message,
                                            errorStack: s.stack
                                        }),
                                        this.$Message.error({
                                            content: "摄像头没有正常启用: " + s,
                                            duration: 15,
                                            closable: !0
                                        }),
                                        window._hmt.push(["_trackEvent", "摄像头框", "摄像头状态", "摄像头没有正常启用: " + s])
                                }
                            } else
                                this.logger({
                                    action: "摄像头打开失败",
                                    detail: "没有可用的视频流"
                                }),
                                    this.$Message.error({
                                        content: "没有可用的视频流",
                                        duration: 15,
                                        closable: !0
                                    }),
                                    window._hmt.push(["_trackEvent", "摄像头框", "摄像头状态", "没有可用的视频流"])
                        } catch (s) {
                            let e;
                            console.log("无法启用摄像头", s),
                                this.logger({
                                    action: "摄像头打开失败",
                                    detail: "无法启用摄像头",
                                    error: s.message
                                }),
                                e = s.name || s.message ? `${s.name} ${s.message}` : s,
                                "NotReadableError" === s.name ? this.$Message.error({
                                    content: "无法启用摄像头: " + s.name + " 请重试！",
                                    duration: 15,
                                    closable: !0
                                }) : "NotFoundError" === s.name || "DevicesNotFoundError" === s.name ? this.$Message.error({
                                    content: "无法启用摄像头: " + s.name + " 没有找到合适的摄像头！请重试或更换摄像头！",
                                    duration: 15,
                                    closable: !0
                                }) : this.$Message.error({
                                    content: "无法启用摄像头: " + s.name + e,
                                    duration: 15,
                                    closable: !0
                                });
                            const t = e + ("object" === typeof e ? JSON.stringify(e, (e, t) => "token" === e ? "" : t) : "");
                            this.logger({
                                action: "摄像头打开失败",
                                detail: "无法启用摄像头",
                                errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t),
                                errorName: s.name,
                                errorMessage: s.message,
                                errorStack: s.stack
                            }),
                                window._hmt.push(["_trackEvent", "摄像头框", "摄像头状态", "无法启用摄像头" + t])
                        }
                    else
                        this.logger({
                            action: "摄像头打开失败",
                            detail: "没有找到可用的摄像头"
                        }),
                            this.$Message.error({
                                content: "没有找到可用的摄像头",
                                duration: 15,
                                closable: !0
                            }),
                            window._hmt.push(["_trackEvent", "摄像头框", "摄像头状态", "没有找到可用的摄像头"])
                },
                async snapTimer() {
                    try {
                        this.logger({
                            action: "定时抓拍开始"
                        });
                        const e = this.$route.params.examRecordDataId
                            , t = await this.getSnapShot({ compareSync: !1 });
                        if (this.logger({
                            action: "抓拍照片的大小：" + t.size
                        }),
                            this.videoStartPlay(),
                            console.log("抓拍照片的大小：" + t.size),
                            t.size < 2304 || t.size >= 2097152)
                            throw window._hmt.push(["_trackEvent", "摄像头框", "定时抓拍照片大小异常" + A["a"].major, t.size < 2304 ? "小于 48 *48" : "大于 2 * 1024 * 1024"]),
                            this.logger({
                                action: "摄像头异常",
                                detail: "定时抓拍照片大小异常",
                                error: t.size
                            }),
                            new Error("定时抓拍照片大小异常");
                        const s = Date.now()
                            , [i, a] = await this.uploadToServer(t)
                            , o = Date.now();
                        this.logger({
                            action: "定时抓拍上传",
                            cost: o - s
                        }),
                            await this.faceCompare(i, a, e),
                            this.logger({
                                action: "定时抓拍比对",
                                cost: Date.now() - o
                            }),
                            console.log("定时抓拍流程成功", a)
                    } catch (e) {
                        console.log("定时抓拍流程失败", e),
                            this.logger({
                                action: "定时抓拍流程失败",
                                errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                                errorName: e.name,
                                errorMessage: e.message,
                                errorStack: e.stack
                            }),
                            window._hmt.push(["_trackEvent", "摄像头框", "定时抓拍流程失败" + e, (this.lastSnapTime ? "(非初次抓拍)" : "") + "将再次抓拍"]),
                            this.retrySnapTimeout = setTimeout(() => {
                                this.logger({
                                    action: "答题页面",
                                    detail: "定时抓拍流程失败后重试"
                                }),
                                    this.toggleSnapNow()
                            }
                                , 6e4)
                    } finally {
                        this.videoStartPlay(),
                            this.decreaseSnapCount()
                    }
                },
                videoStartPlay() {
                    const e = this.$refs.video;
                    e && e.play()
                },
                async snap() {
                    this.logger({
                        page: "同步人脸比对",
                        button: "开始识别按钮",
                        action: "点击"
                    }),
                        this.$Message.destroy();
                    try {
                        this.disableSnap = !0,
                            this.msg = "拍照中...";
                        const e = await this.getSnapShot({ compareSync: !0 });
                        if (console.log("抓拍照片大小", e.size),
                            e.size < 2304 || e.size >= 2097152)
                            throw this.$Message.error({
                                content: "抓拍照片太小！",
                                duration: 15,
                                closable: !0
                            }),
                            window._hmt.push(["_trackEvent", "摄像头框", "抓拍照片大小异常" + A["a"].major, e.size < 2304 ? "小于 48 *48" : "大于 2 * 1024 * 1024"]),
                            new Error("抓拍照片大小异常");
                        this.videoStartPlay(),
                            this.msg = "上传照片中...",
                            console.log(this.msg);
                        const [t, s] = await this.uploadToServer(e);
                        this.msg = "人脸比对中...",
                            console.log(this.msg),
                            await this.faceCompareSync(t, s),
                            this.logger({
                                action: "同步比对照片详细日志",
                                fileUrl: t,
                                signIdentifier: s
                            }),
                            console.log("人脸比对成功")
                    } catch (e) {
                        throw console.log("同步照片比对流程失败"),
                        e
                    } finally {
                        this.videoStartPlay(),
                            this.msg = "开始识别",
                            await new Promise(e => setTimeout(() => e(), 3e3)),
                            this.disableSnap = !1
                    }
                },
                async getSnapShot({ compareSync: e }) {
                    return new Promise((t, s) => {
                        const i = this.$refs.video;
                        if (4 !== i.readyState || !i.srcObject.active)
                            return this.$Message.error({
                                content: "摄像头没有正常启用",
                                duration: 5,
                                closable: !0
                            }),
                                window._hmt.push(["_trackEvent", "摄像头框", "摄像头状态", "摄像头没有正常启用" + (!e && this.lastSnapTime ? "-退出(非初次抓拍)" : "")]),
                                s("摄像头没有正常启用"),
                                void (e || this.logout("?LogoutReason=摄像头没有正常启用" + (!e && this.lastSnapTime ? "-退出(非初次抓拍)" : "")));
                        i.pause();
                        var a = document.createElement("canvas");
                        a.width = 220,
                            a.height = 165;
                        var o = a.getContext("2d");
                        o.drawImage(i, 0, 0, 220, 165),
                            a.toBlob(t, "image/png", .95)
                    }
                    )
                },
                async uploadToServer(e) {
                    async function t(e) {
                        return new Promise(t => {
                            var s = new FileReader;
                            s.addEventListener("loadend", (function () {
                                t(s.result)
                            })),
                                s.readAsArrayBuffer(e)
                        }
                        )
                    }
                    let s, i;
                    try {
                        const o = await t(e)
                            , n = window.btoa(String.fromCharCode(...T.a.digest(o)));
                        n === this.__previousFileMD5Base64 && this.logger({
                            page: "摄像头框",
                            detail: "抓拍照片异常",
                            error: "两次fileMd5Base64一样，疑似摄像头卡住"
                        }),
                            this.__duplicateMD5 = window.__previousPhotoMD5 === n,
                            window.__previousPhotoMD5 = n;
                        const r = new URLSearchParams;
                        r.append("fileSuffix", "png");
                        const c = await this.$http.get("/api/ecs_oe_student/examControl/getCapturePhotoYunSign?" + r);
                        let l = new FormData;
                        for (let [e, t] of Object.entries(c.data.formParams))
                            l.append(e, t);
                        l.append("file", e);
                        try {
                            const e = await fetch(c.data.formUrl, { method: "POST", body: l });
                            if (console.log(e, {
                                "res2.headers": e.headers,
                                'res2.headers.get("Content-MD5")': e.headers.get("Content-MD5"),
                                'res2.headers.get("Content-Type")': e.headers.get("Content-Type")
                            }),
                                !e.ok)
                                throw e.status;
                            if (e.headers.get("Content-MD5") != n)
                                throw window._hmt.push(["_trackEvent", "摄像头框", "抓拍照片保存失败--alioss content-md5 mismatch"]),
                                new Error("图片校验失败");
                            this.__previousFileMD5Base64 = n
                        } catch (a) {
                            throw this.logger({
                                page: "摄像头框",
                                detail: "抓拍照片保存失败",
                                errorJSON: JSON.stringify(a, (e, t) => "token" === e ? "" : t),
                                errorName: a.name,
                                errorMessage: a.message,
                                errorStack: a.stack
                            }),
                            window._hmt.push(["_trackEvent", "摄像头框", "抓拍照片保存失败", JSON.stringify(a, (e, t) => "token" === e ? "" : t)]),
                            a
                        }
                        s = c.data.accessUrl,
                            i = c.data.signIdentifier,
                            this.logger({
                                page: "摄像头框",
                                detail: "抓拍照片保存成功",
                                resultUrl: s,
                                fileMd5Base64: n
                            }),
                            window._hmt.push(["_trackEvent", "摄像头框", "抓拍照片保存成功"])
                    } catch (o) {
                        throw console.log(o),
                        this.logger({
                            page: "摄像头框",
                            detail: "保存抓拍照片到服务器失败！",
                            errorJSON: JSON.stringify(o, (e, t) => "token" === e ? "" : t),
                            errorName: o.name,
                            errorMessage: o.message,
                            errorStack: o.stack
                        }),
                        window._hmt.push(["_trackEvent", "摄像头框", "保存抓拍照片到服务器失败！"]),
                        this.$Message.error({
                            content: "抓拍照片保存失败！",
                            duration: 15,
                            closable: !0
                        }),
                        new Error("抓拍照片保存失败！")
                    }
                    return [s, i]
                },
                async faceCompareSync(e, t) {
                    try {
                        this.logger({
                            page: "摄像头框",
                            action: "同步比对开始"
                        });
                        const s = await this.$http.post("/api/ecs_oe_student_face/examCaptureQueue/compareFaceSync?signIdentifier=" + t + "&fileUrl=" + encodeURIComponent(e));
                        this.logger({
                            page: "摄像头框",
                            action: "同步比对成功"
                        }),
                            this.$emit("on-recognize-result", {
                                error: null,
                                pass: s.data.isPass,
                                stranger: s.data.isStranger
                            })
                    } catch (s) {
                        throw console.log(s),
                        this.logger({
                            page: "摄像头框",
                            action: "同步比对失败",
                            errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t),
                            errorName: s.name,
                            errorMessage: s.message,
                            errorStack: s.stack
                        }),
                        new Error("同步照片比较失败！")
                    }
                },
                async faceCompare(e, t, s) {
                    try {
                        let o, n = !1;
                        if ("undefined" != typeof nodeRequire)
                            try {
                                var i = window.nodeRequire("fs");
                                i.existsSync("multiCamera.exe") && await new Promise((e, t) => { window.nodeRequire("node-cmd").get("multiCamera.exe", () => { try { if (o = i.readFileSync("CameraInfo.txt", "utf-8"), o && o.trim() && (o = o.trim(), o = o.replace(/\r\n/g, ""), o = o.replace(/\n/g, ""), console.log(o), this.logger({ page: "摄像头框", cameraInfos: o })), o.includes('""') && (n = !0), o.includes("cameraInfo") && (o = JSON.stringify(JSON.parse(o).cameraInfo)), o.length >= 800) { this.logger({ page: "摄像头框", type: "虚拟摄像头-cameraInfos超长", cameraInfos: o }); let e = JSON.parse(o); const t = []; e = e.filter(e => { const s = e.pid + "|" + e.vid, i = t.includes(s); return t.push(s), !i }), o = JSON.stringify(e), console.log("摄像头检测超长：", "去除重复pid&vid"), console.log(o), o.length >= 800 && (o = JSON.stringify(JSON.parse(o).map(e => ({ pid: e.pid, vid: e.pid, detail: "omitted", name: e.name }))), console.log("摄像头检测超长：", "去除detail"), console.log(o)), o.length >= 800 && (console.log("摄像头检测超长：", "精简后还是超长"), this.logger({ page: "摄像头框", type: "虚拟摄像头-精简后还是超长", cameraInfos: o }), console.log(o)) } e() } catch (s) { this.logger({ page: "摄像头框", type: "虚拟摄像头-读取摄像头列表失败", errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t), errorName: s.name, errorMessage: s.message, errorStack: s.stack }), window._hmt.push(["_trackEvent", "摄像头框", "虚拟摄像头-读取摄像头列表失败"]), t("读取摄像头列表失败") } }) })
                            } catch (a) {
                                console.log(a)
                            }
                        let r = {
                            fileUrl: e,
                            signIdentifier: t,
                            examRecordDataId: s
                        };
                        o && (r.cameraInfos = o,
                            r.hasVirtualCamera = n,
                            this.logger({
                                action: "抓拍照片详细日志",
                                fileUrl: e,
                                signIdentifier: t,
                                examRecordDataId: s,
                                cameraInfos: o,
                                hasVirtualCamera: n,
                                duplicateMD5: this.__duplicateMD5
                            }));
                        const c = await this.$http.post("/api/ecs_oe_student_face/examCaptureQueue/uploadExamCapture", r)
                            , l = c.data;
                        try {
                            await this.showSnapResult(l, s)
                        } catch (a) {
                            this.logger({
                                page: "摄像头框",
                                action: "设置获取抓拍结果失败！",
                                errorJSON: JSON.stringify(a, (e, t) => "token" === e ? "" : t),
                                errorName: a.name,
                                errorMessage: a.message,
                                errorStack: a.stack
                            }),
                                this.$Message.error({
                                    content: "设置获取抓拍结果失败！",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    } catch (o) {
                        throw console.log(o),
                        this.logger({
                            page: "摄像头框",
                            action: "faceCompare失败",
                            error: o.response ? o.response.data.desc : o
                        }),
                        window._hmt.push(["_trackEvent", "摄像头框", "faceCompare失败", o.response ? o.response.data.desc : o]),
                        new Error("异步比较抓拍照片失败")
                    }
                },
                async showSnapResult(e, t) {
                    if (e && "OnlineExamingHome" === this.$route.name)
                        try {
                            const s = (await this.$http.get("/api/ecs_oe_student_face/examCaptureQueue/getExamCaptureResult?fileName=" + e + "&examRecordDataId=" + t)).data || {};
                            s.isCompleted ? s.isStranger ? this.$Message.error({
                                content: "请独立完成考试",
                                duration: 5,
                                closable: !0
                            }) : s.isPass || this.$Message.error({
                                content: "请调整坐姿，诚信考试",
                                duration: 5,
                                closable: !0
                            }) : this.showSnapResultTimeout = setTimeout(this.showSnapResult.bind(this, e, t), 3e4)
                        } catch (s) {
                            if (console.log(s),
                                "OnlineExamingHome" !== this.$route.name)
                                return;
                            throw this.$Message.error(s.message),
                            s.message
                        }
                },
                async nativeFaceDetectorStats() {
                    if (window.FaceDetector)
                        try {
                            var e = document.createElement("canvas");
                            e.width = 220,
                                e.height = 165;
                            var t = e.getContext("2d");
                            t.drawImage(this.$refs.video, 0, 0, 220, 165);
                            var s = new window.FaceDetector;
                            const i = await s.detect(e);
                            console.log("nativeFaceDetector", i),
                                window._hmt.push(["_trackEvent", "摄像头框", "native FaceDetector", "成功"])
                        } catch (i) {
                            console.log(i),
                                window._hmt.push(["_trackEvent", "摄像头框", "native FaceDetector", "失败"])
                        }
                    else
                        window._hmt.push(["_trackEvent", "摄像头框", "native FaceDetector", "没有能力"])
                }
            })
        }
            , R = D
            , L = (s("a156"),
                Object(l["a"])(R, O, I, !1, null, "140e61fb", null))
            , q = L.exports;
        const { mapState: j, mapMutations: N } = Object(w["a"])("examHomeModule");
        var B = {
            name: "OnlineExamFaceCheckModal",
            components: {
                FaceRecognition: q
            },
            props: {
                open: {
                    type: Boolean,
                    default: !1
                },
                course: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    userPhoto: this.$store.state.user.photoPath,
                    closeCamera: !1
                }
            },
            computed: Object(p["a"])({}, j(["faceCheckModalOpen"])),
            methods: Object(p["a"])(Object(p["a"])({}, N(["toggleFaceCheckModal"])), {}, {
                closeModal() {
                    this.logger({
                        page: "OnlineExamFaceCheckModal",
                        button: "关闭按钮",
                        action: "点击"
                    }),
                        this.closeCamera = !0,
                        this.toggleFaceCheckModal(!1)
                },
                updateCameraState(e) {
                    this.closeCamera = !e
                },
                getFaceRecognitionResult({ error: e, faceCount: t, pass: s }) {
                    return e ? (console.log("getFaceRecognitionResult", e, t, s),
                        this.logger({
                            action: "进入考试",
                            detail: "比对失败",
                            error: e,
                            faceCount: t,
                            pass: s
                        }),
                        void this.$Message.error(e)) : s ? (this.$Message.success({
                            content: "人脸比对成功",
                            duration: 5,
                            closable: !0
                        }),
                            window._hmt.push(["_trackEvent", "在线考试列表页面", "人脸比对框", "比对成功"]),
                            window._hmt.push(["_trackEvent", "在线考试列表页面", "进入考试", "人脸检测成功"]),
                            this.toggleFaceCheckModal(!1),
                            this.logger({
                                action: "进入考试",
                                detail: "人脸检测成功"
                            }),
                            void this.$router.push(`/online-exam/exam/${this.course.examId}/overview?examStudentId=${this.course.examStudentId}`)) : (this.$Message.error({
                                content: "人脸比对失败",
                                duration: 15,
                                closable: !0
                            }),
                                window._hmt.push(["_trackEvent", "在线考试列表页面", "人脸比对框", "比对失败"]),
                                void (this.course.faceCheck || (this.toggleFaceCheckModal(!1),
                                    this.$Modal.confirm({
                                        title: "郑重承诺",
                                        content: "我承诺由本人参加考试，并且同意接受考试监控系统信息审核，一经发现作弊，立即取消本门课程考试成绩。",
                                        onOk: () => {
                                            this.logger({
                                                action: "进入考试",
                                                detail: "承诺同意"
                                            }),
                                                this.$router.push(`/online-exam/exam/${this.course.examId}/overview?examStudentId=${this.course.examStudentId}`)
                                        }
                                    }))))
                }
            })
        }
            , $ = B
            , F = (s("c47a"),
                Object(l["a"])($, S, C, !1, null, "64f90cc9", null))
            , U = F.exports
            , Q = s("c1df")
            , W = s.n(Q)
            , V = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticStyle: {
                        "max-width": "800px",
                        margin: "30px auto"
                    }
                }, [s("Steps", {
                    attrs: {
                        current: e.current,
                        size: "small"
                    }
                }, [s("Step", {
                    attrs: {
                        title: "网速"
                    }
                }), s("Step", {
                    attrs: {
                        title: "时钟"
                    }
                }), s("Step", {
                    attrs: {
                        title: "摄像头"
                    }
                }), s("Step", {
                    attrs: {
                        title: "声音"
                    }
                }), s("Step", {
                    attrs: {
                        title: "微信小程序"
                    }
                }), s("Step", {
                    attrs: {
                        title: "检测结果"
                    }
                })], 1), 0 === e.current ? s("div", {
                    key: "0",
                    staticClass: "section"
                }, [s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(0), s("tr", [s("td", [e._v("电脑当前下载速度")]), s("td", [e._v(e._s(e.network.downlink) + "Mb")]), s("td", [e.network.downlinkStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "下载速度不佳",
                        type: "md-close"
                    }
                })], 1)])]), s("tr", [s("td", [e._v("电脑当前网络延迟")]), s("td", [e._v(e._s(e.network.rrt) + "毫秒")]), s("td", [e.network.rrtStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "网络延迟较大",
                        type: "md-close"
                    }
                })], 1)])])])])])]) : e._e(), 1 === e.current ? s("div", {
                    key: "1",
                    staticClass: "section"
                }, [s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(1), s("tr", [s("td", [e._v("电脑时区")]), s("td", [e._v(e._s(e.time.currentTimeZone))]), s("td", [e.time.timeZoneStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "请将电脑设置为北京时区",
                        type: "md-close"
                    }
                })], 1)])]), s("tr", [s("td", [e._v("电脑时钟频率")]), s("td", [e.time.clockRateStateResolved ? s("div", [e._v(" " + e._s(e.time.clockRateDiff > 3 ? "时钟过慢" : "正常") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.time.clockRateStateResolved ? s("div", [e.time.clockRateStatus ? s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                }) : s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "请更换电脑",
                        type: "md-close"
                    }
                })], 1) : s("div", [s("PulseLoader")], 1)])])])])])]) : e._e(), s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: 2 === e.current,
                        expression: "current === 2"
                    }],
                    key: "2",
                    staticClass: "section"
                }, [s("div", [s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("video", {
                    ref: "video",
                    attrs: {
                        id: "video",
                        width: "400",
                        height: "300",
                        autoplay: ""
                    }
                }), e.camera.openCameraResolved && e.camera.openCameraStatus ? s("div", {
                    staticStyle: {
                        "margin-left": "50px",
                        "margin-top": "100px"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "warning"
                    },
                    on: {
                        click: function (t) {
                            e.camera.identityResolved = !0,
                                e.camera.identityStatus = !1
                        }
                    }
                }, [e._v(" 图像中不是电脑操作者本人 ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "30px"
                    }
                }), s("Button", {
                    attrs: {
                        type: "primary"
                    },
                    on: {
                        click: function (t) {
                            e.camera.identityResolved = !0,
                                e.camera.identityStatus = !0
                        }
                    }
                }, [e._v(" 图像中是电脑操作者本人 ")])], 1) : e._e()])]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(2), s("tr", [s("td", [e._v("摄像头正常启用")]), s("td", [e.camera.openCameraResolved ? s("div", [e._v(" " + e._s(e.camera.openCameraStatus ? "正常" : "请检查摄像头") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.camera.openCameraResolved ? s("div", [e.camera.openCameraStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "请检查摄像头",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])]), s("tr", [s("td", [e._v("视频显示的是电脑操作者本人")]), s("td", [e.camera.openCameraResolved && !e.camera.openCameraStatus || e.camera.identityResolved ? s("div", [e._v(" " + e._s(e.camera.identityStatus ? "正常" : "请检查摄像头") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.camera.openCameraResolved && !e.camera.openCameraStatus || e.camera.identityResolved ? s("div", [e.camera.identityStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "请检查摄像头",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])])])])])]), s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: 3 === e.current,
                        expression: "current === 3"
                    }],
                    key: "3",
                    staticClass: "section",
                    staticStyle: {
                        "text-align": "center"
                    }
                }, [s("div", [s("div", {
                    staticStyle: {
                        display: "flex",
                        "margin-bottom": "30px"
                    }
                }, [s("audio", {
                    attrs: {
                        src: "https://ecs-static.qmth.com.cn/check-audio.mp3",
                        controls: "",
                        nodownload: ""
                    },
                    on: {
                        loadeddata: function (t) {
                            e.sound.downloadResolved = !0,
                                e.sound.downloadStatus = !0
                        },
                        error: function (t) {
                            e.sound.downloadResolved = !0,
                                e.sound.downloadStatus = !1
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "margin-left": "30px",
                        display: "flex"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "warning",
                        title: "或者听不到声音"
                    },
                    on: {
                        click: function (t) {
                            e.sound.playedStatusResolved = !0,
                                e.sound.playedStatus = !1
                        }
                    }
                }, [e._v(" 不能播放声音 ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "30px"
                    }
                }), s("Button", {
                    attrs: {
                        type: "primary"
                    },
                    on: {
                        click: function (t) {
                            e.sound.playedStatusResolved = !0,
                                e.sound.playedStatus = !0
                        }
                    }
                }, [e._v(" 能够播放声音 ")])], 1)])]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(3), s("tr", [s("td", [e._v("文件下载")]), s("td", [e.sound.downloadResolved ? s("div", [e._v(" " + e._s(e.sound.downloadStatus ? "正常" : "出错") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.sound.downloadResolved ? s("div", [e.sound.downloadStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "下载出错",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])]), s("tr", [s("td", [e._v("声音播放")]), s("td", [e.sound.playedStatusResolved ? s("div", [e._v(" " + e._s(e.sound.playedStatus ? "正常" : "出错") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.sound.playedStatusResolved ? s("div", [e.sound.playedStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "不能播放声音",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])])])])])]), s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: 4 === e.current,
                        expression: "current === 4"
                    }],
                    key: "4",
                    staticClass: "section"
                }, [s("div", [s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("div", [e.wechat.qrValue ? s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("qrcode", {
                    staticStyle: {
                        "margin-left": "-10px"
                    },
                    attrs: {
                        value: e.wechat.qrValue,
                        options: {
                            width: 200
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "margin-top": "10px"
                    }
                }, [e._m(4), e.wechat.qrScanned ? s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        "font-size": "30px"
                    }
                }, [e._v(" " + e._s(e.wechat.studentAnswer ? "已上传" : "已扫描") + " "), s("Icon", {
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : e._e()])], 1) : s("div", [e._v("正在获取二维码...")])])]), s("div", {
                    staticClass: "audio-answer audio-answer-line-height",
                    staticStyle: {
                        "margin-top": "20px",
                        "text-align": "left"
                    }
                }, [s("span", {
                    staticClass: "audio-answer-line-height"
                }, [e._v("上传文件：")]), e.wechat.studentAnswer ? s("audio", {
                    staticClass: "audio-answer-line-height",
                    attrs: {
                        controls: "",
                        controlsList: "nodownload",
                        src: e.wechat.studentAnswer
                    }
                }) : s("span", {
                    staticClass: "audio-answer-line-height"
                }, [e._v("未上传文件")])]), s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        display: "flex",
                        "margin-bottom": "30px"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "warning",
                        title: "扫码不成功"
                    },
                    on: {
                        click: function (t) {
                            e.wechat.qrScannedResolved = !0,
                                e.wechat.qrScanned = !1
                        }
                    }
                }, [e._v(" 不能正确扫描二维码 ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "30px"
                    }
                }), s("Button", {
                    attrs: {
                        type: "warning",
                        title: "上传不成功"
                    },
                    on: {
                        click: function (t) {
                            e.wechat.uploadResolved = !0,
                                e.wechat.uploadStatus = !1
                        }
                    }
                }, [e._v(" 上传不成功 ")])], 1)]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(5), s("tr", [s("td", [e._v("扫描二维码")]), s("td", [e.wechat.qrScannedResolved ? s("div", [e._v(" " + e._s(e.wechat.qrScanned ? "正常" : "出错") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.wechat.qrScannedResolved ? s("div", [e.wechat.qrScanned ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        title: "扫描出错",
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])]), s("tr", [s("td", [e._v("上传录音")]), s("td", [e.wechat.uploadResolved ? s("div", [e._v(" " + e._s(e.wechat.uploadStatus ? "正常" : "出错") + " ")]) : s("div", [s("PulseLoader")], 1)]), s("td", [e.wechat.uploadResolved ? s("div", [e.wechat.uploadStatus ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])])])])])]), s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: 5 === e.current,
                        expression: "current === 5"
                    }],
                    key: "5",
                    staticClass: "section"
                }, [s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(6), s("tr", [s("td", [e._v("网速")]), s("td", [e.step1Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)])]), s("tr", [s("td", [e._v("时钟")]), s("td", [e.step2StatusResolved ? s("div", [e.step2Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", [s("PulseLoader")], 1)])]), s("tr", [s("td", [e._v("摄像头")]), s("td", [e.step3StatusResolved ? s("div", [e.step3Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", {
                    staticClass: "fail-cross"
                }, [e._v(" 请在“摄像头”步骤进行人工确认！ ")])])]), s("tr", [s("td", [e._v("声音")]), s("td", [e.step4StatusResolved ? s("div", [e.step4Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", {
                    staticClass: "fail-cross"
                }, [e._v(" 请在“声音”步骤进行人工确认！ ")])])]), s("tr", [s("td", [e._v("微信小程序")]), s("td", [e.step5StatusResolved ? s("div", [e.step5Status ? s("div", [s("Icon", {
                    staticClass: "pass-check",
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : s("div", [s("Icon", {
                    staticClass: "fail-cross",
                    attrs: {
                        type: "md-close"
                    }
                })], 1)]) : s("div", {
                    staticClass: "fail-cross"
                }, [e._v(" 请在“微信小程序”步骤进行人工确认！ ")])])])])])]), s("div", {
                    staticStyle: {
                        color: "red"
                    }
                }, [e.step1Status ? e._e() : s("div", {
                    key: "a"
                }, [e._v(" 检查网络是否连接，路由器是否正常工作。 ")]), e.step2StatusResolved && !e.step2Status ? s("div", {
                    key: "b"
                }, [e._v(" 请调整电脑时间和社区与北京时间一致。 ")]) : e._e(), e.step3StatusResolved && !e.step3Status ? s("div", {
                    key: "c"
                }, [e._v(" 请确认摄像头连接线正常，能正常工作，关闭杀毒软件、关闭摄像头滤镜软件；请确认您的电脑是否为双摄摄像头，启用的摄像头是否正确。 ")]) : e._e(), e.step4StatusResolved && !e.step4Status ? s("div", {
                    key: "d"
                }, [e._v(" 请确认音箱连接正常，调整音量开关及大小。 ")]) : e._e(), e.step5StatusResolved && !e.step5Status ? s("div", {
                    key: "e"
                }, [e._v(" 请确认微信已登录并连接网络。 ")]) : e._e(), !e.step1Status || e.step2StatusResolved && !e.step2Status || e.step3StatusResolved && !e.step3Status || e.step4StatusResolved && !e.step4Status || e.step5StatusResolved && !e.step5Status ? s("div", {
                    key: "f"
                }, [e._v(" 请按提示检查并调试，调试后可再次进行环境检测。 ")]) : e._e()])]), s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        "text-align": "center"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "primary",
                        disabled: 0 === e.current
                    },
                    on: {
                        click: e.previous
                    }
                }, [e._v(" 上一步 ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "1px",
                        display: "inline-block"
                    }
                }), s("Button", {
                    attrs: {
                        type: "primary",
                        disabled: 5 === e.current
                    },
                    on: {
                        click: e.next
                    }
                }, [e._v(" 下一步 ")]), s("div", {
                    staticStyle: {
                        width: "30px",
                        height: "1px",
                        display: "inline-block"
                    }
                }), 5 === e.current ? s("Button", {
                    key: "xxx",
                    attrs: {
                        type: "primary"
                    },
                    on: {
                        click: function () {
                            return e.$emit("on-close")
                        }
                    }
                }, [e._v(" 进入考试 ")]) : e._e()], 1)], 1)
            }
            , H = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", {
                    staticClass: "first-td"
                }, [e._v("检查项")]), s("td", [e._v("值")]), s("td", [e._v("状态")])])
            }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("检查项")]), s("td", [e._v("值")]), s("td", [e._v("状态")])])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("检查项")]), s("td", [e._v("值")]), s("td", [e._v("状态")])])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("检查项")]), s("td", [e._v("值")]), s("td", [e._v("状态")])])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("div", {
                        staticStyle: {
                            "font-size": "30px"
                        }
                    }, [e._v(" 请使用"), s("span", {
                        staticStyle: {
                            "font-weight": "900",
                            color: "#1e90ff"
                        }
                    }, [e._v("微信")]), e._v("扫描二维码后，在微信小程序上录音，并上传文件。 ")])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("检查项")]), s("td", [e._v("值")]), s("td", [e._v("状态")])])
                }
                , function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("tr", {
                        staticClass: "list-header qm-primary-strong-text"
                    }, [s("td", {
                        staticClass: "first-td"
                    }, [e._v("检查项")]), s("td", [e._v("结果")])])
                }
            ]
            , z = s("b2e5")
            , K = s.n(z)
            , G = s("8a5d")
            , J = s("117e")
            , X = s("c0d6")
            , Y = s("e6fd")
            , Z = s("823b");
        let ee, te = !0, se = [];
        const ie = 6e3
            , ae = 5e4;
        let oe = 0
            , ne = !1;
        function re({ examRecordDataId: e }) {
            if (window._hmt.push(["_trackEvent", "websocket", "准备连接"]),
                console.log("in openWS", e),
                Object(Z["b"])({
                    type: "微信小程序websocket",
                    action: "准备连接",
                    examRecordDataId: e
                }),
                !ee || 0 !== ee.readyState && 1 !== ee.readyState) {
                if (ee && 3 !== ee.readyState) {
                    Object(Z["b"])({
                        type: "微信小程序websocket",
                        action: "准备连接-旧websocket状态不是关闭",
                        readyState: ee.readyState,
                        examRecordDataId: e
                    });
                    try {
                        ee.close()
                    } catch (t) {
                        Object(Z["b"])({
                            type: "微信小程序websocket",
                            action: "关闭ws异常。",
                            dtl: "再次关闭",
                            detail: t
                        })
                    }
                }
                try {
                    ee = new WebSocket(Y["m"] + `?key=${X["a"].state.user.key}&token=${X["a"].state.user.token}`)
                } catch (s) {
                    console.log(s),
                        J["a"].error({
                            content: "Websocket初始化失败",
                            duration: 5,
                            closable: !0
                        }),
                        console.log("WS init failed", e),
                        Object(Z["b"])({
                            type: "微信小程序websocket",
                            action: "Websocket初始化失败",
                            examRecordDataId: e
                        })
                }
                ne = !0,
                    ee.onopen = t => {
                        console.log("open ws", t),
                            Object(Z["b"])({
                                type: "微信小程序websocket",
                                action: "连接成功"
                            }),
                            oe = 0,
                            ee.onmessage = de,
                            ee.onclose = t => {
                                console.log("ws closed by server"),
                                    Object(Z["b"])({
                                        type: "微信小程序websocket",
                                        action: "ws closed by server",
                                        detail: JSON.stringify(t),
                                        stayAlive: ne
                                    });
                                for (const e of se)
                                    clearInterval(e);
                                se = [],
                                    te ? (console.log("close -> reconnect"),
                                        setTimeout(() => {
                                            oe++,
                                                oe >= 5 && (oe = 0,
                                                    location.href.includes("/order/") ? J["a"].error({
                                                        content: "Websocket重连失败",
                                                        duration: 5,
                                                        closable: !0
                                                    }) : te = !1),
                                                window._hmt.push(["_trackEvent", "websocket", "连接被关闭后-准备连接"]),
                                                Object(Z["b"])({
                                                    type: "微信小程序websocket",
                                                    action: "连接被关闭后-准备连接",
                                                    detail: "onclose"
                                                }),
                                                re({
                                                    examRecordDataId: e
                                                })
                                        }
                                            , ie)) : te = !0,
                                    ne && (Object(Z["b"])({
                                        type: "微信小程序websocket",
                                        action: "连接被关闭后-客户端不允许关闭-准备连接",
                                        detail: "onclose"
                                    }),
                                        setTimeout(() => re({
                                            examRecordDataId: e
                                        }), 5e3))
                            }
                            ,
                            ce()
                    }
                    ,
                    ee.onerror = t => {
                        Object(Z["b"])({
                            type: "微信小程序websocket",
                            action: "onerror",
                            error: JSON.stringify(t)
                        }),
                            setTimeout(() => {
                                oe++,
                                    oe >= 5 && (oe = 0,
                                        location.href.includes("/order/") ? (J["a"].error({
                                            content: "Websocket重连失败",
                                            duration: 5,
                                            closable: !0
                                        }),
                                            Object(Z["b"])({
                                                type: "微信小程序websocket",
                                                action: "Websocket重连失败",
                                                detail: "onerror"
                                            })) : te = !1),
                                    location.href.includes("/order/") ? (window._hmt.push(["_trackEvent", "websocket", "连接错误后-重新连接"]),
                                        Object(Z["b"])({
                                            type: "微信小程序websocket",
                                            action: "连接被关闭后-准备连接",
                                            detail: "onerror"
                                        }),
                                        re({
                                            examRecordDataId: e
                                        })) : window._hmt.push(["_trackEvent", "websocket", "连接错误后-不在答题页面-重新连接"])
                            }
                                , ie)
                    }
            } else
                Object(Z["b"])({
                    type: "微信小程序websocket",
                    action: "准备连接-旧websocket状态已经是开启或正在连接状态",
                    readyState: ee.readyState,
                    examRecordDataId: e
                })
        }
        function ce() {
            const e = setInterval(() => {
                ee.send(JSON.stringify({
                    eventType: "HEARTBEAT"
                }))
            }
                , ae);
            se.push(e)
        }
        function le() {
            Object(Z["b"])({
                type: "微信小程序websocket",
                action: "客户端准备关闭ws。"
            }),
                te = !1,
                ne = !1;
            try {
                ee && 1 === ee.readyState && ee.close()
            } catch (e) {
                console.log("关闭ws异常。"),
                    Object(Z["b"])({
                        type: "微信小程序websocket",
                        action: "关闭ws异常。",
                        detail: e
                    })
            }
        }
        function de(e) {
            let t;
            try {
                t = JSON.parse(e.data).content
            } catch (s) {
                return void window._hmt.push(["_trackEvent", "websocket", "JSON.parse出错" + s])
            }
            if (t)
                if (!t.eventType || "HEARTBEAT" === t.eventType || t.isSuccess)
                    switch (t.eventType) {
                        case "HEARTBEAT":
                            break;
                        case "SCAN_QR_CODE":
                            console.log("wx scanned qrcode", t),
                                window._hmt.push(["_trackEvent", "websocket", "二维码被扫描"]),
                                X["a"].commit("examingHomeModule/setQuestionQrCodeScanned", {
                                    order: t.data.order
                                });
                            break;
                        case "GET_FILE_ANSWER":
                            console.log("get file url", t),
                                window._hmt.push(["_trackEvent", "websocket", "获得音频地址"]),
                                X["a"].commit("examingHomeModule/setQuestionFileAnswerUrl", {
                                    order: t.data.order,
                                    fileUrl: t.data.fileUrl,
                                    transferFileType: t.data.transferFileType
                                });
                            break;
                        case "SYSTEM_ERROR":
                            console.log("ws get error", t);
                            break
                    }
                else
                    J["a"].error({
                        content: t.errorMessage,
                        duration: 10,
                        closable: !0
                    });
            else
                console.log("ws message format error", e)
        }
        const { mapState: ue } = Object(w["a"])("examingHomeModule")
            , he = 10;
        var me = {
            name: "CheckComputer",
            components: {
                qrcode: K.a,
                PulseLoader: G["a"]
            },
            data() {
                return {
                    current: 0,
                    network: {
                        downlink: navigator.connection.downlink,
                        downlinkStatus: navigator.connection.downlink > .5,
                        rrt: navigator.connection.rtt,
                        rrtStatus: navigator.connection.rtt < 1e3
                    },
                    time: {
                        currentTimeZone: W()().format("Z"),
                        timeZoneStatus: (new Date).getTimezoneOffset() / 60 === -8,
                        clockRateDiff: null,
                        clockRateStateResolved: !1,
                        clockRateStatus: !1
                    },
                    camera: {
                        openCameraResolved: !1,
                        openCameraStatus: !1,
                        identityStatus: !1,
                        identityResolved: !1
                    },
                    sound: {
                        downloadResolved: !1,
                        downloadStatus: !1,
                        playedStatusResolved: !1,
                        playedStatus: !1
                    },
                    wechat: {
                        qrValue: " ",
                        qrScannedResolved: !1,
                        qrScanned: !1,
                        uploadResolved: !1,
                        uploadStatus: !1,
                        studentAnswer: null,
                        examRecordDataId: null
                    }
                }
            },
            computed: Object(p["a"])(Object(p["a"])({}, ue(["questionQrCode", "questionQrCodeScanned", "questionAnswerFileUrl"])), {}, {
                timeCurrent() {
                    return W()(this.nowDate).utcOffset("+08:00").format("YYYY-MM-DD HH:mm:ssZZ")
                },
                step1Status() {
                    return this.network.downlinkStatus && this.network.rrtStatus
                },
                step2StatusResolved() {
                    return this.time.clockRateStateResolved
                },
                step2Status() {
                    return this.time.timeZoneStatus && this.time.clockRateStatus
                },
                step3StatusResolved() {
                    return this.camera.identityResolved && this.camera.openCameraResolved
                },
                step3Status() {
                    return this.camera.identityStatus && this.camera.openCameraStatus
                },
                step4StatusResolved() {
                    return this.sound.downloadResolved && this.sound.playedStatusResolved
                },
                step4Status() {
                    return this.sound.downloadStatus && this.sound.playedStatus
                },
                step5StatusResolved() {
                    return this.wechat.qrScannedResolved && this.wechat.uploadResolved
                },
                step5Status() {
                    return this.wechat.qrScanned && this.wechat.uploadStatus
                }
            }),
            watch: {
                questionQrCodeScanned() {
                    this.wechat.qrScanned = !0,
                        this.wechat.qrScannedResolved = !0
                },
                questionAnswerFileUrl(e) {
                    const t = this.wechat.examRecordDataId;
                    for (const s of e)
                        if (!s.saved) {
                            let e = "CONFIRMED";
                            this.$http.post("/api/ecs_oe_student/examControl/saveUploadedFileAcknowledgeStatus", {
                                examRecordDataId: t,
                                filePath: s.fileUrl,
                                order: s.order,
                                acknowledgeStatus: e
                            }).then(() => {
                                this.wechat.studentAnswer = s.fileUrl,
                                    this.wechat.uploadResolved = !0,
                                    this.wechat.uploadStatus = !0,
                                    s.saved = !0,
                                    "CONFIRMED" === e && this.$Message.info({
                                        content: "小程序作答已更新",
                                        duration: 5,
                                        closable: !0
                                    })
                            }
                            ).catch(() => {
                                this.$Message.error({
                                    content: "更新小程序答案失败！",
                                    duration: 15,
                                    closable: !0
                                })
                            }
                            )
                        }
                }
            },
            async created() {
                this.getNowInterval = setInterval(() => {
                    this.nowDate = Date.now()
                }
                    , 1e3),
                    re({});
                const e = async () => {
                    const e = this.$store.state.user.id
                        , t = await this.$http.post("/api/ecs_oe_student/examControl/getQrCode", { examRecordDataId: e, order: 1, transferFileType: "AUDIO", testEnv: !0 });
                    this.wechat.qrValue = t.data;
                    const s = decodeURIComponent(t.data).match(/&examRecordDataId=(\d+)/)[1];
                    this.wechat.examRecordDataId = s
                }
                    ;
                this.wechat.qrValue && (this.getQRCodeTimeout = setTimeout(() => {
                    e()
                }
                    , 3e3))
            },
            async mounted() {
                let e, t;
                fetch("/oe-web/login", {
                    Method: "HEAD"
                }).then(t => {
                    e = W()(t.headers.get("date"))
                }
                ),
                    this.checkClockRateTimeout = setTimeout(() => {
                        fetch("/oe-web/login", {
                            Method: "HEAD"
                        }).then(s => {
                            this.time && (t = W()(s.headers.get("date")),
                                this.time.clockRateStateResolved = !0,
                                this.time.clockRateDiff = t.diff(e, "seconds") - he,
                                this.time.clockRateStatus = t.diff(e, "seconds") < he + 2)
                        }
                        )
                    }
                        , 1e3 * he),
                    await this.openCamera()
            },
            beforeDestroy() {
                clearInterval(this.getNowInterval),
                    clearTimeout(this.checkClockRateTimeout),
                    clearTimeout(this.getQRCodeTimeout),
                    this.$refs.video.srcObject && (this.$refs.video.srcObject.getTracks().forEach((function (e) {
                        e.stop()
                    })),
                        this.$refs.video.srcObject = null),
                    le()
            },
            methods: {
                previous() {
                    this.current >= 0 && (this.current -= 1)
                },
                next() {
                    this.current < 5 && (this.current += 1),
                        5 === this.current && window._hmt.push(["_trackEvent", "环境检测", `网络: ${this.step1Status}; 时间: ${this.step2Status}; 摄像头: ${this.step3Status}; 声音: ${this.step4Status}; 小程序: ${this.step5Status};`])
                },
                async openCamera() {
                    const e = this.$refs.video;
                    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia)
                        try {
                            console.log("启动摄像头");
                            const s = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user", resizeMode: "crop-and-scale", width: 400, height: 300 } });
                            if (s) {
                                e.srcObject = s;
                                try {
                                    await e.play(),
                                        this.camera.openCameraStatus = !0
                                } catch (t) {
                                    console.log("摄像头没有正常启用", t),
                                        this.$Message.error({
                                            content: "摄像头没有正常启用: " + t,
                                            duration: 15,
                                            closable: !0
                                        }),
                                        window._hmt.push(["_trackEvent", "摄像头框-环境检测", "摄像头状态", "摄像头没有正常启用: " + t])
                                }
                            } else
                                this.$Message.error({
                                    content: "没有可用的视频流",
                                    duration: 15,
                                    closable: !0
                                }),
                                    window._hmt.push(["_trackEvent", "摄像头框-环境检测", "摄像头状态", "没有可用的视频流"])
                        } catch (t) {
                            let e;
                            console.log("无法启用摄像头", t),
                                e = t.name || t.message ? `${t.name} ${t.message}` : t,
                                this.$Message.error({
                                    content: "无法启用摄像头: " + e,
                                    duration: 15,
                                    closable: !0
                                }),
                                window._hmt.push(["_trackEvent", "摄像头框-环境检测", "摄像头状态", "无法启用摄像头" + e])
                        } finally {
                            this.camera.openCameraResolved = !0
                        }
                    else
                        this.$Message.error({
                            content: "没有找到可用的摄像头",
                            duration: 15,
                            closable: !0
                        }),
                            window._hmt.push(["_trackEvent", "摄像头框-环境检测", "摄像头状态", "没有找到可用的摄像头"]);
                    this.camera.openCameraResolved = !0
                }
            }
        }
            , pe = me
            , _e = (s("4e36"),
                Object(l["a"])(pe, V, H, !1, null, "1db1faf8", null))
            , ge = _e.exports
            , we = s("ff04")
            , fe = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    ref: "modalRef",
                    attrs: {
                        title: "考生承诺书",
                        "footer-hide": "",
                        width: "800",
                        closable: !1,
                        "mask-closable": !1
                    }
                }, [s("div", {
                    staticStyle: {
                        "font-size": "16px"
                    }
                }, [s("div", {
                    staticClass: "privacy-content",
                    domProps: {
                        innerHTML: e._s(e.content)
                    }
                }), s("div", {
                    staticStyle: {
                        display: "flex",
                        "justify-content": "center",
                        "margin-top": "10px"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px",
                        width: "150px"
                    },
                    on: {
                        click: e.onOk
                    }
                }, [e._v(" 同意 ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px",
                        width: "150px"
                    },
                    on: {
                        click: e.onDecline
                    }
                }, [e._v(" 拒绝 ")])], 1)])])
            }
            , ve = []
            , ye = {
                name: "CommittmentDialog",
                props: {
                    content: {
                        type: String,
                        default: ""
                    }
                },
                methods: {
                    showDialog(e, t) {
                        return this.$refs.modalRef.visible = !0,
                            this.parentResolve = e,
                            this.parentReject = t,
                            !0
                    },
                    onOk() {
                        this.parentResolve(!0),
                            this.$refs.modalRef.visible = !1,
                            this.logger({
                                action: "考生承诺书",
                                detail: "承诺同意"
                            })
                    },
                    onDecline() {
                        this.parentReject(!1),
                            this.$refs.modalRef.visible = !1,
                            this.logger({
                                action: "考生承诺书",
                                detail: "拒绝承诺"
                            })
                    }
                }
            }
            , be = ye
            , xe = (s("c232"),
                Object(l["a"])(be, fe, ve, !1, null, "6d6f53bc", null))
            , Ee = xe.exports;
        const { mapState: Se, mapMutations: Ce } = Object(w["a"])("examHomeModule");
        var Oe = {
            name: "EcsOnlineList",
            components: {
                "ecs-online-exam-result-list": E,
                OnlineExamFaceCheckModal: U,
                CheckComputer: ge,
                CommittmentDialog: Ee
            },
            props: {
                courses: {
                    type: Array,
                    default() {
                        return []
                    }
                },
                endCourses: {
                    type: Array,
                    default() {
                        return []
                    }
                },
                examType: {
                    type: String,
                    default: "ONLINE"
                }
            },
            data() {
                return {
                    now: new Date,
                    selectedCourse: null,
                    spinShow: !1,
                    processingMessage: "",
                    cid: null,
                    shouldShowCheckEnvModal: !1,
                    countdown: 0,
                    enterButtonClicked: !1,
                    overFlowStyle: !1,
                    selectExamState: "EXAMING",
                    committmentHtmlContent: ""
                }
            },
            computed: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "timeDifference"])), Se(["faceCheckModalOpen"])), Object(w["c"])(["isEpcc"])),
            created() {
                this.getNow(),
                    this.intervalID = setInterval(() => this.getNow(), 1e3)
            },
            beforeDestroy() {
                this.toggleFaceCheckModal(!1),
                    clearInterval(this.intervalID),
                    clearInterval(this.countdownInterval)
            },
            methods: Object(p["a"])(Object(p["a"])({}, Ce(["toggleFaceCheckModal"])), {}, {
                cycleDesc(e) {
                    if (!e.examCycleEnabled)
                        return "";
                    const t = {
                        1: "一",
                        2: "二",
                        3: "三",
                        4: "四",
                        5: "五",
                        6: "六",
                        7: "日"
                    }
                        , s = e.examCycleWeek.map(e => "周" + t[e])
                        , i = e.examCycleTimeRange.map(e => e.timeRange).map(e => e[0] + "~" + e[1]).join("<br>");
                    return s + "<br>" + i
                },
                getNow() {
                    this.now = Date.now() + this.timeDifference
                },
                courseInBetween(e) {
                    return W()(this.now).isBetween(W()(e.startTime), W()(e.endTime))
                },
                disableReason(e) {
                    return this.courseInBetween(e) ? e.allowExamCount < 1 ? "无剩余考试次数" : this.countdown > 0 ? "请稍后点击" : this.courseInCycle(e) ? "" : "不在考试时间周期内" : "当前时间不在考试开放时间范围"
                },
                courseInCycle(e) {
                    if (!e.examCycleEnabled)
                        return !0;
                    const t = W()(this.now).isoWeekday();
                    if (!e.examCycleWeek.includes(t))
                        return !1;
                    const s = W()(this.now).format("HH:mm")
                        , i = e.examCycleTimeRange.map(e => e.timeRange)
                        , a = i.some(e => s >= e[0] && s <= e[1]);
                    return a
                },
                disableTheCourse(e) {
                    return !this.courseInBetween(e) || e.allowExamCount < 1 || this.countdown > 0 || !this.courseInCycle(e)
                },
                async raceEnter(e) {
                    this.logger({
                        page: "待考列表页",
                        button: "进入考试按钮",
                        action: "点击"
                    }),
                        this.spinShow = !0,
                        this.processingMessage = "正在请求...";
                    const t = Math.floor(W()(this.now).diff(W()(e.startTime), "seconds") / 60);
                    this.enterButtonClicked = !0;
                    const { limitResult: s, serverOk: i } = await Object(we["a"])({ action: "startExam", limit: 100 });
                    this.logger({
                        action: "在线考试列表页面",
                        logId: "开考限流API call"
                    }),
                        this.enterButtonClicked = !1,
                        this.spinShow = !1,
                        s ? (window._hmt.push(["_trackEvent", "在线考试列表页面", "摇号进入考试"]),
                            this.logger({
                                action: "在线考试列表页面",
                                logId: "开考未限流",
                                detail: "限流-" + t + "分进入"
                            }),
                            this.enterExam(e)) : (window._hmt.push(["_trackEvent", "在线考试列表页面", "摇号进入考试-限流"]),
                                this.logger({
                                    action: "在线考试列表页面",
                                    logId: "开考被限流",
                                    detail: "限流-" + t + "分被限流",
                                    serverOk: i
                                }),
                                this.$Modal.warning({
                                    title: "提示",
                                    content: "网络繁忙，请稍后再试。",
                                    onOk: () => {
                                        clearInterval(this.countdownInterval),
                                            this.countdown = 3,
                                            this.countdownInterval = setInterval(() => {
                                                this.countdown--
                                            }
                                                , 1e3)
                                    }
                                }))
                },
                async enterExam(e, t) {
                    this.spinShow = !0,
                        this.processingMessage = "正在检测断点续考信息...";
                    try {
                        const e = await this.checkExamInProgress();
                        if (e)
                            return this.spinShow = !1,
                                this.logger({
                                    action: "断点续考",
                                    detail: "在线考试列表页面"
                                }),
                                void window._hmt.push(["_trackEvent", "在线考试列表页面", "断点续考", "进入"])
                    } catch (s) {
                        return void (this.spinShow = !1)
                    }
                    if (this.getNow(),
                        this.spinShow = !1,
                        this.disableTheCourse(e))
                        return this.logger({
                            page: "在线考试列表页面",
                            detail: "未到考试开放时间！"
                        }),
                            void this.$Message.error({
                                content: "未到考试开放时间！",
                                duration: 15,
                                closable: !0
                            });
                    if (e.showUndertaking && !t) {
                        this.logger({
                            page: "在线考试列表页面",
                            detail: "考生承诺书"
                        });
                        const t = await new Promise((t, s) => { this.committmentHtmlContent = e.undertaking, this.$refs.committmentDialogRef.showDialog(t, s) });
                        if (!t)
                            return
                    }
                    this.spinShow = !0,
                        this.processingMessage = "正在检测IP合法性...";
                    try {
                        const t = (await this.$http.get("/api/ecs_exam_work/exam/ipLimit/" + e.examId)).data;
                        if (t.limited)
                            return window._hmt.push(["_trackEvent", "在线考试列表页面", "IP受限"]),
                                this.spinShow = !1,
                                void this.$Message.error({
                                    content: "IP受限，请到中心指定地点进行考试！",
                                    duration: 15,
                                    closable: !0
                                })
                    } catch (s) {
                        return this.$Message.error({
                            content: "查询IP限制出错！",
                            duration: 15,
                            closable: !0
                        }),
                            void (this.spinShow = !1)
                    }
                    if (this.processingMessage = "正在获取考试设置...",
                        !t) {
                        let t = null;
                        try {
                            if (t = await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + e.examId + "/CHECK_ENVIRONMENT"),
                                "true" === t.data.CHECK_ENVIRONMENT) {
                                const t = await new Promise(t => { this.$Modal.confirm({ title: "进行环境检测", content: "环境检测可以检测电脑的硬件配置、网络速度和常用操作。环境检测不通过的话，可能影响考试的正常进行。", okText: "进行检测", cancelText: "跳过检测", onOk: () => { this.shouldShowCheckEnvModal = !0, this.selectedCourse = e, t() }, onCancel: () => { t(!0) } }) });
                                if (!t)
                                    return void (this.spinShow = !1)
                            }
                        } catch (s) {
                            return this.spinShow = !1,
                                void this.$Message.error({
                                    content: "查询考试的环境检测设置属性出错！",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    }
                    if (e.faceEnable) {
                        if (!this.user.photoPath)
                            return this.spinShow = !1,
                                window._hmt.push(["_trackEvent", "在线考试列表页面", "无底照"]),
                                void this.$Message.info("本场考试需要进行人脸检测，但是您没有上传底照，请联系老师！");
                        let t = null;
                        try {
                            t = await this.$http.get("/api/ecs_exam_work/exam/identificationOfLivingEnabled/" + e.examId)
                        } catch (s) {
                            return this.spinShow = !1,
                                void this.$Message.error({
                                    content: "查询考试的人脸检测设置属性出错！",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                        if (t.data) {
                            let e;
                            this.processingMessage = "正在检测底照是否满足活体检测标准...";
                            try {
                                if (e = (await this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/checkFaceLiveness?" + this.user.token)).data,
                                    this.spinShow = !1,
                                    !e.success)
                                    return this.$Message.error("您上传的底照不符合活体检测的要求，请联系老师！"),
                                        void window._hmt.push(["_trackEvent", "在线考试列表页面", "人脸识别框", "您上传的底照不符合活体检测的要求，请联系老师！"])
                            } catch (s) {
                                return this.spinShow = !1,
                                    void this.$Message.error({
                                        content: "查询检测底照是否满足活体检测标准的接口出错！",
                                        duration: 15,
                                        closable: !0
                                    })
                            }
                        }
                        this.spinShow = !1,
                            this.selectedCourse = e,
                            window._hmt.push(["_trackEvent", "在线考试列表页面", "人脸识别框", "弹出框"]),
                            this.toggleFaceCheckModal(!0)
                    } else
                        this.spinShow = !1,
                            this.logger({
                                action: "进入考试",
                                detail: "无人脸检测"
                            }),
                            window._hmt.push(["_trackEvent", "在线考试列表页面", "进入考试", "无人脸检测"]),
                            this.$router.push(`/online-exam/exam/${e.examId}/overview?examStudentId=${e.examStudentId}`)
                },
                async faceCheckResultCallback(e, t) { },
                async resumeEnterExam() {
                    this.shouldShowCheckEnvModal = !1,
                        this.enterExam(this.selectedCourse, !0)
                }
            })
        }
            , Ie = Oe
            , ke = (s("45d8"),
                s("f3c0"),
                Object(l["a"])(Ie, _, g, !1, null, "dd1877fc", null))
            , Te = ke.exports
            , Ae = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    attrs: {
                        closable: !1,
                        "mask-closable": !1,
                        title: "请验证预留手机号",
                        "footer-hide": !0,
                        "z-index": 2e3
                    },
                    model: {
                        value: e.phoneModal,
                        callback: function (t) {
                            e.phoneModal = t
                        },
                        expression: "phoneModal"
                    }
                }, [s("div", {
                    staticStyle: {
                        display: "grid",
                        "grid-template-rows": "40px 40px 40px",
                        "font-size": "20px"
                    }
                }, [s("p", [e._v(" 预留手机号: " + e._s(e.user.phoneNumber) + " ")]), s("p", [e._v(" 输入验证码: "), s("input", {
                    directives: [{
                        name: "model",
                        rawName: "v-model",
                        value: e.code,
                        expression: "code"
                    }],
                    attrs: {
                        size: "6",
                        placeholder: "验证码",
                        type: "number"
                    },
                    domProps: {
                        value: e.code
                    },
                    on: {
                        input: function (t) {
                            t.target.composing || (e.code = t.target.value)
                        }
                    }
                })]), s("div", [s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px"
                    },
                    attrs: {
                        disabled: e.remainTime > 0
                    },
                    on: {
                        click: e.getCode
                    }
                }, [e._v(e._s(e.btnText) + " " + e._s(e.remainTime > 0 ? "(" + e.remainTime + "秒)" : "") + " ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px"
                    },
                    on: {
                        click: e.verify
                    }
                }, [e._v(" 验证 ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px"
                    },
                    on: {
                        click: function () {
                            return e.logout("?LogoutReason=验证预留手机号")
                        }
                    }
                }, [e._v(" 退出系统 ")])], 1)])])
            }
            , Pe = []
            , Me = {
                name: "PhoneVerifyForDD",
                data() {
                    return {
                        courses: [],
                        phoneModal: !1,
                        step: "1",
                        code: "",
                        remainTime: 0,
                        btnText: "发送验证码"
                    }
                },
                computed: Object(p["a"])({}, Object(w["e"])(["user"])),
                async mounted() {
                    ["cugr.ecs.qmth.com.cn", "test.cugr.qmth.com.cn"].includes(localStorage.getItem("domain")) && !localStorage.getItem("phoneVerified") && (this.phoneModal = !0)
                },
                methods: {
                    async getCode() {
                        this.logger({
                            page: "PhoneVerifyForDD",
                            button: "发送验证码按钮",
                            action: "点击"
                        });
                        try {
                            await this.$http.post("/api/ecs_oe_student/sms/sendSmsCodeToStudent")
                        } catch (t) {
                            return void this.$Message.error({
                                content: "发送验证码失败，请重试！",
                                duration: 15,
                                closable: !0
                            })
                        }
                        this.remainTime = 90;
                        let e = setInterval(() => {
                            this.remainTime--,
                                this.remainTime <= 0 && clearInterval(e)
                        }
                            , 1e3)
                    },
                    async verify() {
                        this.logger({
                            page: "PhoneVerifyForDD",
                            button: "验证按钮",
                            action: "点击"
                        });
                        try {
                            await this.$http.post(`/api/ecs_oe_student/sms/checkSmsCode?phoneNumber=${this.user.phoneNumber}&code=${this.code}`),
                                this.phoneModal = !1,
                                localStorage.setItem("phoneVerified", "true")
                        } catch (e) {
                            this.$Message.error({
                                content: "验证手机号接口失败，请重试！",
                                duration: 15,
                                closable: !0
                            }),
                                this.logger({
                                    page: "PhoneVerifyForDD",
                                    action: "验证手机号接口失败，请重试！"
                                })
                        }
                    }
                }
            }
            , De = Me
            , Re = (s("c427"),
                Object(l["a"])(De, Ae, Pe, !1, null, "e9826430", null))
            , Le = Re.exports
            , qe = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    attrs: {
                        closable: !1,
                        "mask-closable": !1,
                        title: "隐私条款",
                        "footer-hide": !0,
                        "z-index": 3e3
                    },
                    model: {
                        value: e.privacyModal,
                        callback: function (t) {
                            e.privacyModal = t
                        },
                        expression: "privacyModal"
                    }
                }, [s("div", {
                    staticStyle: {
                        "font-size": "16px"
                    }
                }, [s("div", {
                    staticClass: "privacy-content"
                }, [s("p", {
                    staticStyle: {
                        "text-indent": "2em"
                    }
                }, [e._v(" 本产品尊重并保护所有服务用户的个人隐私权。为了给您提供更准确、更有个性化的服务，会按照本隐私权政策的规定使用和披露您的个人信息。但将以高度的勤勉、审慎义务对待这些信息。除本隐私权政策规定外，在未征得您事先许可的情况下，本产品不会将这些信息对外披露或向第三方提供（法律法规规定应当披露或提供的除外）。本产品会不时更新本隐私权政策。您在同意本产品服务使用协议之时，即视为您已经同意本隐私权政策全部内容。本隐私权政策属于本产品服务使用协议不可分割的一部分。 ")]), s("p", [e._v("1.适用范围")]), s("p", [e._v("1) 在您注册使用本产品帐号时，根据本产品要求提供的个人注册信息；")]), s("p", [e._v(" 2) 在您使用本产品网络服务，或访问本产品网页时，本产品自动接收并记录的您的访问设备信息，包括但不限于您的、IP地址、浏览器的类型、使用的语言、访问日期和时间、软硬件特征信息及您访问的网页记录等数据； ")]), s("p", [e._v("3) 本产品通过合法途径从商业伙伴处取得的用户个人数据；")]), s("p", [e._v("4) 您在使用本产品平台进行考试身份验证时采集的人脸信息")]), s("p", [e._v("5) 您在使用本产品平台提供的搜索服务时输入的关键字信息；")]), s("p", [e._v("2.信息使用")]), s("p", [e._v(" 1) 本产品不会向任何无关第三方提供、出售、出租、分享或交易您的个人信息，除非事先得到您的许可，或该第三方和本产品（含本产品关联公司）单独或共同为您提供服务，且在该服务结束后，其将被禁止访问包括其以前能够访问的所有这些资料。 ")]), s("p", [e._v(" 2) 本产品亦不允许任何第三方以任何手段收集、编辑、出售或者无偿传播您的个人信息。任何本产品平台用户如从事上述活动，一经发现，本产品有权立即终止与该用户的服务协议。 ")]), s("p", [e._v(" 3) 为服务用户的目的，本产品可能通过使用您的个人信息，向您提供您感兴趣的信息，包括但不限于向您发出产品和服务信息，或者与本产品合作伙伴共享信息以便他们向您发送有关其产品和服务的信息（后者需要您的事先同意）。 ")]), s("p", [e._v("3.信息披露")]), s("p", [e._v(" 在如下情况下，本产品将依据您的个人意愿或法律的规定全部或部分的披露您的个人信息： ")]), s("p", [e._v("1) 经您事先同意，向第三方披露；")]), s("p", [e._v("2) 为提供您所要求的产品和服务，而必须和第三方分享您的个人信息；")]), s("p", [e._v(" 3) 根据法律的有关规定，或者行政或司法机构的要求，向第三方或者行政、司法机构披露； ")]), s("p", [e._v(" 4) 如您出现违反中国有关法律、法规或者本产品服务协议或相关规则的情况，需要向第三方披露； ")]), s("p", [e._v("5) 您自行向社会公众公开的个人信息；")]), s("p", [e._v(" 6) 从合法公开披露的信息中收集个人信息的，如合法的新闻报道、政府信息公开等渠道。根据法律规定，共享、转让经去标识化处理的个人信息，且确保数据接收方无法复原并重新识别个人信息主体的，不属于个人信息的对外共享、转让及公开披露行为，对此类数据的保存及处理将无需另行向您通知并征得您的同意。 ")]), s("p", [e._v("4.信息存储和交换")]), s("p", [e._v(" 本产品在中华人民共和国境内收集的有关您的信息和资料将保存在本产品及（或）其关联公司位于中华人民共和国境内的服务器上；针对境外情况，您的个人信息可能会被转移到您使用产品或服务所在国家/地区的境外管辖区，或者受到来自这些管辖区的访问。 ")]), s("p", [e._v("5.Cookie的使用")]), s("p", [e._v(" 1) 在您未拒绝接受Cookie的情况下，本产品会在您的访问设备上设定或读取Cookie，以便您能登录或使用依赖于Cookie的本产品平台服务或功能。本产品使用Cookie可为您提供更加周到的个性化服务。 ")]), s("p", [e._v(" 2) 您有权选择接受或拒绝接受Cookie。您可以通过修改浏览器设置的方式拒绝接受Cookie。但如果您选择拒绝接受Cookie，则您可能无法登录或使用依赖于Cookie的本产品网络服务或功能。 ")]), s("p", [e._v("3) 通过本产品所设Cookie所取得的有关信息，将适用本政策。")]), s("p", [e._v("6.信息安全")]), s("p", [e._v(" 1) 本产品帐号均有安全保护功能，请妥善保管您的用户名及密码信息。本产品会采用符合业界标准的安全防护措施，包括建立合理的制度规范、安全技术来防止您的个人信息遭到未经授权的访问使用、修改，避免数据的损坏或丢失。 ")]), s("p", [e._v(" 2) 我们会采取一切合理可行的措施，确保未收集无关的个人信息。我们只会在达成本政策所述目的所需的期限内保留您的个人信息，除非需要延长保留期或受到法律的允许。 ")]), s("p", [e._v(" 3) 互联网并非绝对安全的环境，而且电子邮件、即时通讯、及与其他用户的交流方式并未加密，我们强烈建议您不要通过此类方式发送个人信息。请使用复杂密码，协助我们保证您的账号安全。 ")]), s("p", [e._v(" 4) 如您发现自己的个人信息泄密，尤其是本应用用户名及密码发生泄露，请您立即联络本应用客服，以便本应用采取相应措施。 ")]), s("p", [e._v("7.本隐私政策的更改")]), s("p", [e._v(" 1）如果决定更改隐私政策，我们会在本政策中，以及我们认为适当的位置发布这些更改，以便您了解我们如何收集、使用您的个人信息，哪些人可以访问这些信息，以及在什么情况下我们会透露这些信息。 ")]), s("p", [e._v(" 2）我们保留随时修改本政策的权利，因此请经常查看。如对本政策作出重大更改，我们会通过网站通知的形式告知。 ")])]), s("div", {
                    staticStyle: {
                        display: "flex",
                        "justify-content": "center",
                        "margin-top": "10px"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px",
                        width: "150px"
                    },
                    attrs: {
                        disabled: e.remainTime > 0
                    },
                    on: {
                        click: e.agreeTerms
                    }
                }, [e._v(" 同意" + e._s(e.remainTime ? "（" + e.remainTime + "秒）" : "") + " ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        margin: "0",
                        "margin-right": "5px",
                        width: "150px"
                    },
                    on: {
                        click: e.disagreeTerms
                    }
                }, [e._v(" 拒绝 ")])], 1)])])
            }
            , je = []
            , Ne = {
                name: "PrivacyDialog",
                data() {
                    return {
                        privacyModal: !1,
                        remainTime: 0
                    }
                },
                computed: Object(p["a"])({}, Object(w["e"])(["user"])),
                async mounted() {
                    const e = localStorage.getItem("privacy-read-version-" + this.user.id);
                    if (e !== Y["g"]) {
                        this.privacyModal = !0,
                            this.remainTime = 15;
                        let e = setInterval(() => {
                            this.remainTime--,
                                this.remainTime <= 0 && clearInterval(e)
                        }
                            , 1e3)
                    }
                },
                methods: {
                    agreeTerms() {
                        this.logger({
                            page: "PrivacyDialog",
                            button: "同意按钮",
                            action: "点击"
                        }),
                            localStorage.setItem("privacy-read-version-" + this.user.id, Y["g"]),
                            this.privacyModal = !1
                    },
                    disagreeTerms() {
                        this.logger({
                            page: "PrivacyDialog",
                            button: "拒绝按钮",
                            action: "点击"
                        }),
                            this.logout("?LogoutReason=不同意隐私条款")
                    }
                }
            }
            , Be = Ne
            , $e = (s("c2d5"),
                Object(l["a"])(Be, qe, je, !1, null, "33b750bf", null))
            , Fe = $e.exports
            , Ue = {
                name: "OnlineExamHome",
                components: {
                    "ecs-online-list": Te,
                    PhoneVerifyForDD: Le,
                    PrivacyDialog: Fe
                },
                beforeRouteEnter(e, t, s) {
                    s(e => {
                        e.previousUrl = t.path,
                            (t.path.includes("/online-homework") || t.path.includes("/online-exam")) && e.getData()
                    }
                    )
                },
                props: {
                    examType: {
                        type: String,
                        default: "ONLINE"
                    }
                },
                data() {
                    return {
                        previousUrl: "",
                        autoCloseModal: 1e5,
                        courses: [],
                        endCourses: []
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "siteMessagesTimeStamp", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    }
                }),
                watch: {
                    menus() {
                        if (this.menus[0]) {
                            if (this.menus[0].link.toUpperCase() !== "/online-exam".toUpperCase())
                                return void this.$router.push(this.menus[0].link)
                        } else
                            this.$Message.error({
                                content: "无可用菜单",
                                duration: 15,
                                closable: !0
                            }),
                                this.logout()
                    }
                },
                beforeMount() {
                    const e = this.$createElement;
                    this.$nextTick(() => {
                        (this.previousUrl.startsWith("/login/") || "/" === this.previousUrl || "/login" === this.previousUrl) && (this.$Modal.info({
                            render: () => e("div", {
                                class: "welcome-modal"
                            }, [e("div", {
                                class: "smile-png"
                            }), e("div", {
                                style: "margin-left: 20px; flex: 1"
                            }, [e("div", {
                                style: "margin-bottom: 1.5em"
                            }, ["欢迎使用考试系统，祝顺利完成考试！"]), e("div", {
                                style: "font-weight:bold; line-height: 25px;"
                            }, ["姓名：", this.$store.state.user.name, " -", " ", this.$store.state.user.studentCodeList.join(",")]), e("div", {
                                style: "font-weight:bold; line-height: 25px;"
                            }, ["专业：", this.$store.state.user.specialty])])]),
                            onOk: () => {
                                clearInterval(this.interval)
                            }
                        }),
                            this.interval = setInterval(() => {
                                const e = localStorage.getItem("privacy-read-version-" + this.user.id)
                                    , t = ["cugr.ecs.qmth.com.cn", "test.cugr.qmth.com.cn"].includes(localStorage.getItem("domain"))
                                    , s = localStorage.getItem("phoneVerified");
                                e === Y["g"] && (!t || s) && this.autoCloseModal > 10 && (this.autoCloseModal = 10),
                                    this.autoCloseModal--,
                                    this.autoCloseModal <= 0 && (this.$Modal.remove(),
                                        clearInterval(this.interval))
                            }
                                , 1e3))
                    }
                    )
                },
                async mounted() {
                    let e;
                    "ONLINE" === this.examType ? e = "在线考试列表页面" : "ONLINE_HOMEWORK" === this.examType && (e = "在线练习列表页面"),
                        window._hmt.push(["_trackEvent", e, "进入页面"]),
                        this.logger({
                            page: e,
                            action: "进入页面"
                        }),
                        await this.getData()
                },
                beforeDestroy() {
                    this.$Modal.remove(),
                        clearInterval(this.interval)
                },
                methods: Object(p["a"])(Object(p["a"])({}, Object(w["d"])(["updateSiteMessages"])), {}, {
                    async getData() {
                        let e;
                        this.courses = [];
                        for (let s = 0; s < 4; s++) {
                            let t;
                            if ("ONLINE" === this.examType ? t = "/api/branch_ecs_oe_admin/examControl/queryExamList" : "ONLINE_HOMEWORK" === this.examType && (t = "/api/branch_ecs_oe_admin/examControl/queryHomeworkList"),
                                e = await this.$http.get(t),
                                503 !== e.status) {
                                if (200 === e.status)
                                    break
                            } else
                                await new Promise(e => setTimeout(() => e(), 2e3))
                        }
                        if (200 !== e.status)
                            return window._hmt.push(["_trackEvent", "待考列表获取失败", "调用待考列表获取接口超过失败次数"]),
                                void this.$Message.error({
                                    content: "服务器繁忙(503)！请稍后重试。",
                                    duration: 15,
                                    closable: !0
                                });
                        if (this.courses = e.data || [],
                            "ONLINE" === this.examType) {
                            let e = "/api/branch_ecs_oe_admin/examControl/queryExamEndList";
                            this.endCourses = (await this.$http.get(e)).data || []
                        }
                        try {
                            const e = (await this.$http.get("/api/ecs_exam_work/notice/getUserNoticeList?" + this.user.id + this.siteMessagesTimeStamp)).data;
                            this.updateSiteMessages(e)
                        } catch (t) {
                            console.log(t),
                                this.$Message.error({
                                    content: "获取公告通知异常",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    }
                })
            }
            , Qe = Ue
            , We = (s("a741"),
                Object(l["a"])(Qe, h, m, !1, null, "45c34d2b", null))
            , Ve = We.exports
            , He = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.startInfo && e.paperStruct ? s("div", {
                    staticClass: "container",
                    attrs: {
                        id: "exam-overview"
                    }
                }, [s("div", {
                    staticClass: "instructions"
                }, [s("h1", {}, [e._v("考试说明")]), s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-bottom": "20px"
                    }
                }, [s("p", {
                    domProps: {
                        innerHTML: e._s(e.beforeExamRemark)
                    }
                })]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        display: "inline-block",
                        width: "100%"
                    },
                    attrs: {
                        disabled: e.isForceRead
                    },
                    on: {
                        click: e.gotoPaperClicked
                    }
                }, [e._v(" 接受以上条款，开始考试（倒计时： "), s("span", {
                    staticClass: "animated infinite pulse"
                }, [e._v(" " + e._s(e.remainTimeFormatted) + " ")]), e._v("） ")])], 1), s("div", {
                    staticClass: "exam-detail"
                }, [s("h3", {}, [e._v("科目：" + e._s(e.startInfo.courseName))]), s("br"), s("h4", {}, [e._v("试卷概览（总分：" + e._s(e.paperTotalScore) + "）")]), s("br"), s("ul", {
                    staticClass: "list-group"
                }, e._l(e.paperStruct.defaultPaper.questionGroupList, (function (t, i) {
                    return s("li", {
                        key: t.gruopName,
                        staticClass: "list-group-item"
                    }, [e._v(" " + e._s(i + 1) + "、" + e._s(t.groupName) + " "), s("small", {
                        staticClass: "pull-right"
                    }, [e._v(" （共" + e._s(t.questionWrapperList.length) + "题，共" + e._s(t.groupScore) + "分） ")])])
                })), 0), e._m(0)])]) : s("div", [e._v("正在等待数据返回...")])
            }
            , ze = [function () {
                var e = this
                    , t = e.$createElement
                    , i = e._self._c || t;
                return i("div", [i("img", {
                    staticStyle: {
                        width: "100%",
                        "padding-top": "40px"
                    },
                    attrs: {
                        src: s("853c")
                    }
                })])
            }
            ];
        const Ke = 120
            , Ge = 10;
        var Je = {
            name: "OnlineExamOverview",
            data() {
                return {
                    beforeExamRemark: null,
                    startInfo: null,
                    paperStruct: null,
                    remainTime: Ke,
                    isForceRead: !0
                }
            },
            computed: {
                remainTimeFormatted: function () {
                    return W.a.utc(1e3 * this.remainTime).format("HH:mm:ss")
                }
            },
            async mounted() {
                window._hmt.push(["_trackEvent", "在线考试概览页面", "进入页面"]),
                    this.logger({
                        page: "在线考试概览页面",
                        action: "开考成功"
                    }),
                    this.intervalId = setInterval(() => {
                        this.remainTime -= 1,
                            this.isForceRead = Ke - this.remainTime < Ge,
                            0 === this.remainTime && this.goToPaper()
                    }
                        , 1e3);
                try {
                    const e = await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + this.$route.params.examId + "/BEFORE_EXAM_REMARK");
                    this.beforeExamRemark = e.data.BEFORE_EXAM_REMARK || "";
                    const t = await this.$http.get("/api/ecs_oe_student/examControl/startExam?examStudentId=" + this.$route.query.examStudentId);
                    this.startInfo = t.data,
                        this.examRecordDataId = t.data.examRecordDataId;
                    const s = await this.$http.get("/api/ecs_oe_student/examRecordPaperStruct/getExamRecordPaperStruct?examRecordDataId=" + this.examRecordDataId);
                    this.paperStruct = s.data,
                        this.paperTotalScore = this.paperStruct.defaultPaper.questionGroupList.map(e => e.groupScore).reduce((e, t) => e + 1e3 * t, 0) / 1e3
                } catch (e) {
                    return window._hmt.push(["_trackEvent", "在线考试概览页面", "获取考试概览信息异常", e.response ? e.response.data.desc : e]),
                        this.logger({
                            page: "在线考试概览页面",
                            action: "获取考试概览信息异常"
                        }),
                        void this.$router.back()
                }
                document.body.style = ""
            },
            beforeDestroy() {
                clearInterval(this.intervalId)
            },
            methods: {
                gotoPaperClicked() {
                    this.logger({
                        page: "在线考试概览页面",
                        button: "开始考试",
                        action: "点击"
                    }),
                        this.goToPaper()
                },
                goToPaper() {
                    this.$router.replace(`/online-exam/exam/${this.$route.params.examId}/examRecordData/${this.examRecordDataId}/order/1`)
                }
            }
        }
            , Xe = Je
            , Ye = (s("8489"),
                s("4053"),
                Object(l["a"])(Xe, He, ze, !1, null, "f9b6bc56", null))
            , Ze = Ye.exports
            , et = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.exam && e.examQuestion() ? s("div", {
                    key: e.exam.id,
                    staticClass: "container"
                }, [s("div", {
                    staticClass: "header"
                }, [s("RemainTime"), s("div", {
                    staticStyle: {
                        display: "flex",
                        "flex-direction": "column"
                    }
                }, [s("div", {
                    staticStyle: {
                        "margin-bottom": "12px"
                    }
                }, [e._v(e._s(e.courseName))]), s("OverallProgress", {
                    attrs: {
                        "exam-question-list": e.examQuestionList
                    }
                })], 1), s("div", [e._v(" " + e._s(e.$store.state.user.displayName) + " - " + e._s(e.$store.state.user.studentCodeList.join(",")) + " ")]), s("QuestionFilters", {
                    attrs: {
                        "exam-question-list": e.examQuestionList
                    }
                }), s("Button", {
                    staticClass: "qm-primary-button",
                    on: {
                        click: e.submitPaper
                    }
                }, [e._v("交卷")])], 1), s("div", {
                    staticClass: "main",
                    attrs: {
                        id: "examing-home-question"
                    }
                }, [s("QuestionView", {
                    attrs: {
                        "exam-question": e.examQuestion()
                    }
                }), s("ArrowNavView", {
                    attrs: {
                        "previous-question-order": e.previousQuestionOrder,
                        "next-question-order": e.nextQuestionOrder
                    }
                })], 1), s("div", {
                    class: ["side"]
                }, [s("div", {
                    class: ["question-nav"]
                }, [s("QuestionNavView", {
                    attrs: {
                        "paper-struct": e.paperStruct
                    }
                })], 1), e.faceEnable && e.startVideoAfterDelay ? s("div", {
                    staticClass: "camera",
                    style: {
                        display: e.showFaceMotion ? "none" : "block"
                    }
                }, [e.faceEnable ? s("FaceRecognition", {
                    attrs: {
                        width: "400",
                        height: "300",
                        "show-recognize-button": !1
                    }
                }) : e._e()], 1) : e._e(), e.faceEnable && !e.startVideoAfterDelay ? s("div", {
                    staticClass: "camera"
                }, [e._m(0)]) : e._e()]), s("Modal", {
                    attrs: {
                        "mask-closable": !1,
                        closable: !1,
                        width: "800",
                        styles: {
                            top: "10px"
                        }
                    },
                    model: {
                        value: e.showFaceId,
                        callback: function (t) {
                            e.showFaceId = t
                        },
                        expression: "showFaceId"
                    }
                }, [e.showFaceId ? s("FaceId", {
                    on: {
                        "close-faceid": e.closeFaceId
                    }
                }) : e._e(), s("p", {
                    attrs: {
                        slot: "footer"
                    },
                    slot: "footer"
                })], 1), s("Modal", {
                    attrs: {
                        "mask-closable": !1,
                        closable: !1,
                        width: "800",
                        styles: {
                            top: "10px"
                        }
                    },
                    model: {
                        value: e.showFaceMotion,
                        callback: function (t) {
                            e.showFaceMotion = t
                        },
                        expression: "showFaceMotion"
                    }
                }, [e.showFaceMotion ? s("FaceMotion", {
                    on: {
                        "close-face-motion": e.closeFaceMotion
                    }
                }) : e._e(), s("p", {
                    attrs: {
                        slot: "footer"
                    },
                    slot: "footer"
                })], 1), e.faceEnable && e.startVideoAfterDelay && e.PRODUCTION ? s("FaceTracking") : e._e(), e.disableExamingBecauseRemoteApp ? s("div", {
                    staticStyle: {
                        top: "0",
                        left: "0",
                        width: "100vw",
                        height: "100vh",
                        "background-color": "rgba(77, 77, 77, 0.75)",
                        "z-index": "100",
                        position: "absolute"
                    }
                }, [s("h3", {
                    staticStyle: {
                        "margin-top": "80px"
                    }
                }, [e._v("请关闭远程桌面软件再进行考试！")]), s("Button", {
                    on: {
                        click: e.checkRemoteAppClicked
                    }
                }, [e._v("确认已关闭远程桌面软件")])], 1) : e._e()], 1) : s("div", [e._v(" 正在等待数据返回... "), e.timeouted ? s("Button", {
                    staticClass: "qm-primary-button",
                    on: {
                        click: e.reloadPage
                    }
                }, [e._v(" 重试 ")]) : e._e()], 1)
            }
            , tt = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticStyle: {
                        width: "400px",
                        height: "300px",
                        border: "1px solid lightgrey",
                        display: "flex",
                        "align-items": "center",
                        "justify-content": "center"
                    }
                }, [s("div", [e._v("正在打开摄像头...")])])
            }
            ]
            , st = (s("c1f9"),
                function () {
                    var e = this
                        , t = e.$createElement
                        , s = e._self._c || t;
                    return s("div", {
                        staticClass: "remain-time"
                    }, [s("span", {
                        staticStyle: {
                            "font-size": "14px"
                        }
                    }, [e._v("剩余时间")]), s("br"), s("span", {
                        class: ["enhanced-remain-time", e.enhancedRemainTime && "animated infinite pulse"]
                    }, [e._v(" " + e._s(e.remainTimeFormatted) + " ")])])
                }
            )
            , it = [];
        const { mapMutations: at } = Object(w["a"])("examingHomeModule");
        var ot = {
            name: "RemainTime",
            data() {
                return {
                    remainTime: null,
                    enhancedRemainTime: !0
                }
            },
            computed: {
                remainTimeFormatted: function () {
                    return this.remainTime ? W.a.utc(this.remainTime).format("HH:mm:ss") : "计算中"
                }
            },
            watch: {
                remainTime(e) {
                    null !== e && 0 === e && this.setShouldSubmitPaper(),
                        this.updateRemainTime(e)
                }
            },
            async mounted() {
                if (this.heartbeatErrorNum = 0,
                    "OnlineExamingHome" === this.$route.name)
                    try {
                        await this.$httpPostRetry("/api/ecs_oe_student/examControl/startAnswer?examRecordDataId=" + this.$route.params.examRecordDataId)
                    } catch (e) {
                        const t = "/startAnswer 出错";
                        return this.logout("?LogoutReason=" + t),
                            void Object(Z["b"])({
                                error: t
                            })
                    }
                await this.getRemainTimeFromServer(),
                    this.heartbeatInterval = setInterval(() => {
                        this.getRemainTimeFromServer()
                    }
                        , 6e4),
                    this.remainTimeInterval = setInterval(() => {
                        this.remainTime > 0 && (this.remainTime = this.remainTime - 1e3),
                            this.remainTime < 0 && (this.remainTime = 0)
                    }
                        , 1e3),
                    this.__count = 10,
                    this.enhancedRemainTimeInterval = setInterval(() => {
                        this.__count-- <= 0 && (this.enhancedRemainTime = !1,
                            clearInterval(this.enhancedRemainTimeInterval))
                    }
                        , 1e3)
            },
            beforeDestroy() {
                this.clearIntervals()
            },
            methods: Object(p["a"])(Object(p["a"])({}, at(["setShouldSubmitPaper", "updateRemainTime"])), {}, {
                async getRemainTimeFromServer() {
                    if ("OnlineExamingHome" === this.$route.name)
                        try {
                            const e = await this.$http.get("/api/ecs_oe_student/examControl/examHeartbeat");
                            this.logger({
                                action: "发出心跳",
                                response: e.data
                            }),
                                /\d+/.test(e.data) ? (e.data <= 0 && this.setShouldSubmitPaper(),
                                    this.remainTime = e.data,
                                    console.log("重置剩余时间：", e.data),
                                    this.logger({
                                        action: "重置剩余时间：",
                                        response: e.data,
                                        diff: this.remainTime - e.data
                                    }),
                                    this.heartbeatErrorNum = 0) : (this.$Message.error({
                                        content: "服务器返回的心跳结果不是数字",
                                        duration: 15,
                                        closable: !0
                                    }),
                                        this.logger({
                                            action: "发出心跳",
                                            error: "服务器返回的心跳结果不是数字"
                                        }))
                        } catch (e) {
                            if (e.response && e.response.data && e.response.data.desc && e.response.data.desc.includes("会话已过期,请离开考试") ? (window._hmt.push(["_trackEvent", "答题页面", "心跳", "失败-会话过期"]),
                                this.logger({
                                    action: "发出心跳",
                                    error: "心跳失败",
                                    detail: "失败-会话过期",
                                    extraDetail: "考试剩余时间：" + this.remainTime / 1e3
                                })) : (window._hmt.push(["_trackEvent", "答题页面", "心跳", "失败"]),
                                    this.logger({
                                        action: "发出心跳",
                                        error: "心跳失败",
                                        detail: "考试剩余时间：" + this.remainTime / 1e3,
                                        errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                                        errorName: e.name,
                                        errorMessage: e.message,
                                        errorStack: e.stack
                                    })),
                                this.heartbeatErrorNum++,
                                this.heartbeatErrorNum >= 10) {
                                clearInterval(this.heartbeatInterval),
                                    clearInterval(this.remainTimeInterval),
                                    window._hmt.push(["_trackEvent", "答题页面", "心跳", "失败10次-退出"]),
                                    this.logger({
                                        action: "发出心跳",
                                        error: "心跳失败",
                                        detail: "失败10次-退出"
                                    }),
                                    console.log("失败10次-退出");
                                let e = !1;
                                return this.$Modal.error({
                                    title: "网络连接异常",
                                    content: "退出考试",
                                    onOk: () => {
                                        e = !0,
                                            this.logout("?LogoutReason=心跳失败10次-退出-clicked")
                                    }
                                }),
                                    void (this.exitTimeout = setTimeout(() => {
                                        e || (this.$Modal.remove(),
                                            this.logout("?LogoutReason=心跳失败10次-退出-timeout"))
                                    }
                                        , 9e4))
                            }
                            this.retryHeartbeatTimeout = setTimeout(() => {
                                this.logger({
                                    action: "发出心跳",
                                    detail: "心跳失败后，再过10秒，重新发出心跳"
                                }),
                                    this.getRemainTimeFromServer()
                            }
                                , 1e4)
                        }
                },
                clearIntervals() {
                    clearInterval(this.heartbeatInterval),
                        clearInterval(this.remainTimeInterval),
                        clearTimeout(this.retryHeartbeatTimeout),
                        clearInterval(this.enhancedRemainTimeInterval),
                        clearTimeout(this.exitTimeout)
                }
            })
        }
            , nt = ot
            , rt = (s("6fb0"),
                Object(l["a"])(nt, st, it, !1, null, "45b9c9e6", null))
            , ct = rt.exports
            , lt = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "progress-container"
                }, [s("Progress", {
                    staticStyle: {
                        color: "black"
                    },
                    attrs: {
                        percent: e.progressNum,
                        "stroke-width": 20,
                        status: "active",
                        "hide-info": ""
                    }
                }), s("span", [e._v(e._s(e.progress))])], 1)
            }
            , dt = []
            , ut = {
                name: "OverallProgress",
                props: {
                    examQuestionList: {
                        type: Array,
                        default() {
                            return []
                        }
                    }
                },
                data() {
                    return {}
                },
                computed: {
                    progressNum() {
                        return this.examQuestionList.filter(e => null !== e.studentAnswer).length / this.examQuestionList.length * 100
                    },
                    progress: function () {
                        return `${this.examQuestionList.filter(e => null !== e.studentAnswer).length} / ${this.examQuestionList.length}`
                    }
                }
            }
            , ht = ut
            , mt = (s("287f"),
                s("2df4"),
                Object(l["a"])(ht, lt, dt, !1, null, "2aa30e6e", null))
            , pt = mt.exports
            , _t = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "q-filters"
                }, [s("div", {
                    class: "ALL" == e.questionFilterType && "selected-type",
                    on: {
                        click: function (t) {
                            return e.updateQuestionFilter("ALL")
                        }
                    }
                }, [e._v(" 全部 "), s("span", {
                    staticClass: "all-type"
                }, [e._v(e._s(e.all))])]), s("div", {
                    class: "ANSWERED" == e.questionFilterType && "selected-type",
                    on: {
                        click: function (t) {
                            return e.updateQuestionFilter("ANSWERED")
                        }
                    }
                }, [e._v(" 已答 "), s("span", {
                    staticClass: "answered-type"
                }, [e._v(e._s(e.answered))])]), s("div", {
                    class: "SIGNED" == e.questionFilterType && "selected-type",
                    on: {
                        click: function (t) {
                            return e.updateQuestionFilter("SIGNED")
                        }
                    }
                }, [e._v(" 标记 "), s("span", {
                    staticClass: "signed-type"
                }, [e._v(e._s(e.signed))])]), s("div", {
                    class: "UNANSWERED" == e.questionFilterType && "selected-type",
                    on: {
                        click: function (t) {
                            return e.updateQuestionFilter("UNANSWERED")
                        }
                    }
                }, [e._v(" 未答 "), s("span", {
                    staticClass: "unanswered-type"
                }, [e._v(e._s(e.unanswered))])])])
            }
            , gt = [];
        const { mapState: wt, mapMutations: ft } = Object(w["a"])("examingHomeModule");
        var vt = {
            name: "QuestionFilters",
            props: {
                examQuestionList: {
                    type: Array,
                    default() {
                        return []
                    }
                }
            },
            data() {
                return {}
            },
            computed: Object(p["a"])(Object(p["a"])({}, wt(["questionFilterType"])), {}, {
                all: function () {
                    return this.examQuestionList.length
                },
                answered: function () {
                    return this.examQuestionList.filter(e => null !== e.studentAnswer).length
                },
                signed: function () {
                    return this.examQuestionList.filter(e => e.isSign).length
                },
                unanswered: function () {
                    return this.examQuestionList.filter(e => null === e.studentAnswer).length
                }
            }),
            methods: Object(p["a"])({}, ft(["updateQuestionFilter"]))
        }
            , yt = vt
            , bt = (s("0f90"),
                Object(l["a"])(yt, _t, gt, !1, null, "31c1df50", null))
            , xt = bt.exports
            , Et = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "question-container"
                }, [s("div", {
                    staticClass: "question-header"
                }, [s("Icon", {
                    staticClass: "star",
                    style: {
                        color: "#ffcc00"
                    },
                    attrs: {
                        type: e.examQuestion.isSign ? "ios-star" : "ios-star-outline"
                    },
                    on: {
                        click: e.toggleSign
                    }
                }), e.examQuestion.getQuestionContent ? s("question-index", {
                    attrs: {
                        "exam-question": e.examQuestion
                    }
                }) : e._e()], 1), e.parentQuestionBody ? s("split-pane", {
                    attrs: {
                        "min-percent": 10,
                        "default-percent": e.parentPaneHeight,
                        split: "horizontal"
                    }
                }, [s("template", {
                    slot: "paneL"
                }, [e.parentQuestionBody ? s("div", {
                    staticClass: "question-view parent-question"
                }, [s("question-body", {
                    key: e.examQuestion.questionId,
                    staticStyle: {
                        "margin-bottom": "20px"
                    },
                    attrs: {
                        "question-body": e.parentQuestionBody,
                        "exam-question": e.examQuestion
                    }
                })], 1) : e._e()]), s("template", {
                    slot: "paneR"
                }, [s("QuestionViewSingle", {
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })], 1)], 2) : e._e(), e.parentQuestionBody ? e._e() : s("QuestionViewSingle", {
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                }), e.examQuestion.getQuestionContent ? e._e() : s("div", [e._v("试题获取中...")])], 1)
            }
            , St = []
            , Ct = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "container"
                }, [e._v(" " + e._s(e.sectionChinese) + "、" + e._s(e.examQuestion.groupName) + "（" + e._s(e.examQuestion.groupOrder) + " / " + e._s(e.examQuestion.groupTotal) + "） ")])
            }
            , Ot = []
            , It = s("ca00")
            , kt = {
                name: "QuestionIndex",
                props: {
                    examQuestion: {
                        type: Object,
                        default() {
                            return {}
                        }
                    }
                },
                computed: {
                    sectionChinese() {
                        return Object(It["i"])(this.examQuestion.mainNumber)
                    }
                }
            }
            , Tt = kt
            , At = (s("1c71"),
                Object(l["a"])(Tt, Ct, Ot, !1, null, "5b5e7352", null))
            , Pt = At.exports
            , Mt = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.questionDetail ? s("div", {
                    key: e.examQuestion.questionId,
                    staticClass: "question-body"
                }, [s("QuestionContainer", {
                    attrs: {
                        node: e.questionDetail.container,
                        "exam-question": e.examQuestion
                    }
                })], 1) : s("div", [e._v("获取试题中...")])
            }
            , Dt = []
            , Rt = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [e._l(e.node.childNodes, (function (t, i) {
                    return ["audio-placeholder" === t.className ? [s("div", {
                        key: i,
                        staticClass: "audio-div",
                        staticStyle: {
                            position: "relative",
                            "font-size": "18px",
                            "word-break": "break-word",
                            "background-color": "lightblue",
                            "border-radius": "4px",
                            "padding-left": "2px",
                            "padding-top": "2px"
                        }
                    }, [s("QuestionAudio", {
                        attrs: {
                            name: t.getAttribute("data-name"),
                            src: t.getAttribute("data-src"),
                            "play-count": e.examQuestion.limitedPlayTimes ? e.getAudioPlayedTimes(t.getAttribute("data-name")) : 1
                        },
                        on: {
                            played: function (s) {
                                e.played(t.getAttribute("data-name"))
                            }
                        }
                    }), e.examQuestion.limitedPlayTimes ? s("span", [e._v(" （"), s("span", {
                        staticStyle: {
                            color: "red"
                        }
                    }, [e._v("请点击播放")]), e._v("按钮听音作答。已播次数："), s("span", {
                        staticStyle: {
                            color: "red"
                        }
                    }, [e._v(e._s(e.examQuestion.limitedPlayTimes - e.getAudioPlayedTimes(t.getAttribute("data-name"))))]), e._v("，剩余播放次数："), s("span", {
                        staticStyle: {
                            color: "red"
                        }
                    }, [e._v(e._s(e.getAudioPlayedTimes(t.getAttribute("data-name"))))]), e._v("） ")]) : e._e(), e.audioInPlay.has(t.getAttribute("data-name")) ? s("div", {
                        staticStyle: {
                            position: "absolute",
                            top: "0",
                            right: "0",
                            bottom: "0",
                            left: "0"
                        }
                    }) : e._e()], 1)] : 3 == t.nodeType ? [e._v(" " + e._s(t.nodeValue) + " ")] : t.childNodes && t.querySelector && t.querySelector(".audio-placeholder") ? [s("QuestionContainer", {
                        key: i,
                        attrs: {
                            node: t,
                            "exam-question": e.examQuestion,
                            "audio-in-play": e.audioInPlay
                        }
                    })] : s("span", {
                        key: i,
                        domProps: {
                            innerHTML: e._s(t.outerHTML)
                        }
                    })]
                }))], 2)
            }
            , Lt = []
            , qt = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("span", {
                    staticClass: "a-container",
                    staticStyle: {
                        display: "inline-flex",
                        "align-items": "center"
                    }
                }, [s("span", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.shouldShowAudio,
                        expression: "shouldShowAudio"
                    }],
                    on: {
                        click: function (t) {
                            return t.stopPropagation(),
                                e.play(t)
                        }
                    }
                }, [e.playing ? s("Button", {
                    staticClass: "pause",
                    staticStyle: {
                        cursor: "not-allowed"
                    },
                    attrs: {
                        type: "primary",
                        shape: "circle",
                        icon: "md-pause"
                    }
                }) : s("Button", {
                    staticClass: "play",
                    staticStyle: {
                        "padding-left": "5px"
                    },
                    attrs: {
                        type: "primary",
                        shape: "circle",
                        icon: "md-play",
                        disabled: 0 === e.playCount
                    }
                })], 1), s("span", {
                    staticStyle: {
                        "padding-left": "2px"
                    }
                }), s("span", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.shouldShowAudio,
                        expression: "shouldShowAudio"
                    }],
                    staticStyle: {
                        color: "red"
                    }
                }, [e._v(" " + e._s(e.formatTime(e.currentTime)) + " / " + e._s(e.formatTime(e.duration)) + " ")]), e.shouldShowAudio ? e._e() : s("span", {
                    staticStyle: {
                        color: "blueviolet"
                    }
                }, [e._v(" 音频下载中" + e._s(e.downloadPercent) + "% ")])])
            }
            , jt = []
            , Nt = {
                name: "QuestionAudio",
                props: {
                    src: {
                        type: String,
                        required: !0
                    },
                    name: {
                        type: String,
                        required: !0
                    },
                    playCount: {
                        type: Number,
                        required: !0
                    }
                },
                data() {
                    return {
                        done: !1,
                        downloadPercent: 0,
                        currentTime: 0,
                        duration: 0,
                        playing: !1,
                        context: null,
                        buffer: null
                    }
                },
                computed: {
                    shouldShowAudio() {
                        return 100 === this.downloadPercent
                    }
                },
                async created() {
                    this.loadData()
                },
                beforeDestroy() {
                    this.source && this.source.stop(),
                        this.context && (this.context.close(),
                            this.context = null)
                },
                methods: {
                    formatTime(e) {
                        return W.a.utc(1e3 * e).format("mm:ss")
                    },
                    loadData() {
                        this.context = new AudioContext,
                            this.buffer;
                        const e = e => {
                            var t = new XMLHttpRequest;
                            t.open("GET", e, !0),
                                t.responseType = "arraybuffer",
                                t.onload = () => {
                                    this.context.decodeAudioData(t.response, e => {
                                        this.buffer = e,
                                            this.duration = Math.floor(this.buffer.duration),
                                            this.downloadPercent = 100
                                    }
                                        , () => {
                                            console.log("error load audio")
                                        }
                                    )
                                }
                                ,
                                t.onprogress = e => {
                                    this.downloadPercent = Number(e.loaded / e.total * 100).toFixed(2)
                                }
                                ,
                                t.send()
                        }
                            ;
                        e(this.src)
                    },
                    async play() {
                        if (this.playCount <= 0)
                            return void console.log("无播放次数");
                        if (this.playing)
                            return void console.log("正在播放，无法暂停");
                        this.$emit("played"),
                            this.context.close(),
                            this.context = new AudioContext,
                            this.source = this.context.createBufferSource(),
                            this.source.buffer = this.buffer,
                            this.source.connect(this.context.destination),
                            this.source.start(0),
                            this.playing = !0,
                            this.currentTime = 0;
                        const e = () => {
                            this.currentTime = Math.floor(this.context.currentTime),
                                this.context.currentTime < this.buffer.duration ? requestAnimationFrame(e) : this.context.currentTime >= this.buffer.duration && (this.currentTime = 0,
                                    requestAnimationFrame(e))
                        }
                            ;
                        requestAnimationFrame(e),
                            this.source.onended = () => {
                                this.playing = !1,
                                    this.currentTime = 0
                            }
                    }
                }
            }
            , Bt = Nt
            , $t = (s("9584"),
                Object(l["a"])(Bt, qt, jt, !1, null, "0c676d4b", null))
            , Ft = $t.exports;
        const { mapState: Ut, mapMutations: Qt } = Object(w["a"])("examingHomeModule");
        var Wt = {
            name: "QuestionContainer",
            components: {
                QuestionAudio: Ft
            },
            props: {
                node: {
                    type: HTMLElement,
                    default: () => { }
                },
                examQuestion: {
                    type: Object,
                    default: () => { }
                },
                audioInPlay: {
                    type: Set,
                    default: () => new Set
                }
            },
            computed: Object(p["a"])({}, Ut(["allAudioPlayTimes"])),
            methods: Object(p["a"])(Object(p["a"])({}, Qt(["updateExamQuestion", "updateQuestionAudioPlayTimes"])), {}, {
                played(e) {
                    if (!this.examQuestion.limitedPlayTimes)
                        return !1;
                    console.log("开始播放"),
                        this.updateQuestionAudioPlayTimes(e)
                },
                getAudioPlayedTimes(e) {
                    return Math.max(this.examQuestion.limitedPlayTimes - (this.allAudioPlayTimes.find(t => t.name === e) || {
                        times: 0
                    }).times, 0)
                }
            })
        }
            , Vt = Wt
            , Ht = Object(l["a"])(Vt, Rt, Lt, !1, null, null, null)
            , zt = Ht.exports;
        const { mapState: Kt, mapMutations: Gt } = Object(w["a"])("examingHomeModule");
        var Jt = {
            name: "QuestionBody",
            components: {
                QuestionContainer: zt
            },
            props: {
                questionBody: {
                    type: String,
                    default: ""
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    questionDetail: null,
                    audioPlayTimes: null,
                    audioInPlay: new Set
                }
            },
            computed: Object(p["a"])({}, Kt(["allAudioPlayTimes"])),
            watch: {
                questionBody() {
                    this.parseQuestion()
                },
                examQuestion() {
                    this.parseQuestion()
                }
            },
            mounted() {
                this.parseQuestion()
            },
            methods: Object(p["a"])(Object(p["a"])({}, Gt(["updateExamQuestion", "updateQuestionAudioPlayTimes"])), {}, {
                async parseQuestion() {
                    let e = {};
                    const t = document.createElement("div");
                    if (this.questionBody.includes("question-audio")) {
                        let t, s;
                        e.text = this.questionBody.replace(/<a.*?name="([^"]*)".*?question-audio.*?url="([^"]*)".*?\/a>/g, "<span class='audio-placeholder' data-name='$1' data-src='$2'></span>"),
                            e.audio = [],
                            /<a.*?question-audio.*?\/a>/.test(this.questionBody) && (t = /name="([^"]*)".*?question-audio.*?url="([^"]*)"/g);
                        while (null !== (s = t.exec(this.questionBody)))
                            e.audio.push({
                                name: s[1],
                                src: s[2]
                            })
                    } else
                        e.text = this.questionBody,
                            e.audio = [];
                    t.innerHTML = e.text,
                        e.container = t,
                        this.questionDetail = e
                }
            })
        }
            , Xt = Jt
            , Yt = (s("ccab"),
                Object(l["a"])(Xt, Mt, Dt, !1, null, null, null))
            , Zt = Yt.exports
            , es = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("transition", {
                    attrs: {
                        name: "fade"
                    }
                }, [s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.question && e.examQuestion && e.examQuestion.getQuestionContent,
                        expression: "question && examQuestion && examQuestion.getQuestionContent"
                    }],
                    key: e.examQuestion.order,
                    staticClass: "question-view"
                }, [s("div", {
                    staticStyle: {
                        "margin-bottom": "-45px"
                    }
                }, [e._v(e._s(e.examQuestion.groupOrder) + "、")]), e.question && "SINGLE_CHOICE" === e.question.questionType && "SINGLE_CHOICE" === e.examQuestion.questionType ? [s("single-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e(), e.question && "MULTIPLE_CHOICE" === e.question.questionType && "MULTIPLE_CHOICE" === e.examQuestion.questionType ? [s("multiple-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e(), e.question && "TRUE_OR_FALSE" === e.question.questionType && "TRUE_OR_FALSE" === e.examQuestion.questionType ? [s("boolean-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e(), e.question && "FILL_UP" === e.question.questionType && "FILL_UP" === e.examQuestion.questionType ? [s("fill-blank-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e(), e.question && "ESSAY" === e.question.questionType && "ESSAY" === e.examQuestion.questionType ? [s("text-question-view", {
                    key: e.examQuestion.order,
                    attrs: {
                        question: e.question,
                        "exam-question": e.examQuestion
                    }
                })] : e._e()], 2)])
            }
            , ts = []
            , ss = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState && "SINGLE_CHOICE" === e.examQuestion.questionType ? s("div", {
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.questionBody,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "stu-answer"
                }, [e._v(e._s(e.oldIndexToABCD))]), s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "分)")])]), e._l(e.newQuestionOptions, (function (t, i) {
                    return s("div", {
                        key: i,
                        staticClass: "option",
                        on: {
                            click: function () {
                                e.answerQuestion(t.oldIndex)
                            }
                        }
                    }, [s("div", {
                        class: e.studentAnswer === t.oldIndex && "row-selected",
                        staticStyle: {
                            display: "flex"
                        }
                    }, [s("div", [s("input", {
                        staticStyle: {
                            "margin-top": "3px",
                            display: "block"
                        },
                        attrs: {
                            type: "radio",
                            name: "question"
                        },
                        domProps: {
                            value: t.oldIndex,
                            checked: e.studentAnswer === t.oldIndex
                        }
                    })]), s("span", {
                        staticStyle: {
                            padding: "0 10px"
                        }
                    }, [e._v(e._s(e.optionName[i]) + ": ")]), t.value ? s("div", {
                        staticClass: "question-options"
                    }, [s("question-body", {
                        attrs: {
                            "question-body": t.value.body,
                            "exam-question": e.examQuestion
                        }
                    })], 1) : e._e()])])
                })), s("div", {
                    staticClass: "reset"
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 显示答案 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 正确答案： "), s("div", [e._v(e._s(e.rightAnswerTransform))])]) : e._e()])], 2) : e._e()
            }
            , is = [];
        const { mapMutations: as, mapGetters: os } = Object(w["a"])("examingHomeModule")
            , ns = "ABCDEFGHIJ".split("");
        var rs = {
            name: "SingleQuestionView",
            components: {
                QuestionBody: Zt
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    questionBody: this.question.body,
                    optionName: ns,
                    studentAnswer: this.examQuestion.studentAnswer,
                    isShowAnswer: !1
                }
            },
            computed: {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                newQuestionOptions() {
                    return this.question.questionOptionList.map((e, t) => ({
                        value: this.question.questionOptionList[this.examQuestion.optionPermutation[t]],
                        oldIndex: "" + this.examQuestion.optionPermutation[t],
                        name: ns[t]
                    }))
                },
                oldIndexToABCD() {
                    return this.examQuestion.studentAnswer && this.newQuestionOptions.filter(e => this.examQuestion.studentAnswer.includes(e.oldIndex)).map(e => e.name).join("")
                },
                rightAnswerTransform() {
                    return this.question.rightAnswer && this.newQuestionOptions.filter(e => this.question.rightAnswer.includes(e.oldIndex)).map(e => e.name).join("")
                }
            },
            watch: {
                examQuestion: function (e) {
                    this.studentAnswer = e.studentAnswer
                },
                question(e) {
                    this.questionBody = e.body
                }
            },
            created: function () {
                window.addEventListener("keyup", this.keyup)
            },
            beforeDestroy() {
                window.removeEventListener("keyup", this.keyup)
            },
            beforeUpdate() {
                this.answerQuestion(this.studentAnswer)
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, as(["updateExamQuestion"])), os(["examShouldShowAnswer"])), {}, {
                keyup(e) {
                    (["BODY", "A", "BUTTON", "DIV"].includes(document.activeElement.tagName) || ["INPUT"].includes(document.activeElement.tagName) && ["checkbox", "radio"].includes(document.activeElement.type)) && ns.map(e => "Key" + e).slice(0, this.question.questionOptionList.length).includes(e.code) && (window._hmt.push(["_trackEvent", "答题页面", "快捷键", "ABCDE"]),
                        this.studentAnswer = this.newQuestionOptions.find(t => t.name == e.code[3]).oldIndex)
                },
                async answerQuestion(e) {
                    !1 !== this.isSyncState ? e !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                        order: this.examQuestion.order,
                        studentAnswer: e
                    }) : console.log("更新答案时，问题与答案的号码不一致。")
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                }
            })
        }
            , cs = rs
            , ls = (s("7e8b"),
                Object(l["a"])(cs, ss, is, !1, null, "504f9ae4", null))
            , ds = ls.exports
            , us = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState && "MULTIPLE_CHOICE" === e.examQuestion.questionType ? s("div", {
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.question.body,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "stu-answer"
                }, [e._v(e._s(e.oldIndexToABCD))]), s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "分)")])]), e._l(e.newQuestionOptions, (function (t, i) {
                    return s("div", {
                        key: i,
                        staticClass: "option",
                        on: {
                            click: function (s) {
                                return e.toggleAnswer(t.oldIndex)
                            }
                        }
                    }, [s("div", {
                        class: e.studentAnswer.includes(t.oldIndex) && "row-selected",
                        staticStyle: {
                            display: "flex"
                        }
                    }, [s("input", {
                        staticStyle: {
                            "margin-top": "4px"
                        },
                        attrs: {
                            type: "checkbox",
                            name: "question",
                            value: "option.oldIndex"
                        },
                        domProps: {
                            checked: e.studentAnswer && e.studentAnswer.includes(t.oldIndex)
                        }
                    }), s("span", {
                        staticStyle: {
                            padding: "0 10px"
                        }
                    }, [e._v(e._s(e.optionName[i]) + ": ")]), t.value ? s("div", {
                        staticClass: "question-options"
                    }, [s("question-body", {
                        attrs: {
                            "question-body": t.value.body,
                            "exam-question": e.examQuestion
                        }
                    })], 1) : e._e()])])
                })), s("div", {
                    staticClass: "reset"
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 显示答案 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 正确答案： "), s("div", [e._v(e._s(e.rightAnswerTransform))])]) : e._e()])], 2) : e._e()
            }
            , hs = [];
        const { mapMutations: ms, mapGetters: ps } = Object(w["a"])("examingHomeModule")
            , _s = "ABCDEFGHIJ".split("");
        var gs = {
            name: "MultipleQuestionView",
            components: {
                QuestionBody: Zt
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    questionBody: this.question.body,
                    optionName: _s,
                    studentAnswer: this.examQuestion.studentAnswer || "",
                    isShowAnswer: !1
                }
            },
            computed: {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                newQuestionOptions() {
                    return this.question.questionOptionList.map((e, t) => ({
                        value: this.question.questionOptionList[this.examQuestion.optionPermutation[t]],
                        oldIndex: "" + this.examQuestion.optionPermutation[t],
                        name: _s[t]
                    }))
                },
                oldIndexToABCD() {
                    return this.examQuestion.studentAnswer && this.newQuestionOptions.filter(e => this.examQuestion.studentAnswer.includes(e.oldIndex)).map(e => e.name).join("")
                },
                rightAnswerTransform() {
                    return this.question.rightAnswer && this.newQuestionOptions.filter(e => this.question.rightAnswer.includes(e.oldIndex)).map(e => e.name).join("")
                }
            },
            watch: {
                examQuestion: function () {
                    this.studentAnswer = this.examQuestion.studentAnswer || ""
                }
            },
            created: function () {
                window.addEventListener("keyup", this.keyup)
            },
            beforeDestroy() {
                window.removeEventListener("keyup", this.keyup)
            },
            beforeUpdate() {
                this.answerQuestion(this.studentAnswer)
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, ms(["updateExamQuestion"])), ps(["examShouldShowAnswer"])), {}, {
                keyup(e) {
                    if ((["BODY", "A", "BUTTON", "DIV"].includes(document.activeElement.tagName) || ["INPUT"].includes(document.activeElement.tagName) && ["checkbox", "radio"].includes(document.activeElement.type)) && _s.map(e => "Key" + e).slice(0, this.question.questionOptionList.length).includes(e.code)) {
                        window._hmt.push(["_trackEvent", "答题页面", "快捷键", "ABCDE"]);
                        const t = "" + this.newQuestionOptions.find(t => t.name == e.code[3]).oldIndex;
                        this.studentAnswer.includes(t) ? this.studentAnswer = this.studentAnswer.replace(t, "") : this.studentAnswer = this.studentAnswer.concat(t).split("").sort().join("")
                    }
                },
                toggleAnswer: function (e) {
                    this.studentAnswer.includes(e) ? this.studentAnswer = this.studentAnswer.replace(e, "") : this.studentAnswer = this.studentAnswer.concat(e).split("").sort().join("")
                },
                async answerQuestion(e) {
                    if (!1 === this.isSyncState)
                        return void console.log("更新答案时，问题与答案的号码不一致。");
                    let t = e;
                    "" === e && (t = null),
                        t !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                            order: this.examQuestion.order,
                            studentAnswer: t
                        })
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                }
            })
        }
            , ws = gs
            , fs = (s("6745"),
                Object(l["a"])(ws, us, hs, !1, null, "6edf9d9e", null))
            , vs = fs.exports
            , ys = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState ? s("div", {
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.question.body,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "stu-answer"
                }, [e._v(" " + e._s({
                    true: "正确",
                    false: "错误"
                }[e.studentAnswer]) + " ")]), s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "分)")])]), s("div", {
                    class: ["true" === e.studentAnswer && "row-selected", "option"],
                    on: {
                        click: function () {
                            return e.answerQuestion("true")
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        "margin-top": "3px",
                        display: "block"
                    },
                    attrs: {
                        type: "radio",
                        name: "question",
                        value: "true"
                    },
                    domProps: {
                        checked: "true" === e.studentAnswer
                    }
                }), s("span", {
                    staticClass: "question-options"
                }, [e._v("正确")])]), s("div", {
                    class: ["false" === e.studentAnswer && "row-selected", "option"],
                    on: {
                        click: function () {
                            return e.answerQuestion("false")
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        "margin-top": "3px",
                        display: "block"
                    },
                    attrs: {
                        type: "radio",
                        name: "question",
                        value: "false"
                    },
                    domProps: {
                        checked: "false" === e.studentAnswer
                    }
                }), s("span", {
                    staticClass: "question-options"
                }, [e._v("错误")])]), s("div", {
                    staticClass: "reset"
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 显示答案 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 正确答案： "), s("div", [e._v(e._s({
                    true: "正确",
                    false: "错误"
                }[e.question.rightAnswer]))])]) : e._e()])], 1) : e._e()
            }
            , bs = [];
        const { mapMutations: xs, mapGetters: Es } = Object(w["a"])("examingHomeModule");
        var Ss = {
            name: "BooleanQuestionView",
            components: {
                QuestionBody: Zt
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    isShowAnswer: !1
                }
            },
            computed: {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                studentAnswer: e => e.examQuestion.studentAnswer
            },
            watch: {},
            created: function () {
                window.addEventListener("keyup", this.keyup)
            },
            beforeDestroy() {
                window.removeEventListener("keyup", this.keyup)
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, xs(["updateExamQuestion"])), Es(["examShouldShowAnswer"])), {}, {
                keyup(e) {
                    (["BODY", "A", "BUTTON", "DIV"].includes(document.activeElement.tagName) || ["INPUT"].includes(document.activeElement.tagName) && ["checkbox", "radio"].includes(document.activeElement.type)) && (window._hmt.push(["_trackEvent", "答题页面", "快捷键", "YN"]),
                        "KeyY" === e.code && this.answerQuestion("true"),
                        "KeyN" === e.code && this.answerQuestion("false"))
                },
                async answerQuestion(e) {
                    !1 !== this.isSyncState ? e !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                        order: this.examQuestion.order,
                        studentAnswer: e
                    }) : console.log("更新答案时，问题与答案的号码不一致。")
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                }
            })
        }
            , Cs = Ss
            , Os = (s("e902"),
                Object(l["a"])(Cs, ys, bs, !1, null, "c0bec46c", null))
            , Is = Os.exports
            , ks = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState ? s("div", {
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.questionBody,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "分)")])]), e._l(e.studentAnswer.split("##"), (function (t, i) {
                    return s("div", {
                        key: e.examQuestion.questionId + i,
                        staticClass: "option"
                    }, [s("span", {
                        staticClass: "question-options"
                    }, [e._v(e._s(i + 1) + ". ")]), s("input", {
                        staticClass: "input-answer",
                        attrs: {
                            type: "text",
                            maxlength: "5000",
                            name: "question"
                        },
                        domProps: {
                            value: t
                        },
                        on: {
                            input: e.inputAnswer
                        }
                    })])
                })), s("div", {
                    staticClass: "reset"
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 显示答案 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 正确答案： "), s("div", {
                    staticClass: "right-answer-section",
                    domProps: {
                        innerHTML: e._s(e.rightAnswerTransform)
                    }
                })]) : e._e()])], 2) : e._e()
            }
            , Ts = [];
        const { mapMutations: As, mapGetters: Ps } = Object(w["a"])("examingHomeModule");
        var Ms = {
            name: "FillBlankQuestionView",
            components: {
                QuestionBody: Zt
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    studentAnswer: "",
                    questionBody: "",
                    isShowAnswer: !1
                }
            },
            computed: {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                rightAnswerTransform() {
                    return this.question.rightAnswer && this.question.rightAnswer.join("").split("##").map((e, t) => `${t + 1}、${e}<br>`).join("")
                }
            },
            watch: {
                question(e) {
                    this.questionBody = e.body,
                        this.prepareData()
                },
                studentAnswer() {
                    let e = null;
                    this.studentAnswer && this.studentAnswer.replace(/##/g, "").trim() && (e = this.studentAnswer.replace(/</gi, "&lt;").replace(/>/gi, "&gt;")),
                        e !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                            order: this.examQuestion.order,
                            studentAnswer: e
                        })
                }
            },
            created() {
                this.prepareData()
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, As(["updateExamQuestion"])), Ps(["examShouldShowAnswer"])), {}, {
                prepareData() {
                    const e = this.question.body.split(/_{5,}/).length - 1;
                    this.studentAnswer = this.examQuestion.studentAnswer || "##".repeat(e - 1);
                    const t = this.studentAnswer.replace(/</gi, "&lt;").replace(/>/gi, "&gt;").split("##");
                    this.questionBody = this.question.body.replace(/_{5,}/g, () => "<span style='display: inline-block; min-width: 80px; border-bottom: 1px solid black; text-align: center'>" + (t.shift() || e - t.length) + "</span>")
                },
                inputAnswer: function () {
                    const e = this.question.body.split(/_{5,}/).length - 1;
                    let t = "";
                    document.querySelectorAll(".option input").forEach(e => t += e.value + "##"),
                        this.studentAnswer = t.slice(0, -2);
                    const s = this.studentAnswer.replace(/</gi, "&lt;").replace(/>/gi, "&gt;").split("##");
                    this.questionBody = this.question.body.replace(/_{5,}/g, () => "<span style='display: inline-block; min-width: 80px; border-bottom: 1px solid black; text-align: center'>" + (s.shift() || e - s.length) + "</span>")
                },
                resetAnswer() {
                    this.updateExamQuestion({
                        order: this.examQuestion.order,
                        studentAnswer: null
                    }),
                        this.examQuestion.studentAnswer = null,
                        this.prepareData()
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                }
            })
        }
            , Ds = Ms
            , Rs = (s("f5d8"),
                s("93f8"),
                Object(l["a"])(Ds, ks, Ts, !1, null, "48f5d3e9", null))
            , Ls = Rs.exports
            , qs = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.isSyncState ? s("div", {
                    key: e.answerDivKey,
                    staticClass: "question-view"
                }, [s("question-body", {
                    attrs: {
                        "question-body": e.question.body,
                        "exam-question": e.examQuestion
                    }
                }), s("div", {
                    staticClass: "ops"
                }, [s("div", {
                    staticClass: "score"
                }, [e._v("(" + e._s(e.examQuestion.questionScore) + "分)")])]), s("div", {
                    staticClass: "option"
                }, [e.isAudioAnswerType ? e._e() : s("div", [s("div", {
                    staticClass: "menu"
                }, [s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textCopy
                    }
                }, [e._v(" 复制 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textCut
                    }
                }, [e._v(" 剪切 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textPaste
                    }
                }, [e._v(" 粘贴 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textSup
                    }
                }, [e._v(" 上标 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.undoTextSup
                    }
                }, [e._v(" 取消上标 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.textSub
                    }
                }, [e._v(" 下标 ")]), s("Button", {
                    staticClass: "text-ops",
                    attrs: {
                        type: "info",
                        size: "small"
                    },
                    on: {
                        click: e.undoTextSup
                    }
                }, [e._v(" 取消下标 ")])], 1), s("div", {
                    ref: "answerDiv",
                    staticClass: "stu-answer",
                    attrs: {
                        ondragstart: "return false",
                        ondrop: "return false",
                        contenteditable: !0
                    },
                    domProps: {
                        innerHTML: e._s(e.originalStudentAnswer)
                    },
                    on: {
                        keydown: e.disableCtrl,
                        input: function (t) {
                            return e.textInput(t)
                        },
                        blur: function (t) {
                            return e.textInput(t)
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "margin-top": "-25px",
                        "margin-bottom": "25px",
                        width: "100%",
                        "max-width": "500px"
                    }
                }, [s("div", {
                    staticStyle: {
                        float: "right",
                        "margin-right": "10px"
                    }
                }, [e._v(" " + e._s(e.answerWordCount) + " ")])])]), e.shouldFetchQrCode && e.isAudioAnswerType ? s("div", [s("div", [e.qrValue ? s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("qrcode", {
                    staticStyle: {
                        "margin-left": "-10px"
                    },
                    attrs: {
                        value: e.qrValue,
                        options: {
                            width: 200
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "margin-top": "10px"
                    }
                }, [s("div", [e._v(" 请使用"), s("span", {
                    staticStyle: {
                        "font-weight": "900",
                        color: "#1e90ff"
                    }
                }, [e._v("微信")]), e._v("扫描二维码后，在微信小程序上" + e._s(e.isAudioAnswerType ? "录音" : "拍照") + "，并上传文件。 ")]), e.qrScanned ? s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        "font-size": "30px"
                    }
                }, [e._v(" " + e._s(e.examQuestion.studentAnswer ? "已上传" : "已扫描") + " "), s("Icon", {
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : e._e()])], 1) : s("div", [e._v("正在获取二维码...")])]), s("div", {
                    staticClass: "audio-answer audio-answer-line-height",
                    staticStyle: {
                        "margin-top": "20px"
                    }
                }, [s("span", {
                    staticClass: "audio-answer-line-height"
                }, [e._v("答案：")]), e.examQuestion.studentAnswer ? s("audio", {
                    staticClass: "audio-answer-line-height",
                    attrs: {
                        controls: "",
                        controlsList: "nodownload",
                        src: e.examQuestion.studentAnswer
                    }
                }) : s("span", {
                    staticClass: "audio-answer-line-height"
                }, [e._v("未上传文件")])])]) : e._e(), e.canAttachPhotos ? s("div", {
                    staticStyle: {
                        "padding-top": "1px"
                    }
                }, [s("UploadPhotos", {
                    staticStyle: {
                        "margin-top": "20px",
                        width: "350px"
                    },
                    attrs: {
                        "default-list": e.photoAnswers.map((function (e) {
                            return e
                        })),
                        "qr-value": e.qrValue,
                        "exam-question": e.examQuestion
                    },
                    on: {
                        "on-photo-added": e.photoAdded,
                        "on-photo-removed": e.photoRemoved,
                        "on-photos-reseted": e.photosReseted
                    }
                })], 1) : e._e(), s("div", {
                    staticClass: "reset",
                    staticStyle: {
                        "padding-top": "20px"
                    }
                }, [e.examShouldShowAnswer() ? s("span", [e._v(" "), s("Button", {
                    attrs: {
                        type: "info",
                        size: "large"
                    },
                    on: {
                        click: e.showAnswer
                    }
                }, [e._v(" 显示答案 ")])], 1) : e._e(), e.examShouldShowAnswer() && e.isShowAnswer ? s("div", [e._v(" 正确答案： "), s("div", {
                    domProps: {
                        innerHTML: e._s(e.rightAnswerTransform)
                    }
                })]) : e._e()])])], 1) : e._e()
            }
            , js = []
            , Ns = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [s("draggable", {
                    staticClass: "upload-images",
                    attrs: {
                        move: e.dragMove
                    },
                    on: {
                        update: e.uploadListSort
                    },
                    model: {
                        value: e.uploadList,
                        callback: function (t) {
                            e.uploadList = t
                        },
                        expression: "uploadList"
                    }
                }, [e._l(e.uploadList, (function (t, i) {
                    return s("div", {
                        key: t,
                        staticClass: "demo-upload-list"
                    }, [s("img", {
                        attrs: {
                            src: t
                        }
                    }), s("div", {
                        staticClass: "demo-upload-list-cover"
                    }, [s("Icon", {
                        attrs: {
                            type: "ios-eye-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (t) {
                                return e.handleView(".upload-images", i)
                            }
                        }
                    }), s("Icon", {
                        staticStyle: {
                            position: "absolute",
                            top: "0px"
                        },
                        attrs: {
                            type: "ios-trash-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (s) {
                                return e.handleRemove(t)
                            }
                        }
                    })], 1)])
                })), e.uploadList.length < 6 ? s("div", {
                    staticClass: "demo-upload-list plus",
                    on: {
                        click: e.prepareUpload
                    }
                }, [e._v(" + ")]) : e._e()], 2), e._m(0), s("Modal", {
                    attrs: {
                        title: "上传图片",
                        mask: "",
                        "footer-hide": "",
                        "mask-closable": !1,
                        closable: !1,
                        width: "660"
                    },
                    model: {
                        value: e.uploadModalVisible,
                        callback: function (t) {
                            e.uploadModalVisible = t
                        },
                        expression: "uploadModalVisible"
                    }
                }, [s("div", [e.qrValue ? s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [s("qrcode", {
                    style: {
                        "margin-left": "-10px",
                        filter: e.totalList.length >= 6 ? "blur(10px)" : "none"
                    },
                    attrs: {
                        value: e.qrValue,
                        options: {
                            width: 200
                        }
                    }
                }), s("div", {
                    staticStyle: {
                        "font-size": "24px",
                        "margin-top": "10px"
                    }
                }, [s("div", [e._v(" 请使用"), s("span", {
                    staticStyle: {
                        "font-weight": "900",
                        color: "#1e90ff"
                    }
                }, [e._v("微信")]), e._v("扫描二维码后，在微信小程序上拍照，并上传文件。"), s("br"), e._v(" 上传期间，请勿关闭二维码。 ")]), e.qrScanned ? s("div", {
                    staticStyle: {
                        "margin-top": "30px",
                        "font-size": "30px"
                    }
                }, [e._v(" " + e._s(e.uploaded ? "已上传" : "已扫描") + " "), s("Icon", {
                    attrs: {
                        type: "md-checkmark"
                    }
                })], 1) : e._e()])], 1) : s("div", [e._v("正在获取二维码...")]), s("draggable", {
                    staticClass: "total-images",
                    on: {
                        start: function (t) {
                            e.drag = !0
                        },
                        end: function (t) {
                            e.drag = !1
                        }
                    },
                    model: {
                        value: e.totalList,
                        callback: function (t) {
                            e.totalList = t
                        },
                        expression: "totalList"
                    }
                }, e._l(e.totalList, (function (t, i) {
                    return s("div", {
                        key: t,
                        staticClass: "demo-upload-list"
                    }, [s("img", {
                        attrs: {
                            src: t
                        }
                    }), s("div", {
                        staticClass: "demo-upload-list-cover"
                    }, [s("Icon", {
                        attrs: {
                            type: "ios-eye-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (t) {
                                return e.handleView(".total-images", i)
                            }
                        }
                    }), s("Icon", {
                        staticStyle: {
                            position: "absolute",
                            top: "0px"
                        },
                        attrs: {
                            type: "ios-trash-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (s) {
                                return e.handleRemoveTotal(t)
                            }
                        }
                    })], 1)])
                })), 0), e.totalList.length > 6 ? s("div", [e._v("* 图片上传最多只支持6张")]) : e._e(), s("div", {
                    staticStyle: {
                        display: "flex",
                        "justify-content": "center"
                    }
                }, [s("Button", {
                    attrs: {
                        type: "primary",
                        size: "large"
                    },
                    on: {
                        click: e.modalCloseClicked
                    }
                }, [e._v(" 确认 ")])], 1)], 1)])], 1)
            }
            , Bs = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [e._v(" 点击"), s("span", {
                    staticStyle: {
                        color: "blue",
                        "font-size": "24px"
                    }
                }, [e._v("+")]), e._v("上传图片(最多上传6张图片) ")])
            }
            ]
            , $s = s("310e")
            , Fs = s.n($s)
            , Us = (s("0808"),
                s("c82c"))
            , Qs = s.n(Us);
        const { mapState: Ws, mapMutations: Vs } = Object(w["a"])("examingHomeModule");
        var Hs = {
            name: "UploadPhotos",
            components: {
                qrcode: K.a,
                draggable: Fs.a
            },
            props: {
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                defaultList: {
                    type: Array,
                    default() {
                        return []
                    }
                },
                qrValue: {
                    type: String,
                    default: ""
                }
            },
            data() {
                return {
                    visible: !1,
                    uploadModalVisible: !1,
                    rotate: 0,
                    uploadList: [],
                    totalList: [],
                    uploadUrl: "",
                    headers: {},
                    format: ["jpg", "jpeg", "png"],
                    qrScanned: !1,
                    uploaded: !1,
                    drag: !1
                }
            },
            computed: Object(p["a"])({}, Ws(["questionQrCodeScanned", "pictureAnswer"])),
            watch: {
                defaultList: {
                    handler: function () {
                        this.uploadList = this.defaultList
                    },
                    deep: !0
                },
                questionQrCodeScanned(e) {
                    e.order === this.examQuestion.order && (this.qrScanned = !0)
                },
                pictureAnswer(e) {
                    console.log("watch", e),
                        this.uploaded = !0,
                        e.order === this.examQuestion.order && this.totalList.push(...new Set(e.fileUrl.split(",")))
                },
                uploadModalVisible(e) {
                    this.updateUploadModalVisible(e)
                }
            },
            mounted() {
                this.uploadList = this.defaultList
            },
            methods: Object(p["a"])(Object(p["a"])({}, Vs(["updateUploadModalVisible"])), {}, {
                handleView(e, t) {
                    const s = new Qs.a(document.querySelector(e), {
                        container: "#app",
                        zIndex: 99999,
                        title: !1,
                        toolbar: {
                            zoomIn: 1,
                            zoomOut: 1,
                            oneToOne: 1,
                            reset: 1,
                            prev: 1,
                            play: {
                                show: 0,
                                size: "large"
                            },
                            next: 1,
                            rotateLeft: 1,
                            rotateRight: 1,
                            flipHorizontal: 1,
                            flipVertical: 1
                        },
                        ready() {
                            s.view(t)
                        },
                        hidden() {
                            s.destroy()
                        }
                    });
                    s.show()
                },
                handleRemove(e) {
                    this.$emit("on-photo-removed", e)
                },
                handleRemoveTotal(e) {
                    this.totalList.splice(this.totalList.indexOf(e), 1)
                },
                prepareUpload() {
                    this.uploadModalVisible = !0,
                        this.qrScanned = !1,
                        this.uploaded = !1,
                        this.totalList = [...this.uploadList]
                },
                modalCloseClicked() {
                    !this.qrScanned || this.uploaded ? this.totalList.length > 6 ? this.$Modal.warning({
                        title: "图片数量超出限制",
                        content: "请删除多余的图片，图片总数不应该超过6张"
                    }) : (this.uploadModalVisible = !1,
                        this.$emit("on-photos-reseted", this.totalList)) : this.$Modal.confirm({
                            title: "确认关闭？",
                            content: "检测到二维码被扫描，但是图片未上传。关闭此窗口后，将不再接受小程序图片上传。",
                            okText: "确定关闭",
                            cancelText: "取消关闭",
                            onOk: () => {
                                this.uploadModalVisible = !1
                            }
                            ,
                            onCancel: () => { }
                        })
                },
                uploadListSort() {
                    this.$emit("on-photos-reseted", this.uploadList)
                },
                dragMove(e) {
                    return console.log(e),
                        !e.dragged.className.includes("plus")
                }
            })
        }
            , zs = Hs
            , Ks = (s("f9c5"),
                Object(l["a"])(zs, Ns, Bs, !1, null, "54a41920", null))
            , Gs = Ks.exports;
        const { mapMutations: Js, mapGetters: Xs, mapState: Ys } = Object(w["a"])("examingHomeModule");
        var Zs = {
            name: "TextQuestionView",
            components: {
                QuestionBody: Zt,
                UploadPhotos: Gs,
                qrcode: K.a
            },
            props: {
                question: {
                    type: Object,
                    default() {
                        return {}
                    }
                },
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    studentAnswer: this.examQuestion.studentAnswer,
                    originalStudentAnswer: this.examQuestion.studentAnswer,
                    isShowAnswer: !1,
                    answerDivKey: Math.random(),
                    qrValue: "",
                    qrScanned: !1
                }
            },
            computed: Object(p["a"])(Object(p["a"])({}, Ys(["exam", "questionQrCode", "questionQrCodeScanned"])), {}, {
                isSyncState() {
                    return this.examQuestion.order == this.$route.params.order
                },
                rightAnswerTransform() {
                    return this.question.rightAnswer.join("")
                },
                answerWordCount() {
                    if (this.studentAnswer && this.$refs.answerDiv)
                        return this.$refs.answerDiv.innerText.replace(/\s+/g, "").length;
                    {
                        const e = document.createElement("div");
                        return e.innerHTML = this.studentAnswer,
                            e.innerText.replace(/\s+/g, "").length
                    }
                },
                isAudioAnswerType() {
                    return "SINGLE_AUDIO" === this.examQuestion.answerType
                },
                shouldFetchQrCode() {
                    const e = this.exam.WEIXIN_ANSWER_ENABLED;
                    return e
                },
                canAttachPhotos() {
                    return this.exam.WEIXIN_ANSWER_ENABLED && !this.isAudioAnswerType
                },
                photoAnswers: {
                    get() {
                        if (!this.studentAnswer)
                            return [];
                        const e = document.createElement("div");
                        e.innerHTML = this.studentAnswer;
                        const t = e.querySelectorAll(".photo-answer");
                        return [...t].map(e => e.src.replace("?x-oss-process=image/resize,m_lfit,h_200,w_200", ""))
                    },
                    set(e) {
                        let t = e.map(e => `<a href='${e}' target='_blank' ><img class='photo-answer' src='${e + "?x-oss-process=image/resize,m_lfit,h_200,w_200"}' /></a>`);
                        const s = document.createElement("div");
                        s.innerHTML = this.studentAnswer || "";
                        const i = s.querySelectorAll(".photo-answers-block");
                        i && [...i].forEach(e => e.remove()),
                            s.innerHTML || 0 !== e.length ? (this.studentAnswer = s.innerHTML + `<div class='photo-answers-block'>${t.join("")}</div>`,
                                this.originalStudentAnswer = this.studentAnswer) : (this.studentAnswer = null,
                                    this.originalStudentAnswer = null)
                    }
                }
            }),
            watch: {
                examQuestion() {
                    this.studentAnswer = this.examQuestion.studentAnswer
                },
                questionQrCode(e) {
                    e.order === this.examQuestion.order && (this.qrValue = e.qrCode)
                },
                questionQrCodeScanned(e) {
                    e.order === this.examQuestion.order && (this.qrScanned = !0)
                },
                studentAnswer() {
                    let e = null;
                    this.studentAnswer && (e = this.studentAnswer.replace(/<sup><\/sup>/gi, "").replace(/<sub><\/sub>/gi, "").replace(/<script/gi, "&lt;script").replace(/script>/gi, "script&gt;")),
                        e !== this.examQuestion.studentAnswer && this.updateExamQuestion({
                            order: this.examQuestion.order,
                            studentAnswer: e
                        })
                }
            },
            created() {
                this.fetchQRCode(),
                    this.fetchQRCodeInterval = setInterval(() => {
                        this.qrValue ? clearInterval(this.fetchQRCodeInterval) : this.fetchQRCode()
                    }
                        , 6e3)
            },
            beforeDestroy() {
                clearInterval(this.fetchQRCodeInterval)
            },
            methods: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, Js(["updateExamQuestion"])), Xs(["examShouldShowAnswer"])), {}, {
                disableCtrl(e) {
                    return !(e.ctrlKey || e.metaKey || e.altKey) || (e.preventDefault(),
                        !1)
                },
                textCopy() {
                    var e = getSelection()
                        , t = e.getRangeAt(0);
                    this.copyNode = t.cloneContents()
                },
                textCut() {
                    var e = getSelection()
                        , t = e.getRangeAt(0);
                    this.copyNode = t.extractContents(),
                        this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                textPaste() {
                    var e = getSelection()
                        , t = e.getRangeAt(0);
                    t.deleteContents(),
                        t.insertNode(this.copyNode.cloneNode(!0)),
                        this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                textSup() {
                    const e = this.$refs.answerDiv.innerHTML + "";
                    getSelection().getRangeAt(0).surroundContents(document.createElement("sup")),
                        this.$refs.answerDiv.querySelector("sup sup, sub sub, sup sub, sub sup") ? (console.log("不允许多层上标下标"),
                            this.$refs.answerDiv.innerHTML = e) : this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                undoTextSup() {
                    getSelection().modify("extend", "left", "character");
                    let e = getSelection().getRangeAt(0);
                    var t = e.extractContents()
                        , s = new Text(t.textContent);
                    e.insertNode(s),
                        this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                textSub() {
                    const e = this.$refs.answerDiv.innerHTML + "";
                    getSelection().getRangeAt(0).surroundContents(document.createElement("sub")),
                        this.$refs.answerDiv.querySelector("sup sup, sub sub, sup sub, sub sup") ? (console.log("不允许多层上标下标"),
                            this.$refs.answerDiv.innerHTML = e) : this.studentAnswer = this.$refs.answerDiv.innerHTML
                },
                textInput(e) {
                    this.studentAnswer = e.target.innerHTML
                },
                showAnswer() {
                    this.isShowAnswer = !this.isShowAnswer
                },
                resetAnswer() {
                    this.studentAnswer = null,
                        this.originalStudentAnswer = null,
                        this.answerDivKey = Math.random()
                },
                async fetchQRCode() {
                    if (this.shouldFetchQrCode) {
                        const e = "SINGLE_AUDIO" === this.examQuestion.answerType ? "AUDIO" : "PIC"
                            , t = this.$route.params.examRecordDataId
                            , s = await this.$http.post("/api/ecs_oe_student/examControl/getQrCode", { examRecordDataId: t, order: +this.examQuestion.order, transferFileType: e, testEnv: !1 });
                        this.qrValue = s.data
                    }
                },
                photoAdded(e) {
                    this.photoAnswers = [...this.photoAnswers, e]
                },
                photoRemoved(e) {
                    this.photoAnswers = this.photoAnswers.filter(t => t !== e)
                },
                photosReseted(e) {
                    this.photoAnswers = [...e]
                }
            })
        }
            , ei = Zs
            , ti = (s("80a2"),
                s("2d57"),
                Object(l["a"])(ei, qs, js, !1, null, "47bf2d7a", null))
            , si = ti.exports
            , ii = {
                name: "QuestionViewSingle",
                components: {
                    SingleQuestionView: ds,
                    MultipleQuestionView: vs,
                    BooleanQuestionView: Is,
                    FillBlankQuestionView: Ls,
                    TextQuestionView: si
                },
                props: {
                    question: {
                        type: Object,
                        default() {
                            return {}
                        }
                    },
                    examQuestion: {
                        type: Object,
                        default() {
                            return {}
                        }
                    }
                }
            }
            , ai = ii
            , oi = (s("5366"),
                Object(l["a"])(ai, es, ts, !1, null, "16723c18", null))
            , ni = oi.exports
            , ri = s("19ab")
            , ci = s.n(ri);
        const { mapState: li, mapMutations: di } = Object(w["a"])("examingHomeModule");
        var ui = {
            name: "QuestionView",
            components: {
                QuestionIndex: Pt,
                QuestionBody: Zt,
                "split-pane": ci.a,
                QuestionViewSingle: ni
            },
            props: {
                examQuestion: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {
                    parentQuestionBody: null,
                    question: null,
                    parentPaneHeight: 50
                }
            },
            computed: Object(p["a"])({}, li(["examQuestionList"])),
            watch: {
                $route: function (e, t) {
                    this.updateQuestion(e, t)
                }
            },
            created() {
                this.updateQuestion()
            },
            mounted() { },
            methods: Object(p["a"])(Object(p["a"])({}, di(["updateExamQuestion"])), {}, {
                async updateQuestion(e, t) {
                    const s = this.examQuestion
                        , i = this.$route.params.examRecordDataId;
                    if (t && e) {
                        const s = t.params.order - 1
                            , i = e.params.order - 1;
                        this.examQuestionList[s].questionId !== this.examQuestionList[i].questionId && (this.parentQuestionBody = null,
                            this.question = null)
                    }
                    let a = null;
                    try {
                        a = await this.$http.get("/api/ecs_oe_student/examQuestion/getQuestionContent?questionId=" + s.questionId + "&exam_record_id=" + i)
                    } catch (d) {
                        return s.order != this.$route.params.order ? void console.log("QuestionView: 如果网络异常，又离开本页面后，不再后续处理此请求 ") : (this.parentQuestionBody = null,
                            void (this.question = null))
                    }
                    if (s.order != this.$route.params.order)
                        return void console.log("试题获取内容后，发现页面已经切到别的题目上去了，放弃后续渲染. 获取的eq.order/$route.order" + s.order + "/" + this.$route.params.order);
                    const o = a.data;
                    this.updateExamQuestion({
                        order: s.order,
                        getQuestionContent: !0
                    });
                    const n = function (e) {
                        e.body && (e.body = e.body.toString().replace(new RegExp("###", "g"), "_______"),
                            e.body = e.body.toString().replace(/##(\d+)##/g, (function (e, t) {
                                return "__" + parseInt(t) + "__"
                            })))
                    }
                        , r = function (e) {
                            if ("SINGLE_CHOICE" === e.questionType || "MULTIPLE_CHOICE" === e.questionType)
                                for (var t = 0, s = e.questionOptionList.length; t < s; t++)
                                    ;
                            "FILL_UP" === e.questionType && (e.answer && e.answer.indexOf("##") > -1 ? e.answerList = e.answer.split("##") : e.answerList = [e.answer]),
                                n(e)
                        };
                    if (o.body) {
                        n(o);
                        for (var c = 0, l = o.questionUnitList.length; c < l; c++)
                            r(o.questionUnitList[c]);
                        this.parentQuestionBody = o.body
                    } else
                        this.parentQuestionBody = null,
                            r(o.questionUnitList[s.subNumber - 1]);
                    this.question = o.questionUnitList[s.subNumber - 1],
                        this.$nextTick(() => {
                            this.$nextTick(() => {
                                const e = document.getElementsByClassName("parent-question")[0];
                                e && (this.parentPaneHeight = 5 + 100 * e.clientHeight / (document.body.clientHeight - 160),
                                    this.parentPaneHeight > 60 && (this.parentPaneHeight = 60))
                            }
                            )
                        }
                        );
                    {
                        const e = s.order;
                        e < this.examQuestionList.length && this.$http.get("/api/ecs_oe_student/examQuestion/getQuestionContent?questionId=" + this.examQuestionList[e].questionId + "&exam_record_id=" + i)
                    }
                },
                async toggleSign() {
                    this.updateExamQuestion({
                        order: this.$route.params.order,
                        isSign: !this.examQuestion.isSign
                    })
                }
            })
        }
            , hi = ui
            , mi = (s("8bc3"),
                Object(l["a"])(hi, Et, St, !1, null, "274c58c6", null))
            , pi = mi.exports
            , _i = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "arrow-container"
                }, [s("div", {
                    staticClass: "prev"
                }, [e.previousQuestionOrder ? [s("router-link", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        to: {
                            path: "/online-exam/exam/" + e.$route.params.examId + "/examRecordData/" + e.$route.params.examRecordDataId + "/order/" + e.previousQuestionOrder
                        },
                        ondragstart: "return false;"
                    }
                }, [e._v(" 上一题 ")])] : [s("div", [e._v("上一题")])]], 2), s("div", {
                    staticClass: "tips"
                }, [e._v("A、B、C、D来勾选选项。")]), s("div", {
                    staticClass: "next"
                }, [e.nextQuestionOrder ? [s("router-link", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        ondragstart: "return false;",
                        to: {
                            path: "/online-exam/exam/" + e.$route.params.examId + "/examRecordData/" + e.$route.params.examRecordDataId + "/order/" + e.nextQuestionOrder
                        }
                    }
                }, [e._v(" 下一题 ")])] : [s("div", [e._v("下一题")])]], 2)])
            }
            , gi = []
            , wi = {
                name: "ArrowNavView",
                props: {
                    previousQuestionOrder: {
                        type: Number,
                        default: 0
                    },
                    nextQuestionOrder: {
                        type: Number,
                        default: 0
                    }
                },
                data() {
                    return {}
                },
                created: function () {
                    window.addEventListener("keyup", this.keyup)
                },
                beforeDestroy() {
                    window.removeEventListener("keyup", this.keyup)
                },
                methods: {
                    keyup() { },
                    goToNextQuestion() {
                        this.$router.push({
                            path: `/online-exam/exam/${this.$route.params.examId}/examRecordData/${this.$route.params.examRecordDataId}/order/${this.nextQuestionOrder}`
                        })
                    },
                    goToPreviousQuestion() {
                        this.$router.push({
                            path: `/online-exam/exam/${this.$route.params.examId}/examRecordData/${this.$route.params.examRecordDataId}/order/${this.previousQuestionOrder}`
                        })
                    }
                }
            }
            , fi = wi
            , vi = (s("3429"),
                Object(l["a"])(fi, _i, gi, !1, null, "65813964", null))
            , yi = vi.exports
            , bi = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticStyle: {
                        "padding-bottom": "10px"
                    }
                }, [e.paperStruct && e.examQuestionList ? e._l(e.paperStruct.defaultPaper.questionGroupList, (function (t, i) {
                    return s("div", {
                        key: i,
                        staticClass: "section"
                    }, [s("div", {
                        staticClass: "title"
                    }, [e._v(" " + e._s(e.toChineseNumber(i + 1)) + "、" + e._s(t.groupName) + " (" + e._s(t.groupScore) + "分) ")]), s("div", {
                        staticClass: "list"
                    }, [e._l(e.sectionQuestions(i), (function (t, a) {
                        return [e.isSelectedQuestion(i, a) ? [s("router-link", {
                            key: a,
                            class: e.itemClass(i, a),
                            attrs: {
                                ondragstart: "return false;",
                                to: {
                                    path: "/online-exam/exam/" + e.$route.params.examId + "/examRecordData/" + e.$route.params.examRecordDataId + "/order/" + e.getQuestionNum(i, a).order
                                }
                            }
                        }, [e._v(e._s(a + 1))])] : e._e()]
                    }))], 2)])
                })) : e._e()], 2)
            }
            , xi = [];
        const { mapState: Ei } = Object(w["a"])("examingHomeModule");
        var Si = {
            name: "QuestionNavView",
            props: {
                paperStruct: {
                    type: Object,
                    default() {
                        return {}
                    }
                }
            },
            data() {
                return {}
            },
            computed: Object(p["a"])({}, Ei(["questionFilterType", "examQuestionList"])),
            methods: {
                toChineseNumber(e) {
                    return Object(It["i"])(e)
                },
                getQuestionNum: function (e, t) {
                    if (!this.paperStruct || !this.examQuestionList || 0 === this.examQuestionList.length)
                        return 0;
                    let s = 0;
                    for (var i = 0; i < e; i++)
                        s += this.paperStruct.defaultPaper.questionGroupList[i].questionWrapperList.reduce((e, t) => e + t.questionUnitWrapperList.length, 0);
                    return this.examQuestionList[s + t]
                },
                isSelectedQuestion(e, t) {
                    let s = this.getQuestionNum(e, t);
                    return "ALL" === this.questionFilterType || ("ANSWERED" === this.questionFilterType && null !== s.studentAnswer || (!("SIGNED" !== this.questionFilterType || !s.isSign) || "UNANSWERED" === this.questionFilterType && null === s.studentAnswer))
                },
                itemClass(e, t) {
                    const s = this.$route.params.order == this.getQuestionNum(e, t).order;
                    return {
                        item: !0,
                        "current-question": s,
                        "star-question": this.getQuestionNum(e, t).isSign,
                        "is-answered": null !== this.getQuestionNum(e, t).studentAnswer
                    }
                },
                sectionQuestions(e) {
                    return this.examQuestionList.filter(t => t.mainNumber === e + 1)
                }
            }
        }
            , Ci = Si
            , Oi = (s("b8fe"),
                Object(l["a"])(Ci, bi, xi, !1, null, "83a8ef30", null))
            , Ii = Oi.exports
            , ki = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div")
            }
            , Ti = []
            , Ai = s("ab39");
        const { mapState: Pi } = Object(w["a"])("examingHomeModule");
        window.faceapi = Ai;
        let Mi = null;
        function Di() {
            if (null !== Mi)
                return Mi;
            var e = document.createElement("canvas")
                , t = e.getContext("webgl");
            return Mi = !!(t && t instanceof WebGLRenderingContext),
                Mi
        }
        let Ri = null;
        function Li() {
            if (null !== Ri)
                return Ri;
            try {
                Ri = Ai["tf"].ENV.get("WEBGL_PACK")
            } finally {
                !0 !== Ri && (Ri = !1)
            }
            return Ri
        }
        let qi = null
            , ji = 128
            , Ni = !1
            , Bi = !1;
        async function $i() {
            const e = [128, 160, 224, 320, 416, 512, 608]
                , t = [0, 0, 0, 0, 0, 0, 0]
                , s = 6;
            try {
                const e = performance.now()
                    , t = document.getElementById("video")
                    , s = new Ai["TinyFaceDetectorOptions"]({
                        inputSize: 128,
                        scoreThreshold: .5
                    })
                    , i = await Promise.race([Ai["detectAllFaces"](t, s), new Promise(e => setTimeout(e, 1e4))])
                    , a = performance.now();
                if (!i || !i.length || e - a > 2e3)
                    return Bi = !0,
                        window._hmt.push(["_trackEvent", "答题页面", "启动检测耗时过长：停止实时"]),
                        void Object(Z["b"])({
                            page: "实时人脸检测",
                            action: "启动检测耗时过长：停止实时",
                            result: JSON.stringify(i),
                            cost: e - a
                        })
            } catch (o) {
                return console.log(o),
                    Bi = !0,
                    window._hmt.push(["_trackEvent", "答题页面", "启动检测错误：停止实时"]),
                    void Object(Z["b"])({
                        page: "实时人脸检测",
                        action: "启动检测错误：停止实时",
                        errorJSON: JSON.stringify(o, (e, t) => "token" === e ? "" : t),
                        errorName: o.name,
                        errorMessage: o.message,
                        errorStack: o.stack
                    })
            }
            for (let n = 0; n < e.length; n++) {
                for (let i = 0; i < s; i++) {
                    await new Promise(e => setTimeout(e, 3e3)),
                        Ni && (console.log("正在活检，暂停实时人脸"),
                            await new Promise(e => setTimeout(e, 12e4)));
                    const s = e[n]
                        , i = document.getElementById("video");
                    try {
                        const e = performance.now()
                            , a = new Ai["TinyFaceDetectorOptions"]({
                                inputSize: s,
                                scoreThreshold: .5
                            });
                        if (!qi)
                            return;
                        const o = await Promise.race([Ai["detectAllFaces"](i, a), new Promise(e => setTimeout(e, 1e4))])
                            , r = performance.now();
                        if (e - r > 200)
                            return Bi = !0,
                                window._hmt.push(["_trackEvent", "答题页面", "单次检测耗时过长：停止实时"]),
                                void Object(Z["b"])({
                                    page: "实时人脸检测",
                                    action: "单次检测耗时过长：停止实时",
                                    cost: e - r
                                });
                        o && o.length >= 1 ? (console.log(`inputSize: ${s} ${o.length}`),
                            t[n]++) : console.log(`inputSize: ${s} 检测失败`)
                    } catch (o) {
                        console.log(o),
                            console.log(`inputSize: ${s} 检测失败-异常`)
                    }
                }
                if (t[n] === s) {
                    console.log(`inputSize: ${e[n]} 提前选中`);
                    break
                }
            }
            console.log({
                succRate: t
            });
            const i = Math.max(...t)
                , a = t.indexOf(i);
            return ji = e[a],
                window.__inputSize = ji,
                console.log("最好的 inputSize 为: " + ji),
                window._hmt.push(["_trackEvent", "答题页面", "最好的 inputSize 为: " + ji]),
                Object(Z["b"])({
                    page: "实时人脸检测",
                    action: "最好的 inputSize 为:" + ji
                }),
                ji
        }
        function Fi() {
            return new Ai["TinyFaceDetectorOptions"]({
                inputSize: ji || 128,
                scoreThreshold: .5
            })
        }
        const Ui = [];
        var Qi = {
            name: "FaceTracking",
            computed: Object(p["a"])(Object(p["a"])({}, Object(w["c"])(["isEpcc"])), Pi(["isDoingFaceLiveness"])),
            watch: {
                isDoingFaceLiveness: function (e) {
                    Ni = e
                }
            },
            async created() {
                qi = "created",
                    await Ai["nets"].tinyFaceDetector.load(Y["e"]),
                    await Ai["loadFaceLandmarkModel"](Y["e"]),
                    Ai["tf"].ENV.set("WEBGL_PACK", !1)
            },
            async mounted() {
                let e = !1;
                const t = this;
                async function s() {
                    const s = document.getElementById("video");
                    s && 4 === s.readyState && Ai["nets"].tinyFaceDetector.params && (e = !0,
                        console.log("start tracking ... "),
                        await $i(),
                        await t.detectFaces())
                }
                this.isEpcc || (this.trackHeadInterval = setInterval(() => {
                    e ? clearInterval(this.trackHeadInterval) : s()
                }
                    , 1e3))
            },
            beforeDestroy() {
                qi = null,
                    clearInterval(this.trackHeadInterval),
                    clearTimeout(this.warningTimeout),
                    clearTimeout(this.detectFacesTimeout)
            },
            methods: {
                async detectFaces() {
                    if (this.singleTimeUsage = this.singleTimeUsage || 0,
                        this.multipleTimeUsage = this.multipleTimeUsage || 0,
                        Bi || this.singleTimeUsage > 1e4 || this.multipleTimeUsage > 500)
                        return console.log("关闭实时人脸检测，因为耗时过长", this.multipleTimeUsage),
                            this.logger({
                                page: "实时人脸检测",
                                action: "关闭实时人脸检测，因为耗时过长",
                                multipleTimeUsage: this.multipleTimeUsage
                            }),
                            void window._hmt.push(["_trackEvent", "答题页面", "关闭实时人脸检测，因为耗时过长"]);
                    if (this.isDoingFaceLiveness)
                        return console.log("正在活检，暂停实时人脸"),
                            this.logger({
                                page: "实时人脸检测",
                                action: "正在活检，暂停实时人脸"
                            }),
                            void (this.detectFacesTimeout = setTimeout(() => this.detectFaces(), 1e4));
                    const e = document.getElementById("video")
                        , t = performance.now()
                        , s = Fi();
                    let i;
                    try {
                        i = await Ai["detectAllFaces"](e, s)
                    } catch (o) {
                        throw window._hmt.push(["_trackEvent", "答题页面", "实时人脸检测失败"]),
                        o
                    }
                    const a = performance.now();
                    if (console.log("WebGL: ", Di(), " WEBGL_PACK: ", Li(), " single detect time: ", a - t, " result: ", i.length),
                        this.singleTimeUsage = a - t,
                        Ui.length < 6 && Ui.push(a - t),
                        6 === Ui.length) {
                        Ui.shift();
                        const e = Ui.reduce((e, t) => e + t, 0) / Ui.length
                            , t = 100 * Math.round(e / 100);
                        window._hmt.push(["_trackEvent", "答题页面", "实时人脸检测平均时长" + (Object(It["f"])() ? "学生电脑" : "学习中心电脑"), t + "ms"]),
                            console.log(Ui),
                            Ui.push(0, 0),
                            this.multipleTimeUsage = t
                    }
                    this.showWaringTime = this.showWaringTime || Date.now(),
                        i.length >= 2 && Date.now() - this.showWaringTime > 2e4 && (this.showWaringTime = Date.now(),
                            this.$Message.warning({
                                content: "请独立完成考试",
                                duration: 5,
                                closable: !0
                            })),
                        0 === i.length && Date.now() - this.showWaringTime > 2e4 && (this.showWaringTime = Date.now(),
                            this.$Message.warning({
                                content: "请调整坐姿，诚信考试",
                                duration: 5,
                                closable: !0
                            }),
                            this.failTimes = this.failTimes || 1,
                            this.failTimes++),
                        i && 1 === i.length || e.classList.contains("video-warning") || (e.classList.add("video-warning"),
                            this.warningTimeout = setTimeout((function () {
                                e.classList.remove("video-warning")
                            }), 3e3)),
                        this.detectFacesTimeout = setTimeout(async () => {
                            this.failTimes > 5 && (this.$Message.warning({
                                content: "请保持正确坐姿，确保脸部在摄像头内，背景无强光。",
                                duration: 10,
                                closable: !0
                            }),
                                this.failTimes = 1,
                                await $i()),
                                qi && await this.detectFaces()
                        }
                            , 6e4)
                }
            }
        }
            , Wi = Qi
            , Vi = (s("3220"),
                Object(l["a"])(Wi, ki, Ti, !1, null, null, null))
            , Hi = Vi.exports
            , zi = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "row",
                    staticStyle: {
                        margin: "0"
                    }
                }, [s("div", {
                    staticClass: "col-md-12 text-center",
                    staticStyle: {
                        padding: "8px"
                    }
                }, [s("div", {
                    staticStyle: {
                        "font-size": "30px"
                    }
                }, [s("span", [e._v("指定动作检测")]), e.showIframe ? s("span", [e._v("(" + e._s(e.timeCount) + ")")]) : e._e()]), e.showIframe ? s("div", {
                    staticClass: "text-center",
                    staticStyle: {
                        color: "red",
                        "font-size": "16px"
                    }
                }, [e._v(" (注意：请点击下方“开始比对”按钮并在60秒内完成指定动作检测,超时将退出考试) ")]) : e._e()]), s("div", {
                    staticStyle: {
                        position: "relative",
                        height: "710px",
                        "background-color": "#6e6f72 !important",
                        "background-image": "radial-gradient(circle at 50% 0, #a9a9a9, #34363c)"
                    },
                    attrs: {
                        id: "faceIdDiv"
                    }
                }, [s("div", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: !e.showIframe,
                        expression: "!showIframe"
                    }],
                    staticStyle: {
                        "text-align": "center",
                        "line-height": "100px",
                        "margin-top": "5px"
                    },
                    attrs: {
                        width: "100%",
                        height: "200px"
                    }
                }, [s("div", {
                    staticStyle: {
                        color: "white",
                        "font-weight": "bold",
                        "font-size": "20px"
                    }
                }, [e._v(" " + e._s(e.redoBtnMsg) + " ")]), e.redoBtnShow ? s("button", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        type: "button",
                        disabled: e.redoBtnDisabled
                    },
                    on: {
                        click: e.startFaceVerifyClicked
                    }
                }, [e._v(" 重试 ")]) : e._e()]), s("webview", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.showIframe,
                        expression: "showIframe"
                    }],
                    staticStyle: {
                        position: "absolute",
                        width: "100%",
                        height: "710px"
                    },
                    attrs: {
                        id: "myFrame",
                        preload: e.electronDir + "manipulateFaceID.js"
                    }
                })], 1)])
            }
            , Ki = []
            , Gi = {
                name: "FaceId",
                data() {
                    return {
                        showIframe: !1,
                        redoBtnShow: !1,
                        timeCount: 60,
                        redoBtnMsg: "",
                        electronDir: ""
                    }
                },
                mounted() {
                    if (this.examRecordId = this.$route.params.examRecordDataId,
                        console.debug("startFaceVerify"),
                        window._hmt.push(["_trackEvent", "活体检测弹出框", "弹出框"]),
                        this.logger({
                            page: "活体检测弹出框",
                            action: "弹出框"
                        }),
                        this.openWebsocketToStartFaceIDTest(),
                        this.startFaceVerify(),
                        "undefined" != typeof nodeRequire) {
                        const e = window.nodeRequire("electron").remote.app;
                        this.electronDir = "file://" + e.getAppPath() + "/",
                            console.log(this.electronDir)
                    }
                },
                beforeDestroy() {
                    this.logger({
                        page: "活体检测弹出框",
                        action: "关闭框"
                    }),
                        this.closeWS(),
                        clearTimeout(this.faceIdTimeout),
                        clearInterval(this.timeCountInterval),
                        clearTimeout(this.iframeDomReadyTimeout)
                },
                methods: {
                    showRedo(e) {
                        this.showIframe = !1,
                            this.redoBtnDisabled = !1,
                            this.redoBtnShow = !0,
                            e ? this.redoBtnMsg = e : (this.redoBtnMsg = "系统繁忙，请手动点击重试",
                                this.logger({
                                    page: "活体检测弹出框",
                                    action: "系统繁忙，请手动点击重试"
                                }))
                    },
                    updateFaceVerifyMsg(e) {
                        this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/updateFaceLivenessVerify/" + this.$route.params.examRecordDataId, {
                            params: {
                                errorMsg: e
                            }
                        })
                    },
                    async faceidLoadedButTimeouted() {
                        this.closeWS();
                        let e = !0;
                        if (this.haveReceivedMsg || await this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/getFaceVerifyResult/" + this.faceVerifyId).then(t => { window._hmt.push(["_trackEvent", "活体检测弹出框", "60秒超时非websocket处理结果"]), this.logger({ page: "活体检测弹出框", action: "60秒超时非websocket处理结果" }); var s = t.data; e = !1, this.faceTestEnd(s), clearTimeout(this.faceIdTimeout), clearInterval(this.timeCountInterval), this.$emit("close-faceid") }).catch(() => { e = !0, window._hmt.push(["_trackEvent", "活体检测弹出框", "60秒超时非websocket处理结果--api失败"]), this.logger({ page: "活体检测弹出框", action: "60秒超时非websocket处理结果--api失败" }) }),
                            !e)
                            return;
                        let t = !1;
                        this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/faceLivenessVerifyTimeOut/" + this.examRecordId).then(e => {
                            if (200 == e.status) {
                                var s = e.data;
                                return t = !0,
                                    this.faceTestEnd(s)
                            }
                        }
                        ).finally(() => {
                            clearInterval(this.timeCountInterval),
                                t || (this.$Message.error({
                                    content: "指定动作检测超时，系统退出，请重新登录",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.logger({
                                        page: "活体检测弹出框",
                                        action: "指定动作检测超时，系统退出，请重新登录"
                                    })),
                                this.logout("?LogoutReason=" + (t ? "活体检测超时" : "活体检测超时-faceLivenessVerifyTimeOut-调用失败"))
                        }
                        )
                    },
                    openWebsocketToStartFaceIDTest() {
                        this.closeWS();
                        try {
                            this.ws = new WebSocket(`${Y["l"]}?key=${this.$store.state.user.key}&token=${this.$store.state.user.token}`)
                        } catch (e) {
                            console.log(e),
                                this.$Message.error({
                                    content: "人脸WS初始化失败",
                                    duration: 5,
                                    closable: !0
                                }),
                                console.log("FaceID WS init failed")
                        }
                        this.ws.onopen = () => {
                            window._hmt.push(["_trackEvent", "活体检测弹出框", "websocket的打开成功"]),
                                console.log("websocket已连接"),
                                this.logger({
                                    page: "活体检测弹出框",
                                    action: "websocket已连接"
                                })
                        }
                            ,
                            this.ws.onmessage = e => {
                                if (console.log("faceid websocket response: ", e),
                                    e.data.indexOf("verifyResult") > -1) {
                                    window._hmt.push(["_trackEvent", "活体检测弹出框", "websocket得到消息"]),
                                        this.logger({
                                            page: "活体检测弹出框",
                                            action: "websocket得到消息"
                                        }),
                                        this.haveReceivedMsg = !0;
                                    var t = JSON.parse(e.data)
                                        , s = JSON.parse(t.content.returnMsgJson);
                                    this.faceTestEnd(s),
                                        clearTimeout(this.faceIdTimeout),
                                        clearInterval(this.timeCountInterval),
                                        this.$emit("close-faceid")
                                }
                            }
                            ,
                            this.ws.onclose = () => {
                                console.log("websocket连接已关闭..."),
                                    window._hmt.push(["_trackEvent", "活体检测弹出框", "websocket连接关闭"]),
                                    this.logger({
                                        page: "活体检测弹出框",
                                        action: "websocket连接关闭"
                                    })
                            }
                            ,
                            this.ws.onerror = () => {
                                window._hmt.push(["_trackEvent", "活体检测弹出框", "websocket连接失败"]),
                                    this.logger({
                                        page: "活体检测弹出框",
                                        action: "websocket连接失败"
                                    }),
                                    this.wsReconnectCount = this.wsReconnectCount || 0,
                                    this.wsReconnectCount++,
                                    !this.haveReceivedMsg && this.wsReconnectCount < 10 && (this.openWebsocketToStartFaceIDTest(),
                                        window._hmt.push(["_trackEvent", "活体检测弹出框", "websocket重新连接" + this.wsReconnectCount]),
                                        this.logger({
                                            page: "活体检测弹出框",
                                            action: "websocket重新连接",
                                            detail: this.wsReconnectCount
                                        }))
                            }
                    },
                    closeWS() {
                        try {
                            this.ws && 1 === this.ws.readyState && (this.logger({
                                page: "活体检测弹出框",
                                action: "准备关闭websocket"
                            }),
                                this.ws.close())
                        } catch (e) {
                            console.log("关闭ws异常。"),
                                window._hmt.push(["_trackEvent", "活体检测弹出框", "关闭websocket异常"]),
                                this.logger({
                                    page: "活体检测弹出框",
                                    action: "关闭websocket异常"
                                })
                        }
                    },
                    faceTestEnd(e) {
                        if (this.logger({
                            page: "活体检测弹出框",
                            action: "指定动作检测结束",
                            verifyCount: e.verifyCount,
                            verifyResult: e.verifyResult
                        }),
                            1 == e.verifyCount)
                            if ("TIME_OUT" == e.verifyResult)
                                this.$Message.error({
                                    content: "第一次指定动作检测超时，检测失败，系统退出，请重新登录",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.logout("?LogoutReason=第一次活体检测超时，检测失败，系统退出，请重新登录");
                            else if ("VERIFY_FAILED" == e.verifyResult)
                                this.$Message.error({
                                    content: "第一次指定动作检测失败，系统退出，请重新登录",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.logout("?LogoutReason=第一次活体检测失败，系统退出，请重新登录");
                            else {
                                if ("NOT_ONESELF" == e.verifyResult)
                                    return this.$Message.error({
                                        content: "指定动作检测不合格，结束考试",
                                        duration: 30,
                                        closable: !0
                                    }),
                                        this.faceTestUploadResult("FAILED");
                                if ("VERIFY_SUCCESS" == e.verifyResult)
                                    return this.$Message.info({
                                        content: "指定动作检测成功，请继续完成考试",
                                        duration: 15,
                                        closable: !0
                                    }),
                                        this.faceTestUploadResult("SUCCESS");
                                "UNKNOWN" == e.verifyResult && (this.$Message.error({
                                    content: "第一次指定动作检测异常(fid)，系统退出，请重新登录",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.logout("?LogoutReason=第一次活体检测失败(faceid)，系统退出，请重新登录"))
                            }
                        else if (e.verifyCount >= 2)
                            return "VERIFY_SUCCESS" == e.verifyResult ? (this.$Message.info({
                                content: "指定动作检测成功，请继续完成考试",
                                duration: 15,
                                closable: !0
                            }),
                                this.faceTestUploadResult("SUCCESS")) : (this.$Message.error({
                                    content: "指定动作检测不合格，结束考试",
                                    duration: 30,
                                    closable: !0
                                }),
                                    this.faceTestUploadResult("FAILED"))
                    },
                    faceTestUploadResult(e) {
                        return this.logger({
                            page: "活体检测弹出框",
                            action: "上传活体检测结果",
                            result: e
                        }),
                            this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/faceLivenessVerifyEnd/" + this.examRecordId + "?result=" + e).then(() => {
                                "SUCCESS" != e ? (window._hmt.push(["_trackEvent", "活体检测弹出框", "活体检测失败"]),
                                    this.logger({
                                        page: "活体检测弹出框",
                                        action: "活体检测失败-退出登录"
                                    }),
                                    this.logout("?LogoutReason=活体检测失败")) : (window._hmt.push(["_trackEvent", "活体检测弹出框", "活体检测成功"]),
                                        this.logger({
                                            page: "活体检测弹出框",
                                            action: "活体检测成功"
                                        }))
                            }
                            ).catch(() => {
                                this.$Message.error({
                                    content: "上传指定动作检测结果出错！",
                                    duration: 15,
                                    closable: !0
                                }),
                                    window._hmt.push(["_trackEvent", "活体检测弹出框", "上传指定动作检测结果出错！"]),
                                    this.logger({
                                        page: "活体检测弹出框",
                                        action: "上传指定动作检测结果出错！--退出登录"
                                    }),
                                    console.log("上传指定动作检测结果出错！"),
                                    this.logout("?LogoutReason=上传指定动作检测结果出错！")
                            }
                            )
                    },
                    iframeLoadSuccess() {
                        window._hmt.push(["_trackEvent", "活体检测弹出框", "FaceID页面iframe加载成功"]),
                            this.logger({
                                page: "活体检测弹出框",
                                action: "FaceID页面iframe加载成功"
                            }),
                            clearInterval(this.timeCountInterval),
                            this.timeCount = 60,
                            this.timeCountInterval = setInterval(() => {
                                --this.timeCount,
                                    0 === this.timeCount && clearInterval(this.timeCountInterval)
                            }
                                , 1e3),
                            clearTimeout(this.faceIdTimeout),
                            this.faceIdTimeout = setTimeout(() => {
                                this.faceidLoadedButTimeouted()
                            }
                                , 6e4)
                    },
                    async startFaceVerifyClicked() {
                        this.logger({
                            page: "活体检测弹出框",
                            button: "重试按钮",
                            action: "点击"
                        }),
                            await this.startFaceVerify()
                    },
                    async startFaceVerify() {
                        this.redoBtnDisabled = !0,
                            this.redoBtnMsg = "正在进入指定动作检测...";
                        let e = null;
                        if (this.faceVerifyId)
                            try {
                                e = await this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/getFaceVerifyToken/" + this.faceVerifyId)
                            } catch (s) {
                                return console.log(s),
                                    this.showRedo("网络异常，请手动点击重试"),
                                    window._hmt.push(["_trackEvent", "活体检测弹出框", "网络异常-getFaceVerifyToken"]),
                                    void this.logger({
                                        page: "活体检测弹出框",
                                        action: "网络异常-getFaceVerifyToken"
                                    })
                            }
                        else
                            try {
                                e = await this.$http.get("/api/ecs_oe_student/examFaceLivenessVerify/startFaceVerify/" + this.examRecordId),
                                    this.faceVerifyId = e.data.faceVerifyId
                            } catch (s) {
                                return console.log(s),
                                    this.$Message.error({
                                        content: "获取底照token失败，请重新登录！",
                                        duration: 15,
                                        closable: !0
                                    }),
                                    this.logger({
                                        page: "活体检测弹出框",
                                        action: "获取底照token失败，请重新登录！"
                                    }),
                                    void this.logout("?LogoutReason=获取底照token失败，请重新登录！")
                            }
                        if (!e.data.success)
                            return console.log(e.data.errorMsg),
                                this.$Message.error({
                                    content: "您上传的底照不适合做活体检测，请联系老师！",
                                    duration: 15,
                                    closable: !0
                                }),
                                this.logger({
                                    page: "活体检测弹出框",
                                    action: "您上传的底照不适合做活体检测，请联系老师！"
                                }),
                                void this.logout("?LogoutReason=您上传的底照不适合做活体检测，请联系老师！");
                        this.showIframe = !0;
                        var t = document.getElementById("myFrame");
                        try {
                            t.src = Y["d"] + e.data.faceLivenessToken
                        } catch (i) {
                            console.error(i)
                        }
                        {
                            clearTimeout(this.iframeDomReadyTimeout);
                            let e = !1;
                            t.addEventListener("did-start-loading", () => {
                                console.log("loading faceid iframe"),
                                    console.log(t)
                            }
                            ),
                                t.addEventListener("did-fail-load", () => {
                                    console.log("failed loading faceid iframe", t.src),
                                        clearTimeout(this.iframeDomReadyTimeout),
                                        t.src.includes(Y["d"]) && (this.showRedo("网络异常，请手动点击重试"),
                                            window._hmt.push(["_trackEvent", "活体检测弹出框", "网络异常-加载失败"]),
                                            this.logger({
                                                page: "活体检测弹出框",
                                                action: "网络异常-加载失败"
                                            }))
                                }
                                ),
                                this.iframeDomReadyTimeout = setTimeout(() => {
                                    !1 === e && (clearTimeout(this.iframeDomReadyTimeout),
                                        this.showRedo("网络异常，请手动点击重试"),
                                        window._hmt.push(["_trackEvent", "活体检测弹出框", "网络异常"]),
                                        this.logger({
                                            page: "活体检测弹出框",
                                            action: "网络异常"
                                        }))
                                }
                                    , 3e4),
                                t.addEventListener("dom-ready", () => {
                                    e = !0,
                                        console.log("faceid iframe dom ready"),
                                        t.insertCSS(".copyright { display: none !important;}")
                                }
                                ),
                                t.addEventListener("ipc-message", e => {
                                    clearTimeout(this.iframeDomReadyTimeout);
                                    const t = e.channel;
                                    t.indexOf("error_message") > -1 && (this.showRedo(),
                                        this.updateFaceVerifyMsg(t)),
                                        "success" === t && this.iframeLoadSuccess()
                                }
                                )
                        }
                    }
                }
            }
            , Ji = Gi
            , Xi = Object(l["a"])(Ji, zi, Ki, !1, null, null, null)
            , Yi = Xi.exports
            , Zi = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "page-container"
                }, [s("div", {
                    staticClass: "page-container",
                    staticStyle: {
                        position: "relative"
                    },
                    attrs: {
                        id: "video-container"
                    }
                }, [e.shouldShowSections ? s("div", {
                    staticClass: "instruction-tips above-video"
                }, [s("div", {
                    staticClass: "instruction-animation",
                    style: {
                        width: "33.3%",
                        "font-size": 16,
                        padding: "0 10px",
                        "margin-left": 33 * e.reverseSection + "%"
                    },
                    attrs: {
                        "data-intro": "停留的时间：每一次停留时长可能不一样。"
                    }
                }, [e._v(" 请将脸部移入此区域，停留"), s("span", {
                    staticStyle: {
                        color: "blue"
                    }
                }, [e._v(e._s(e.currentStep.stay))]), e._v("秒，并保持"), s("span", {
                    staticStyle: {
                        color: "blue"
                    }
                }, [e._v(e._s(e.shouldDetectExpression ? e.currentStep.happy ? "笑容" : "严肃" : ""))])])]) : e._e(), s("div", {
                    staticClass: "instruction-tips above-video"
                }, [s("div", {
                    staticClass: "instruction-animation",
                    style: {
                        width: "100%",
                        "font-size": "18px",
                        "text-align": "center"
                    }
                }, ["FACE_COMPARE" === e.currentStep.action ? s("div", [e._v(" 请调整脸部与摄像头的距离 ")]) : s("div", [e._v(" 保持"), s("span", {
                    staticStyle: {
                        color: "blue"
                    }
                }, [e._v(e._s(e.shouldDetectExpression ? e.currentStep.happy ? "笑容" : "严肃" : ""))]), s("Progress", {
                    attrs: {
                        "hide-info": "",
                        percent: e.stepProgress
                    }
                })], 1)])]), e.isDetecting ? s("div", {
                    staticClass: "instruction-total above-video",
                    staticStyle: {
                        "z-index": "3"
                    }
                }, [s("div", {
                    staticClass: "total-text",
                    attrs: {
                        "data-intro": "请在规定的时间内完成。"
                    }
                }, [e._v(" " + e._s(e.instructions.total >= 0 ? e.instructions.total : 0) + " ")])]) : e._e(), e.shouldShowSections ? s("div", {
                    staticClass: "seperators above-video"
                }, [s("div", {
                    staticClass: "line"
                }), s("div", {
                    staticClass: "line"
                })]) : e._e(), e.shouldShowSections ? s("div", {
                    staticClass: "blocks above-video"
                }, e._l([3, 2, 1], (function (t) {
                    return s("div", {
                        key: t,
                        class: ["block-index-size", e.currentStep.section !== t && "block-index-blur"]
                    })
                })), 0) : e._e(), e.shouldShowSections ? s("div", {
                    class: ["above-video", "instruction-face", "instruction-animation", e.behaving && "instruction-face-animation-state"],
                    style: {
                        width: "33.3%",
                        "margin-left": 33 * e.reverseSection + "%"
                    },
                    attrs: {
                        "data-intro": "停留的位置：请将脸部停留在头像所处的列。检测成功，头像会停止抖动。"
                    }
                }) : e._e(), e.behaving ? s("div", {
                    class: ["above-video", "instruction-face", "instruction-animation", e.behaving && "instruction-face-animation-state"],
                    style: {
                        width: "33.3%",
                        "margin-left": "33%"
                    }
                }) : e._e(), s("video", {
                    staticClass: "detect-video",
                    staticStyle: {
                        transform: "scaleX(-1)"
                    },
                    attrs: {
                        id: "inputVideo",
                        autoplay: "",
                        muted: ""
                    },
                    domProps: {
                        muted: !0
                    },
                    on: {
                        loadedmetadata: e.onPlay
                    }
                }), s("canvas", {
                    staticClass: "above-video",
                    attrs: {
                        id: "overlay"
                    }
                })])])
            }
            , ea = []
            , ta = s("517b");
        const { mapMutations: sa } = Object(w["a"])("examingHomeModule")
            , ia = "/models/20190620/";
        function aa() {
            return new Ai["TinyFaceDetectorOptions"]({
                inputSize: window.__inputSize || 128,
                scoreThreshold: .5
            })
        }
        window.faceapi = Ai;
        var oa = {
            name: "FaceMotion",
            data() {
                return {
                    isDetecting: !1,
                    shoudAdjustDistance: !0,
                    introStarted: !1,
                    asked: !1,
                    instructions: {
                        total: 60,
                        steps: [{
                            section: 2,
                            stay: 3,
                            happy: !0,
                            finished: !1
                        }, {
                            section: 3,
                            stay: 5,
                            happy: !0,
                            finished: !1
                        }, {
                            section: 2,
                            stay: 4,
                            happy: !0,
                            finished: !1
                        }]
                    },
                    behaving: !1,
                    behavingStartDate: null,
                    behavingTimestampe: null,
                    shouldDetectExpression: null,
                    pauseDetecting: !1,
                    compareResult: null,
                    finalResult: {
                        examRecordDataId: 0,
                        faceBiopsyItemId: 0,
                        verifySteps: [{
                            action: "FACE_COMPARE",
                            errorMsg: "string",
                            resourceType: "PIC",
                            resourceUrl: "string",
                            result: !0,
                            resultJson: "string",
                            stay: 0,
                            stepId: 0
                        }]
                    }
                }
            },
            computed: {
                shouldShowSections() {
                    return 0 !== this.currentStep.section && (!!this.introStarted || (!this.isDetecting || !this.shoudAdjustDistance) && this.isDetecting)
                },
                currentStep() {
                    return this.instructions.steps.find(e => !e.finished) || {}
                },
                corFinalResult() {
                    const e = this.finalResult.verifySteps.findIndex(e => e.stepId === this.currentStep.stepId);
                    return this.finalResult.verifySteps[e]
                },
                instructionsFinished() {
                    return this.instructions.steps.every(e => e.finished)
                },
                reverseSection() {
                    return [3, 2, 1][this.currentStep.section - 1] - 1
                },
                stepProgress() {
                    if (this.instructionsFinished)
                        return 0;
                    if (!this.behaving)
                        return 100;
                    let e = 100 - 100 * (this.behavingTimestampe - this.behavingStartDate) / (1e3 * this.currentStep.stay);
                    return e > 100 ? e = 100 : e < 0 && (e = 0),
                        e
                }
            },
            watch: {
                instructionsFinished(e) {
                    e && (clearInterval(this.remainInteval),
                        this.isDetecting = !1,
                        this.$Message.success({
                            content: "活体检测通过",
                            duration: 5
                        }),
                        this.closeMe())
                },
                "instructions.total"(e) {
                    !this.instructionsFinished && e <= 0 && (console.log(this.corFinalResult),
                        this.corFinalResult.timeout = !0,
                        this.corFinalResult.result = !1,
                        this.corFinalResult.errorMsg = "超时未完成",
                        this.failedTest("超时！活体检测失败！"))
                }
            },
            async created() {
                this.updateIsDoingFaceLiveness(!0),
                    this.$Spin.show({}),
                    await this.fetchData(),
                    this.resetTest(),
                    await Ai["nets"].tinyFaceDetector.load(ia),
                    await Ai["loadFaceLandmarkModel"](ia),
                    await Ai["nets"].faceExpressionNet.load(ia),
                    Ai["tf"].ENV.set("WEBGL_PACK", !1)
            },
            mounted() {
                this.run()
            },
            beforeDestroy() {
                this.closeCamera(),
                    this.$Spin.hide()
            },
            methods: Object(p["a"])(Object(p["a"])({}, sa(["updateIsDoingFaceLiveness"])), {}, {
                async fetchData() {
                    const e = this.$route.params.examRecordDataId
                        , t = await this.$httpGetRetry("/api/ecs_oe_student/faceBiopsy/getFaceBiopsyInfo?examRecordDataId=" + e);
                    if ("undefined" === typeof t)
                        return this.$Message.error({
                            content: "获取活体检测信息失败，退出登录",
                            duration: 15,
                            closable: !0
                        }),
                            this.closeMe(),
                            void this.logout("?LogoutReason=获取活体检测信息失败");
                    const s = t.data;
                    console.log(s),
                        this.faceBiopsyInfo = s
                },
                async closeMe() {
                    this.closeCamera(),
                        this.updateIsDoingFaceLiveness(!1);
                    const e = await this.$httpPostRetry("/api/ecs_oe_student/faceBiopsy/saveFaceBiopsyResult", this.finalResult);
                    if ("undefined" === typeof e)
                        return this.$Message.error({
                            content: "保存活体检测信息失败，退出登录",
                            duration: 15,
                            closable: !0
                        }),
                            void this.logout("?LogoutReason=保存活体检测信息失败");
                    const t = e.data;
                    console.log(t),
                        this.$emit("close-face-motion", t)
                },
                resetTest() {
                    this.shoudAdjustDistance = !0,
                        this.behavingStartDate = null,
                        this.happyFailedTimes = 0,
                        this.singleFaceFailedTimes = 0,
                        this.totalDetectTimes = 0;
                    const e = this.faceBiopsyInfo.verifySteps.map(e => ({
                        section: 0,
                        stay: e.stay,
                        happy: "HAPPY" === e.action,
                        finished: !1,
                        stepId: e.stepId,
                        action: e.action
                    }));
                    this.instructions = {
                        total: 60,
                        steps: e
                    },
                        console.log(this.instructions),
                        this.shouldDetectExpression = !0;
                    const t = this.$route.params.examRecordDataId;
                    this.finalResult = {
                        examRecordDataId: t,
                        faceBiopsyItemId: this.faceBiopsyInfo.faceBiopsyItemId,
                        verifySteps: this.faceBiopsyInfo.verifySteps
                    }
                },
                async run() {
                    const e = document.getElementById("inputVideo");
                    if (window.__stream)
                        return void (e.srcObject = window.__stream);
                    const t = await navigator.mediaDevices.getUserMedia({ audio: !1, video: { width: 640, height: 480, frameRate: 15 } });
                    e.srcObject = t
                },
                async intro() {
                    this.$Message.info({
                        content: "开始指定动作检测",
                        duration: 2
                    }),
                        this.$Spin.show({}),
                        this.behavingStartDate = null;
                    const e = () => {
                        this.isDetecting = !0,
                            clearInterval(this.remainInteval),
                            this.remainInteval = setInterval(() => {
                                this.instructions.total--,
                                    this.instructions.total <= 0 && clearInterval(this.remainInteval)
                            }
                                , 1e3),
                            this.onPlay()
                    }
                        ;
                    e()
                },
                async onPlay() {
                    if (!this.doneCompare && this.pauseDetecting)
                        return void console.log({
                            pauseDetecting: this.pauseDetecting
                        });
                    if (this.asked || (this.asked = !0,
                        await this.waitingForInputSize(),
                        await this.increaseTestSpeed(),
                        await this.intro()),
                        !this.isDetecting)
                        return;
                    const e = performance.now()
                        , t = document.getElementById("inputVideo");
                    this.___vWidth = this.___vWidth || document.getElementById("video-container").clientWidth;
                    const s = aa();
                    let i;
                    this.shouldDetectExpression ? (i = await Ai["detectAllFaces"](t, s).withFaceLandmarks().withFaceExpressions(),
                        this.totalDetectTimes++) : i = await Ai["detectAllFaces"](t, s).withFaceLandmarks();
                    const a = performance.now();
                    if (console.log("live single detect time: ", a - e, " --- ", i && i.length),
                        i && i.length >= 2 && (this.corFinalResult.result = !1,
                            this.corFinalResult.stranger = !0,
                            this.corFinalResult.errorMsg = "检测过程中多人脸失败",
                            console.log("检测过程中多人脸失败"),
                            this.failedTest("检测到多张人脸！活体检测失败！")),
                        i && 0 === i.length && (this.shoudAdjustDistance || this.singleFaceFailedTimes++,
                            this.singleFaceFailedTimes >= 3 && this.singleFaceFailedTimes / this.totalDetectTimes >= .4 && (this.corFinalResult.result = !1,
                                this.corFinalResult.waggleOutCamera = !0,
                                this.corFinalResult.errorMsg = "检测过程人脸晃出摄像头",
                                console.log("检测过程人脸晃出摄像头"),
                                this.failedTest("活检过程中没有检测到人脸！活体检测失败！"))),
                        this.shouldDoFaceRecognition && Ai["nets"].ssdMobilenetv1.params && Ai["nets"].faceRecognitionNet.params) {
                        const e = await Ai["detectSingleFace"](t, s).withFaceLandmarks().withFaceDescriptor()
                            , i = await Ai["detectSingleFace"](document.getElementById("base-photo")).withFaceLandmarks().withFaceDescriptor();
                        if (e && i) {
                            const t = new Ai["FaceMatcher"](i)
                                , s = t.findBestMatch(e.descriptor);
                            s.distance > .8 && console.log("%c肯定不是王章军", "color: red"),
                                s.distance >= .4 && s.distance <= .8 && console.log("有可能是王章军"),
                                s.distance < .4 && console.log("%c肯定是王章军", "color: green"),
                                console.log(s.toString())
                        }
                    }
                    if (i && i[0]) {
                        i = i[0];
                        const e = document.getElementById("overlay")
                            , s = Ai["matchDimensions"](e, t, !0)
                            , a = Ai["resizeResults"](i, s);
                        let n;
                        if (n = this.shouldDetectExpression || a.detection ? a.detection.box : a.box,
                            n.area > 6e4 || n.area < 2e4) {
                            const e = n.area > 6e4 ? "请远离摄像头" : "请靠近摄像头";
                            if (this.tipHandler = this.tipHandler || Object(ta["a"])(e => {
                                this.$Message.warning({
                                    content: e,
                                    duration: 1
                                })
                            }
                                , 1500),
                                this.tipHandler(e),
                                console.log(e),
                                this.shoudAdjustDistance)
                                return void setTimeout(() => this.onPlay(), 300)
                        } else if (this.shoudAdjustDistance = !1,
                            "FACE_COMPARE" === this.currentStep.action) {
                            console.log("该做同步人脸比对了");
                            try {
                                if (this.pauseDetecting || this.doneCompare)
                                    return;
                                this.pauseDetecting = !0;
                                const e = await this.snap();
                                if (console.log("得到比对结果"),
                                    !e)
                                    return;
                                if (this.compareResult = e,
                                    this.finalResult.verifySteps[0].result = this.compareResult.isPass,
                                    this.finalResult.verifySteps[0].resourceType = "PIC",
                                    this.finalResult.verifySteps[0].resourceUrl = this.compareResult.fileUrl,
                                    this.finalResult.verifySteps[0].resultJson = JSON.stringify(this.compareResult),
                                    this.finalResult.verifySteps[0].errorMsg = this.compareResult.errorMsg,
                                    this.pauseDetecting = !1,
                                    this.doneCompare = !0,
                                    !this.compareResult.isPass || this.compareResult.isStranger)
                                    return void this.failedTest("人脸同步比对失败");
                                console.log("人脸同步比对成功"),
                                    this.singleFaceFailedTimes = 0,
                                    !this.instructionsFinished && this.currentStep && (this.currentStep.finished = !0)
                            } catch (o) {
                                console.log(o)
                            } finally {
                                this.doneCompare || (this.pauseDetecting = !1),
                                    this.videoStartPlay()
                            }
                        }
                        const r = n.left + (n.right - n.left) / 2;
                        if (r > this.___vWidth * ((this.currentStep.section - 1) / 3) && r < this.___vWidth * (this.currentStep.section / 3) || 0 === this.currentStep.section) {
                            if (null === this.behavingStartDate) {
                                if (this.shouldDetectExpression && (i.expressions.happy < .5 && this.currentStep.happy || i.expressions.neutral < .5 && !this.currentStep.happy))
                                    return this.$Message.warning({
                                        content: this.currentStep.happy ? "请保持微笑" : "请保持严肃",
                                        duration: 1
                                    }),
                                        console.log(this.currentStep.happy ? "请保持微笑" : "请保持严肃"),
                                        void setTimeout(() => this.onPlay(), 1e3);
                                this.behavingStartDate = new Date
                            }
                            this.behaving = !0,
                                this.behavingTimestampe = Date.now()
                        } else
                            this.behaving = !1,
                                this.behavingStartDate = null,
                                this.moveFaceMessage || (this.moveFaceMessage = this.$Message.info({
                                    content: "请将您的脸部移向笑脸所在的区块",
                                    duration: 1
                                }),
                                    setTimeout(() => {
                                        this.moveFaceMessage = null
                                    }
                                        , 3e3));
                        this.shouldDetectExpression && this.behavingStartDate && (i.expressions.happy < .5 && this.currentStep.happy && (this.happyFailedTimes++,
                            this.happyFailedTimes % 2 && Date.now() - (this.showExpresionTipDate || 0) > 1500 && (this.showExpresionTipDate = Date.now(),
                                this.$Message.warning({
                                    content: this.currentStep.happy ? "请保持微笑" : "请保持严肃",
                                    duration: 1
                                }),
                                console.log(this.currentStep.happy ? "请保持微笑" : "请保持严肃"))),
                            i.expressions.neutral < .5 && !this.currentStep.happy && (this.happyFailedTimes++,
                                this.happyFailedTimes % 2 && Date.now() - (this.showExpresionTipDate || 0) > 1500 && (this.showExpresionTipDate = Date.now(),
                                    this.$Message.warning({
                                        content: this.currentStep.happy ? "请保持微笑" : "请保持严肃",
                                        duration: 1
                                    }),
                                    console.log(this.currentStep.happy ? "请保持微笑" : "请保持严肃"))),
                            this.happyFailedTimes / this.totalDetectTimes >= .4 && (this.corFinalResult.result = !1,
                                this.corFinalResult.errorMsg = "动作错误",
                                console.log("动作错误"),
                                this.failedTest("指定表情失败！活体检测失败！")));
                        const c = 500;
                        this.behaving && Date.now() - this.behavingStartDate - c > 1e3 * this.currentStep.stay && (console.log("通过section" + this.currentStep.section),
                            this.behaving = !1,
                            this.happyFailedTimes = 0,
                            this.behavingStartDate = null,
                            !this.instructionsFinished && this.currentStep && (this.corFinalResult.result = !0,
                                this.currentStep.finished = !0))
                    }
                    setTimeout(() => this.onPlay(), 300)
                },
                failedTest(e) {
                    clearInterval(this.remainInteval),
                        this.isDetecting = !1,
                        this.instructionsFinished || this.$Message.error({
                            content: e || "活体检测失败",
                            duration: 5
                        }),
                        this.closeMe()
                },
                async waitingForInputSize() {
                    for (let e = 0; e < 30; e++) {
                        if (window.__inputSize)
                            break;
                        console.log("waitingForInputSize", e),
                            await new Promise(e => setTimeout(() => e(), 3e3))
                    }
                    console.log("window.__inputSize", window.__inputSize)
                },
                async increaseTestSpeed() {
                    if (this.__inThisMethodOnce)
                        return;
                    this.__inThisMethodOnce = !0;
                    const e = document.getElementById("inputVideo")
                        , t = aa();
                    console.log("increaseTestSpeed ---"),
                        await new Promise(t => { const s = setInterval(() => { e && 4 === e.readyState && Ai["nets"].tinyFaceDetector.params && Ai["nets"].faceExpressionNet.params && (t(), clearInterval(s)), null === document.getElementById("inputVideo") && clearInterval(s) }, 300) }),
                        console.log(e.readyState, Ai["nets"].tinyFaceDetector.params),
                        console.log("increaseTestSpeed --- doing faceapi");
                    const s = await Promise.race([Ai["detectSingleFace"](e, t).withFaceLandmarks().withFaceExpressions(), new Promise(e => setTimeout(e, 2e4, "detectionTimeout"))]);
                    console.log("increaseTestSpeed --- result:", s),
                        this.$Spin.hide(),
                        "detectionTimeout" === s && (this.$Message.error({
                            content: "人脸检测功能不可用",
                            duration: 15,
                            closable: !0
                        }),
                            this.logout("?LogoutReason=人脸检测功能不可用")),
                        s ? console.log("increaseTestSpeed --- end successfully") : console.log("increaseTestSpeed --- end failed")
                },
                videoStartPlay() {
                    const e = document.getElementById("inputVideo");
                    e && e.play()
                },
                async snap() {
                    if (!this.disableSnap)
                        try {
                            this.disableSnap = !0;
                            const e = await this.getSnapShot();
                            if (e.size < 10240)
                                throw this.$Message.error({
                                    content: "抓拍照片太小！",
                                    duration: 15,
                                    closable: !0
                                }),
                                window._hmt.push(["_trackEvent", "摄像头框", "抓拍照片较小", e.size]),
                                new Error("抓拍照片较小");
                            this.videoStartPlay();
                            const [t, s] = await this.uploadToServer(e);
                            return this.faceCompareSync(t, s)
                        } catch (e) {
                            throw console.log("同步照片比对流程失败"),
                            e
                        } finally {
                            this.videoStartPlay()
                        }
                },
                async getSnapShot() {
                    return new Promise((e, t) => {
                        const s = document.getElementById("inputVideo");
                        if (4 !== s.readyState || !s.srcObject.active)
                            return this.$Message.error({
                                content: "摄像头没有正常启用",
                                duration: 5,
                                closable: !0
                            }),
                                window._hmt.push(["_trackEvent", "摄像头框", "摄像头状态", "摄像头没有正常启用-退出" + (this.lastSnapTime ? "(非初次抓拍)" : "")]),
                                t("摄像头没有正常启用"),
                                void this.logout("?LogoutReason=摄像头没有正常启用-退出" + (this.lastSnapTime ? "(非初次抓拍)" : ""));
                        s.pause();
                        var i = document.createElement("canvas");
                        i.width = 220,
                            i.height = 165;
                        var a = i.getContext("2d");
                        a.drawImage(s, 0, 0, 220, 165),
                            i.toBlob(e, "image/png", .95)
                    }
                    )
                },
                async uploadToServer(e) {
                    async function t(e) {
                        return new Promise(t => {
                            var s = new FileReader;
                            s.addEventListener("loadend", (function () {
                                t(s.result)
                            })),
                                s.readAsArrayBuffer(e)
                        }
                        )
                    }
                    let s, i;
                    try {
                        const o = await t(e)
                            , n = T()(o);
                        console.log(n);
                        const r = new URLSearchParams;
                        r.append("fileSuffix", "png"),
                            r.append("fileMd5", n);
                        const c = await this.$http.get("/api/ecs_oe_student/examControl/getCapturePhotoYunSign?" + r);
                        let l = new FormData;
                        for (let [e, t] of Object.entries(c.data.formParams))
                            l.append(e, t);
                        l.append("file", e);
                        try {
                            const e = await fetch(c.data.formUrl, { method: "POST", body: l });
                            if (!e.ok)
                                throw e.status
                        } catch (a) {
                            throw window._hmt.push(["_trackEvent", "摄像头框", "抓拍照片保存失败--upyun", a]),
                            a
                        }
                        s = c.data.accessUrl,
                            i = c.data.signIdentifier,
                            window._hmt.push(["_trackEvent", "摄像头框", "抓拍照片保存成功"])
                    } catch (o) {
                        throw console.log(o),
                        window._hmt.push(["_trackEvent", "摄像头框", "保存抓拍照片到服务器失败！"]),
                        this.$Message.error({
                            content: "抓拍照片保存失败！",
                            duration: 15,
                            closable: !0
                        }),
                        new Error("抓拍照片保存失败！")
                    }
                    return [s, i]
                },
                async faceCompareSync(e, t) {
                    try {
                        const s = await this.$http.post("/api/ecs_oe_student_face/examCaptureQueue/compareFaceSync?signIdentifier=" + t + "&fileUrl=" + encodeURIComponent(e));
                        return s.data
                    } catch (s) {
                        throw console.log(s),
                        new Error("同步照片比较失败！")
                    }
                },
                closeCamera: function () {
                    if (console.log("关闭摄像头"),
                        window.__stream)
                        return;
                    const e = document.getElementById("inputVideo");
                    e && e.srcObject && (e.srcObject.getTracks().forEach((function (e) {
                        e.stop()
                    })),
                        e.srcObject = null)
                }
            })
        }
            , na = oa
            , ra = (s("7e89"),
                s("0e91"),
                Object(l["a"])(na, Zi, ea, !1, null, "729d6e51", null))
            , ca = ra.exports
            , la = s("15ad")
            , da = s("cddd");
        const { mapState: ua, mapMutations: ha } = Object(w["a"])("examingHomeModule");
        var ma = {
            name: "ExamingHome",
            components: {
                RemainTime: ct,
                OverallProgress: pt,
                QuestionFilters: xt,
                QuestionView: pi,
                ArrowNavView: yi,
                QuestionNavView: Ii,
                FaceRecognition: q,
                FaceId: Yi,
                FaceMotion: ca,
                FaceTracking: Hi
            },
            beforeRouteUpdate(e, t, s) {
                window._hmt.push(["_trackEvent", "答题页面", "题目切换"]),
                    this.answerAllQuestions(),
                    s()
            },
            data() {
                return {
                    showFaceId: !1,
                    showFaceMotion: !1,
                    faceEnable: !1,
                    timeouted: !1,
                    startVideoAfterDelay: !1,
                    PRODUCTION: !0,
                    disableExamingBecauseRemoteApp: !1,
                    courseName: ""
                }
            },
            computed: Object(p["a"])(Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["QECSConfig"])), ua(["exam", "paperStruct", "examQuestionList", "snapNow", "snapProcessingCount", "shouldSubmitPaper", "remainTime", "questionAnswerFileUrl", "uploadModalVisible", "exceedSwitchCount"])), {}, {
                previousQuestionOrder: e => e.examQuestion().order > 1 ? e.examQuestion().order - 1 : null,
                nextQuestionOrder: e => e.examQuestion().order < e.examQuestionList.length ? e.examQuestion().order + 1 : null
            }),
            watch: {
                $route: function () {
                    this.examQuestion()
                },
                shouldSubmitPaper() {
                    this.logger({
                        action: "时间到自动交卷"
                    }),
                        this.realSubmitPaper()
                },
                questionAnswerFileUrl(e) {
                    const t = this.$route.params.examRecordDataId
                        , s = this;
                    for (const i of e)
                        if (!i.saved) {
                            let e = "CONFIRMED";
                            "PIC" !== i.transferFileType || i.order == this.$route.params.order && this.uploadModalVisible || (e = "DISCARDED"),
                                this.$http.post("/api/ecs_oe_student/examControl/saveUploadedFileAcknowledgeStatus", {
                                    examRecordDataId: t,
                                    filePath: i.fileUrl,
                                    order: i.order,
                                    acknowledgeStatus: e
                                }).then(() => {
                                    "AUDIO" === i.transferFileType ? s.updateExamQuestion({
                                        order: i.order,
                                        studentAnswer: i.fileUrl
                                    }) : "CONFIRMED" === e && "PIC" === i.transferFileType && s.updatePicture(i),
                                        i.saved = !0,
                                        "CONFIRMED" === e && this.$Message.info({
                                            content: "小程序作答已更新",
                                            duration: 5,
                                            closable: !0
                                        })
                                }
                                ).catch(() => {
                                    this.$Message.error({
                                        content: "更新小程序答案失败！",
                                        duration: 15,
                                        closable: !0
                                    })
                                }
                                )
                        }
                },
                exceedSwitchCount(e) {
                    e && (this.logger({
                        action: "切屏超出次数自动交卷"
                    }),
                        this.realSubmitPaper())
                },
                remainTime(e) {
                    const t = this.$createElement;
                    3e5 === e ? (this.reaminModalCreated = !0,
                        this.$Modal.info({
                            render: () => t("div", [t("h3", ["温馨提醒"]), t("div", {
                                style: "margin-top: 20px; margin-left: 20px; flex: 1"
                            }, [t("div", {
                                style: "margin-bottom: 1.5em"
                            }, ["还有", t("span", {
                                style: "font-weight: bold; color: red;"
                            }, [" 五 "]), "分钟即将结束本场考试，请合理分配时间！"])])]),
                            onOk: () => {
                                this.reaminModalClosed = !0
                            }
                        })) : 29e4 === e && this.reaminModalCreated && !this.reaminModalClosed && this.$Modal.remove()
                }
            },
            async created() {
                this.timeoutTimeout = setTimeout(() => this.timeouted = !0, 3e4),
                    this.logger({
                        action: "答题页面",
                        detail: "进入答题页面-created",
                        examRecordDataId: this.$route.params.examRecordDataId
                    });
                try {
                    await this.initData()
                } catch (e) {
                    return this.logger({
                        action: "答题页面",
                        detail: "获取考试和试卷信息失败，退出登录"
                    }),
                        this.$Message.error({
                            content: "获取考试和试卷信息失败，退出登录",
                            duration: 15,
                            closable: !0
                        }),
                        void this.logout("?LogoutReason=获取考试和试卷信息失败")
                }
                this.submitInterval = setInterval(() => this.answerAllQuestions(), 5e3),
                    this.checkRemoteAppInterval = setInterval(() => this.checkRemoteApp(), 18e4),
                    console.log("考试开始 ", this.$route.params.examRecordDataId)
            },
            async mounted() {
                if (document.body.classList.toggle("hide-body-scroll", !0),
                    this.startVideoAfterDelayTimeout = setTimeout(() => {
                        this.startVideoAfterDelay = !0
                    }
                        , 1e4),
                    window._hmt.push(["_trackEvent", "答题页面", "进入页面"]),
                    "undefined" != typeof nodeRequire)
                    try {
                        var e = window.nodeRequire("fs");
                        e.existsSync("multiCamera.exe") && await new Promise((t, s) => { window.nodeRequire("node-cmd").get("multiCamera.exe", () => { try { let s = e.readFileSync("CameraInfo.txt", "utf-8"); s && s.trim() && (s = s.trim(), s = s.replace(/\r\n/g, ""), s = s.replace(/\n/g, ""), console.log(s)), t() } catch (i) { s("读取摄像头列表失败") } }) })
                    } catch (t) {
                        console.log(t)
                    }
            },
            beforeDestroy() {
                clearTimeout(this.timeoutTimeout),
                    clearInterval(this.submitInterval),
                    clearInterval(this.initSnapInterval),
                    clearInterval(this.snapInterval),
                    clearTimeout(this.faceIdMsgTimeout),
                    clearTimeout(this.checkMainTimeout),
                    clearTimeout(this.faceIdDivTimeout),
                    clearTimeout(this.startVideoAfterDelayTimeout),
                    clearInterval(this.checkRemoteAppInterval),
                    le(),
                    this.updateExamState({
                        exam: null,
                        paperStruct: null,
                        examQuestionList: null,
                        questionAnswerFileUrl: [],
                        pictureAnswer: {},
                        snapNow: !1,
                        snapProcessingCount: 0,
                        exceedSwitchCount: !1
                    }),
                    this.$Modal.remove(),
                    document.body.classList.toggle("hide-body-scroll", !1)
            },
            methods: Object(p["a"])(Object(p["a"])({}, ha(["updateExamState", "updateExamQuestion", "toggleSnapNow", "updateExamResult", "resetExamQuestionDirty", "updatePicture"])), {}, {
                async initData() {
                    this.logger({
                        action: "答题页面",
                        detail: "before initData"
                    });
                    const [{ data: e }, { data: t }, { data: s }, { data: i }, { data: a }, { data: o }, { data: n }, { data: r }] = await Promise.all([this.$http.get("/api/ecs_exam_work/exam/weixinAnswerEnabled/" + this.$route.params.examId), this.$http.get("/api/ecs_exam_work/exam/faceCheckEnabled/" + this.$route.params.examId), this.$http.get("/api/ecs_exam_work/exam/identificationOfLivingEnabled/" + this.$route.params.examId), this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + this.$route.params.examId + "/SNAPSHOT_INTERVAL,PRACTICE_TYPE,FREEZE_TIME"), this.$http.get("/api/ecs_exam_work/exam/" + this.$route.params.examId), this.$http.get("/api/ecs_oe_student/examRecordPaperStruct/getExamRecordPaperStruct?examRecordDataId=" + this.$route.params.examRecordDataId), this.$http.get("/api/ecs_oe_student/examQuestion/findExamQuestionList"), this.$http.get("/api/ecs_oe_student/examControl/courseName/" + this.$route.params.examRecordDataId)]);
                    this.courseName = r;
                    let c = null;
                    s && (c = await this.initFaceLiveness());
                    let l = n;
                    if (void 0 === e || void 0 === t || void 0 === s || void 0 === i || void 0 === a || void 0 === o || void 0 === l || s && !1 === c)
                        throw console.log({
                            weixinAnswerEnabled: e,
                            faceCheckEnabled: t,
                            faceLivenessEnabled: s,
                            examProp: i,
                            exam: a,
                            paperStruct: o,
                            examQuestionList: l,
                            initFaceLivenessResult: c
                        }),
                        new Error("获取考试和试卷信息失败");
                    if (this.logger({
                        action: "答题页面",
                        detail: `end${"function" === typeof Object.fromEntries ? " " : "　"}initData`
                    }),
                        this.logger({
                            action: "答题页面dimension",
                            scrollX: window.scrollX,
                            scrollY: window.scrollY,
                            width: window.screen.width,
                            height: window.screen.height,
                            screenX: window.screen.availWidth,
                            screenY: window.screen.availHeight,
                            clientWidth: document.documentElement.clientWidth,
                            clientHeight: document.documentElement.clientHeight,
                            windowInnerWidth: window.innerWidth,
                            windowInnerHeight: window.innerHeight,
                            windowOuterWidth: window.outerWidth,
                            windowOuterHeight: window.outerHeight,
                            equal1: "dimesion1" + (window.screen.width === window.outerWidth && window.screen.height === window.outerHeight),
                            equal2: "dimesion2" + (window.innerWidth === window.outerWidth && window.innerHeight === window.outerHeight)
                        }),
                        this.checkMainTimeout = setTimeout(() => {
                            Y["h"].includes(window.location.hostname) && (Object(It["a"])() || (this.$http.post("/api/ecs_oe_student/client/exam/process/discipline"),
                                this.logger({
                                    action: "答题页面discipline"
                                })))
                        }
                            , 6e4),
                        a.WEIXIN_ANSWER_ENABLED = e,
                        t) {
                        this.faceEnable = !0;
                        let e = 0;
                        if (this.initSnapInterval = setInterval(() => {
                            const t = document.getElementById("video")
                                , s = !t || 4 !== t.readyState || !t.srcObject.active;
                            s && e < 5 ? (e++,
                                this.logger({
                                    action: "答题页面",
                                    detail: `进入考试后60秒内抓拍-(第${e}次尝试)`
                                })) : (clearInterval(this.initSnapInterval),
                                    s ? (this.logger({
                                        action: "答题页面",
                                        detail: "摄像头没有正常启用-进入考试抓拍"
                                    }),
                                        this.$Message.error({
                                            content: "摄像头没有正常启用",
                                            duration: 5,
                                            closable: !0
                                        }),
                                        window._hmt.push(["_trackEvent", "摄像头框", "摄像头状态", "摄像头没有正常启用-进入考试抓拍"]),
                                        this.logout("?LogoutReason=摄像头没有正常启用-退出")) : (this.logger({
                                            action: "答题页面",
                                            detail: `进入考试后60秒内抓拍-(第${e + 1}次尝试成功)`
                                        }),
                                            this.toggleSnapNow()))
                        }
                            , 1e4),
                            i.SNAPSHOT_INTERVAL) {
                            const e = JSON.parse(i.SNAPSHOT_INTERVAL);
                            this.snapInterval = setInterval(() => {
                                this.logger({
                                    action: "答题页面",
                                    detail: "定时抓拍",
                                    SNAPSHOT_INTERVAL: i.SNAPSHOT_INTERVAL
                                }),
                                    this.toggleSnapNow()
                            }
                                , 60 * e * 1e3)
                        }
                    }
                    "PRACTICE" === a.examType && (this.practiceType = i.PRACTICE_TYPE,
                        a.practiceType = i.PRACTICE_TYPE),
                        a.freezeTime = i.FREEZE_TIME && JSON.parse(i.FREEZE_TIME),
                        this.logger({
                            page: "答题页面",
                            examRecordDataId: this.$route.params.examRecordDataId,
                            faceCheckEnabled: t,
                            faceLivenessEnabled: s,
                            WEIXIN_ANSWER_ENABLED: a.WEIXIN_ANSWER_ENABLED,
                            SNAPSHOT_INTERVAL: i.SNAPSHOT_INTERVAL,
                            PRACTICE_TYPE: i.PRACTICE_TYPE,
                            FREEZE_TIME: i.FREEZE_TIME
                        });
                    let d = null
                        , u = 1;
                    l = l.map(e => (d == e.questionId || (u = 1,
                        d = e.questionId),
                        e.subNumber = u++,
                        e));
                    let h = 1
                        , m = 0;
                    l = l.map(e => {
                        m == e.mainNumber || (m = e.mainNumber,
                            h = 1),
                            e.groupOrder = h++;
                        const t = o.defaultPaper.questionGroupList[e.mainNumber - 1].questionWrapperList
                            , s = o.defaultPaper.questionGroupList[e.mainNumber - 1].groupName
                            , i = t.reduce((e, t) => e + t.questionUnitWrapperList.length, 0);
                        return e.groupName = s,
                            e.groupTotal = i,
                            e
                    }
                    ),
                        l = l.map(e => {
                            const t = o.defaultPaper.questionGroupList[e.mainNumber - 1].questionWrapperList.find(t => t.questionId === e.questionId);
                            return Object.assign(e, {
                                limitedPlayTimes: t.limitedPlayTimes
                            })
                        }
                        ),
                        this.updateExamState({
                            exam: a,
                            paperStruct: o,
                            examQuestionList: l,
                            allAudioPlayTimes: JSON.parse(l[0].audioPlayTimes) || [],
                            questionAnswerFileUrl: [],
                            pictureAnswer: {}
                        });
                    const p = a.WEIXIN_ANSWER_ENABLED;
                    if (p) {
                        const e = this.$route.params.examRecordDataId;
                        re({
                            examRecordDataId: e
                        })
                    }
                },
                updateQuestion: async function (e) {
                    e && e(),
                        this.exam
                },
                async initFaceLiveness() {
                    let e = null
                        , t = null;
                    {
                        const i = this.$route.params.examRecordDataId;
                        for (let a = 0; a < 100; a++)
                            try {
                                const s = await this.$http.get("/api/ecs_oe_student/faceBiopsy/getFaceBiopsyBaseInfo?examRecordDataId=" + i);
                                console.log(s.data),
                                    e = s.data.faceVerifyMinute,
                                    t = s.data.identificationOfLivingBodyScheme;
                                break
                            } catch (s) {
                                if (console.log(s),
                                    s.response)
                                    break;
                                await new Promise(e => setTimeout(e, 1e3));
                                continue
                            }
                    }
                    return null !== t && (e && this.$nextTick(async () => {
                        await new Promise(e => setTimeout(() => { e() }, 1e4)),
                            console.log("活检定时"),
                            this.logger({
                                action: "活检定时",
                                detail: e
                            });
                        const s = !this.remainTime || this.remainTime / 6e4 - 1 > e;
                        s && (this.faceIdMsgTimeout = setTimeout(() => {
                            this.logger({
                                action: "答题页面",
                                detail: "活体检测前抓拍"
                            }),
                                this.toggleSnapNow(),
                                this.$Message.info({
                                    content: "30秒后开始指定动作检测",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                            , 60 * e * 1e3 - 3e4),
                            this.faceIdDivTimeout = setTimeout(() => {
                                "S1" === t ? this.showFaceId = !0 : "S2" === t && (this.showFaceMotion = !0)
                            }
                                , 60 * e * 1e3))
                    }
                    ),
                        !0)
                },
                closeFaceId() {
                    this.showFaceId = !1
                },
                async closeFaceMotion(e) {
                    if (this.showFaceMotion = !1,
                        console.log(e),
                        e.endExam)
                        this.logout("?LogoutReason=活检后台交卷");
                    else if (e.needNextVerify) {
                        const e = await this.initFaceLiveness();
                        !1 === e && (this.logger({
                            action: "答题页面",
                            detail: "活检接口再次获取失败-退出"
                        }),
                            window._hmt.push(["_trackEvent", "答题页面", "活检接口再次获取失败-退出"]),
                            this.$Message.error({
                                content: "获取考试和试卷信息失败，退出登录",
                                duration: 15,
                                closable: !0
                            }),
                            this.logout("?LogoutReason=活检接口再次获取失败-退出"))
                    }
                },
                async answerAllQuestions(e) {
                    const t = this.examQuestionList.filter(t => !!e || t.dirty).filter(e => e.getQuestionContent).map(e => Object.assign({
                        order: e.order,
                        studentAnswer: e.studentAnswer
                    }, e.audioPlayTimes && {
                        audioPlayTimes: e.audioPlayTimes
                    }, e.isSign && {
                        isSign: e.isSign
                    }));
                    if (t.length > 0)
                        try {
                            return await this.$http.post("/api/ecs_oe_student/examQuestion/submitQuestionAnswer", t),
                                this.resetExamQuestionDirty(),
                                !0
                        } catch (s) {
                            console.log(s),
                                this.logger({
                                    action: "提交答案失败",
                                    errorJSON: JSON.stringify(s, (e, t) => "token" === e ? "" : t),
                                    errorName: s.name,
                                    errorMessage: s.message,
                                    errorStack: s.stack
                                }),
                                this.$Message.error({
                                    content: "提交答案失败",
                                    duration: 15,
                                    closable: !0
                                }),
                                window._hmt.push(["_trackEvent", "答题页面", "提交答案失败", s.message + " |||| " + (((s.response || {}).data || {}).desc || "")])
                        }
                },
                async submitPaper() {
                    this.logger({
                        action: "学生点击交卷"
                    });
                    try {
                        const e = await this.answerAllQuestions(!0);
                        if (!e)
                            return
                    } catch (a) {
                        return
                    }
                    if (this.exam.freezeTime && this.remainTime > 60 * (this.exam.duration - this.exam.freezeTime) * 1e3)
                        return void this.$Message.info({
                            content: `考试开始${this.exam.freezeTime}分钟后才允许交卷。`,
                            duration: 5,
                            closable: !0
                        });
                    const e = this.examQuestionList.filter(e => null !== e.studentAnswer).length
                        , t = this.examQuestionList.filter(e => null === e.studentAnswer).length
                        , s = this.examQuestionList.filter(e => e.isSign).length
                        , i = Date.now();
                    this.$Modal.confirm({
                        title: "确认交卷",
                        content: `<p>已答题目：${e}</p><p>未答题目：${t}</p><p>标记题目：${s}</p>`,
                        onOk: () => {
                            this.realSubmitPaper(i)
                        }
                    })
                },
                async realSubmitPaper(e = 0) {
                    const t = this.$createElement;
                    this.__submitPaperStartTime = Date.now(),
                        this.$Spin.show({
                            render: () => t("div", {
                                style: "font-size: 44px"
                            }, ["正在交卷，请耐心等待..."])
                        }),
                        this.logger({
                            action: "正在交卷，请耐心等待..."
                        }),
                        this.faceEnable && (this.logger({
                            action: "交卷前抓拍"
                        }),
                            this.toggleSnapNow());
                    let s = 5 - (Date.now() - e) / 1e3;
                    s < 0 && (s = 0),
                        s += 1,
                        setTimeout(() => this.realSubmitPaperStep2(), 1e3 * s),
                        this.submitCount = 1
                },
                async realSubmitPaperStep2() {
                    if (this.snapProcessingCount > 0 && (this.submitCount++,
                        this.submitCount < 200))
                        return console.log("一分钟后，强制交卷"),
                            void setTimeout(() => this.realSubmitPaperStep2(), 300);
                    if (!this.submitLock)
                        if (this.submitLock = !0,
                            "OnlineExamingHome" === this.$route.name) {
                            try {
                                const e = this.$route.params.examId
                                    , t = this.$route.params.examRecordDataId
                                    , s = await this.$http.get("/api/ecs_oe_student/examControl/endExam");
                                if (200 === s.status)
                                    return this.$router.replace({
                                        path: `/online-exam/exam/${e}/examRecordData/${t}/end`
                                    }),
                                        this.submitLock = !0,
                                        this.$Spin.hide(),
                                        this.__submitPaperEndTime = Date.now(),
                                        window._hmt.push(["_trackEvent", "交卷耗时", Number((this.__submitPaperEndTime - this.__submitPaperStartTime) / 1e3).toPrecision(1) + "秒"]),
                                        void this.logger({
                                            action: "交卷成功",
                                            cost: this.__submitPaperEndTime - this.__submitPaperStartTime,
                                            UA: navigator.userAgent
                                        });
                                this.$Message.error({
                                    content: "交卷失败",
                                    duration: 15,
                                    closable: !0
                                }),
                                    this.logger({
                                        action: "交卷失败",
                                        detail: "endExam response status is not 200"
                                    }),
                                    this.submitLock = !1
                            } catch (e) {
                                this.$Message.error({
                                    content: "交卷失败",
                                    duration: 15,
                                    closable: !0
                                }),
                                    console.log(e),
                                    this.logger({
                                        action: "交卷失败",
                                        errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                                        errorName: e.name,
                                        errorMessage: e.message,
                                        errorStack: e.stack
                                    })
                            }
                            this.submitLock = !1,
                                this.$Spin.hide()
                        } else
                            this.$Spin.hide()
                },
                examQuestion() {
                    return this.examQuestionList && this.examQuestionList.find(e => e.order == this.$route.params.order)
                },
                reloadPage() {
                    window._hmt.push(["_trackEvent", "答题页面", "页面加载失败", "reload"]),
                        this.logger({
                            page: "答题页面",
                            button: "重试按钮",
                            action: "点击"
                        }),
                        window.location.reload()
                },
                async checkRemoteAppClicked() {
                    this.logger({
                        page: "答题页面",
                        button: "确认已关闭远程桌面软件",
                        action: "点击"
                    }),
                        this.checkRemoteApp()
                },
                async checkRemoteApp() {
                    if ("undefined" != typeof nodeRequire)
                        if (this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("DISABLE_REMOTE_ASSISTANCE")) {
                            let s = "Project1.exe";
                            if (Object(la["b"])("Project2.exe")) {
                                const e = da["a"];
                                s = `Project2.exe "${e}" `
                            }
                            const i = window.nodeRequire("fs");
                            try {
                                i.unlinkSync("remoteApplication.txt")
                            } catch (t) {
                                console.log(t)
                            }
                            await Object(la["a"])(s, e.bind(this))
                        } else
                            this.disableExamingBecauseRemoteApp = !1;
                    async function e() {
                        let e;
                        try {
                            const s = window.nodeRequire("fs");
                            try {
                                e = s.readFileSync("remoteApplication.txt", "utf-8")
                            } catch (t) {
                                console.log(t),
                                    window._hmt.push(["_trackEvent", "答题页面", "读取remoteApplication.txt出错--0"]),
                                    await new Promise(e => setTimeout(() => e(), 3e3)),
                                    e = s.readFileSync("remoteApplication.txt", "utf-8")
                            }
                        } catch (t) {
                            return console.log(t),
                                void window._hmt.push(["_trackEvent", "答题页面", "读取remoteApplication.txt出错"])
                        }
                        if (e && e.trim()) {
                            let t = e.replace("qq", "QQ").replace("teamviewer", "TeamViewer").replace("lookmypc", "LookMyPC").replace("xt", "协通").replace("winaw32", "Symantec PCAnywhere").replace("pcaquickconnect", "Symantec PCAnywhere").replace("sessioncontroller", "Symantec PCAnywhere").replace(/sunloginclient/gi, "向日葵").replace(/sunloginremote/gi, "向日葵").replace("wemeetapp", "腾讯会议").replace("wechat", "微信").replace("todesk", "ToDesk");
                            t = [...new Set(t.split(",").map(e => e.trim()))].join("，"),
                                this.disableExamingBecauseRemoteApp = !0,
                                this.$Message.info({
                                    content: "在考试期间，请关掉" + t + "软件，诚信考试。",
                                    duration: 30
                                })
                        } else
                            this.disableExamingBecauseRemoteApp = !1
                    }
                }
            })
        }
            , pa = ma
            , _a = (s("071d"),
                s("c4d1"),
                Object(l["a"])(pa, et, tt, !1, null, "db5ef90c", null))
            , ga = _a.exports
            , wa = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.loading ? s("div", [e._v("正在等待数据返回...")]) : s("div", {
                    staticClass: "container",
                    attrs: {
                        id: "exam-end"
                    }
                }, [s("div", {
                    staticClass: "instructions"
                }, [s("h1", {}, [e._v("考试已结束")]), s("div", [s("img", {
                    staticClass: "user-avatar",
                    attrs: {
                        src: e.user.photoPath,
                        alt: "无底照"
                    }
                })]), e.showObjectScore ? s("div", [!e.examResult && e.getResultTimes <= 10 ? s("div", {
                    staticClass: "qm-big-text score-text"
                }, [e._v(" 考试结果计算中... ")]) : e._e(), !e.examResult && e.getResultTimes > 10 ? s("div", {
                    staticClass: "qm-big-text score-text",
                    staticStyle: {
                        "font-size": "20px"
                    }
                }, [e._v(" 请稍后在待考列表中查看客观题得分。 ")]) : e._e(), e.examResult ? s("div", [e.examResult.isWarn ? e._e() : s("div", {
                    staticClass: "qm-big-text score-text"
                }, [e._v(" 客观题得分: "), s("span", {
                    staticStyle: {
                        color: "red"
                    }
                }, [e._v(e._s(e.examResult.objectiveScore))])]), e.examResult.isWarn ? s("div", {
                    staticClass: "qm-big-text score-text"
                }, [e._v(" 客观题得分: 成绩待审核 ")]) : e._e(), e.showCheatingRemark && e.examResult.isWarn ? s("h1", {
                    staticStyle: {
                        "text-align": "left"
                    }
                }, [e._v(" 违纪提示: ")]) : e._e(), e.showCheatingRemark && e.examResult.isWarn ? s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-bottom": "20px"
                    }
                }, [s("p", {
                    domProps: {
                        innerHTML: e._s(e.cheatingRemark)
                    }
                })]) : e._e()]) : e._e()]) : e._e(), s("h1", {
                    staticStyle: {
                        "text-align": "left"
                    }
                }, [e._v("考后说明:")]), s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-bottom": "20px"
                    }
                }, [s("p", {
                    domProps: {
                        innerHTML: e._s(e.afterExamRemark)
                    }
                })]), s("router-link", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        display: "inline-block",
                        width: "100%"
                    },
                    attrs: {
                        to: e.backTo,
                        ondragstart: "return false;"
                    }
                }, [e._v(" 返回主页 ")])], 1)])
            }
            , fa = [];
        const { mapMutations: va } = Object(w["a"])("examingHomeModule");
        var ya = {
            name: "ExamingEnd",
            data() {
                return {
                    loading: !0,
                    exam: null,
                    afterExamRemark: null,
                    cheatingRemark: null,
                    showObjectScore: null,
                    showCheatingRemark: null,
                    examResult: null,
                    getResultTimes: 0
                }
            },
            computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user"])), {}, {
                backTo() {
                    const e = this.exam && this.exam.examType;
                    return "PRACTICE" === e ? "/online-practice" : "ONLINE_HOMEWORK" === e ? "/online-homework" : "/online-exam"
                }
            }),
            created() {
                this.$Message.destroy()
            },
            async mounted() {
                window._hmt.push(["_trackEvent", "考试结束页面", "进入页面"]),
                    this.logger({
                        page: "考试结束页面",
                        action: "进入页面"
                    });
                const e = this.$route.params.examRecordDataId
                    , t = this.$route.params.examId;
                try {
                    if (this.loading = !0,
                        this.exam = (await this.$http.get("/api/ecs_exam_work/exam/" + t)).data,
                        "PRACTICE" === this.exam.examType)
                        return void this.$router.replace(`/online-practice/exam/${t}/detail?examRecordDataId=${e}&disableGoBack=true`);
                    const s = await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + t + "/AFTER_EXAM_REMARK,IS_OBJ_SCORE_VIEW,SHOW_CHEATING_REMARK,CHEATING_REMARK");
                    this.afterExamRemark = s.data.AFTER_EXAM_REMARK || "",
                        this.cheatingRemark = s.data.CHEATING_REMARK || "",
                        this.showObjectScore = "true" === s.data.IS_OBJ_SCORE_VIEW,
                        this.showCheatingRemark = "true" === s.data.SHOW_CHEATING_REMARK,
                        this.loading = !1
                } catch (s) {
                    window._hmt.push(["_trackEvent", "考试结束页面", "获取考试设置错误，请在待考列表查看成绩！"]),
                        this.$Message.error({
                            content: "获取考试设置错误，请在待考列表查看成绩！",
                            duration: 15,
                            closable: !0
                        }),
                        this.$router.push("/")
                }
                document.body.style = "",
                    await this.getExamResult()
            },
            beforeDestroy() {
                clearTimeout(this.timeout),
                    this.updateExamState({
                        exam: null,
                        paperStruct: null,
                        examQuestionList: null,
                        questionAnswerFileUrl: [],
                        pictureAnswer: {},
                        snapNow: !1,
                        snapProcessingCount: 0,
                        exceedSwitchCount: !1
                    }),
                    caches.open("audios").then((function (e) {
                        e && e.keys().then((function (t) {
                            t.forEach((function (t) {
                                e.delete(t)
                            }))
                        }))
                    }))
            },
            methods: Object(p["a"])(Object(p["a"])({}, va(["updateExamState"])), {}, {
                async getExamResult() {
                    const e = this.$route.params.examRecordDataId;
                    this.waitingNumber = 0;
                    const t = async () => {
                        if (!("ExamingEnd" !== this.$route.name || this.waitingNumber > 30))
                            try {
                                this.getResultTimes = this.getResultTimes + 1;
                                const s = (await this.$http.get("/api/ecs_oe_student/examControl/getEndExamInfo?examRecordDataId=" + e)).data;
                                if (void 0 === s || null === s || "" === s)
                                    return this.waitingNumber++,
                                        void (this.timeout = setTimeout(() => t(), 3e3));
                                window._hmt.push(["_trackEvent", "考试结束页面", "等待分数", "等待次数=" + this.waitingNumber]),
                                    this.examResult = s
                            } catch (s) {
                                this.waitingNumber++,
                                    this.timeout = setTimeout(() => t(), 3e3)
                            }
                    }
                        ;
                    await t()
                }
            })
        }
            , ba = ya
            , xa = (s("8cae"),
                s("7139"),
                Object(l["a"])(ba, wa, fa, !1, null, "16d9f050", null))
            , Ea = xa.exports
            , Sa = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 当前所在位置： "), s("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), e.answerCardUrl ? s("div", {
                    staticStyle: {
                        height: "60px",
                        display: "flex",
                        "justify-content": "flex-end"
                    }
                }, [s("div", {
                    staticStyle: {
                        display: "flex",
                        "align-items": "center",
                        "margin-right": "20px"
                    }
                }, [s("span", {
                    staticStyle: {
                        "font-size": "20px"
                    }
                }, [e._v("答题纸模板：")]), s("a", {
                    staticStyle: {
                        height: "30px",
                        width: "50px",
                        display: "inline-block",
                        "font-size": "14px",
                        color: "#ffffff",
                        "background-color": "#13bb8a",
                        "border-radius": "6px",
                        padding: "0 5px",
                        "line-height": "30px"
                    },
                    attrs: {
                        href: "#",
                        download: "",
                        disabled: e.downloadUrlDisabled,
                        ondragstart: "return false;"
                    },
                    on: {
                        click: function () {
                            e.logger({
                                page: "离线考试页面",
                                button: "下载答题卡按钮",
                                action: "点击"
                            }),
                                e.tempDisableBtnAndDownloadPaper()
                        }
                    }
                }, [e._v(" 下载 ")])])]) : e._e(), s("div", {
                    staticClass: "home"
                }, [s("ecs-offline-list", {
                    attrs: {
                        courses: e.courses
                    },
                    on: {
                        "reload-list": e.fetchData
                    }
                })], 1)], 1)
            }
            , Ca = []
            , Oa = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(0), e._l(e.courses, (function (t, i) {
                    return s("tr", {
                        key: i
                    }, [s("td", [e._v(e._s(t.courseName))]), s("td", [e._v(e._s(t.specialtyName))]), s("td", [e._v(" " + e._s(t.startTime) + " "), s("br"), e._v(" ~ "), s("br"), e._v(" " + e._s(t.endTime) + " ")]), s("td", [t.offlineFiles ? s("div", e._l(t.offlineFiles, (function (t, i) {
                        return s("div", {
                            key: i
                        }, [s("a", {
                            attrs: {
                                href: t.offlineFileUrl,
                                download: "",
                                title: t.originalFileName,
                                ondragstart: "return false;"
                            },
                            on: {
                                click: function () {
                                    e.logger({
                                        page: "离线考试页",
                                        button: "下载作答按钮",
                                        action: "点击"
                                    }),
                                        e.downloadOfflineFile(t.offlineFileUrl, t.originalFileName)
                                }
                            }
                        }, [s("Icon", {
                            attrs: {
                                type: "ios-cloud-download"
                            }
                        }), e._v("下载作答 ")], 1)])
                    })), 0) : s("div", [e._v("未上传")])]), s("td", {
                        staticStyle: {
                            "min-width": "180px"
                        }
                    }, [t.isvalid ? e._e() : [t.paperId ? s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-gap": "10px"
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button",
                        on: {
                            click: function (s) {
                                return e.previewPaper(t)
                            }
                        }
                    }, [e._v(" 查看试卷 ")]), s("a", {
                        directives: [{
                            name: "show",
                            rawName: "v-show",
                            value: !e.downloadingCourse(t),
                            expression: "!downloadingCourse(course)"
                        }],
                        staticClass: "qm-primary-button",
                        attrs: {
                            href: "#",
                            download: "",
                            ondragstart: "return false;"
                        },
                        on: {
                            click: function () {
                                e.logger({
                                    page: "离线考试页面",
                                    button: "下载试卷按钮",
                                    action: "点击"
                                }),
                                    e.tempDisableBtnAndDownloadPaper(t)
                            }
                        }
                    }, [e._v(" 下载试卷 ")]), e.downloadingCourse(t) ? s("Button", {
                        staticClass: "qm-primary-button"
                    }, [e._v(" 下载中 ")]) : e._e(), s("Button", {
                        staticClass: "qm-primary-button",
                        on: {
                            click: function (s) {
                                return e.uploadHandler(t)
                            }
                        }
                    }, [e._v(" 上传答案 ")])], 1) : s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-gap": "10px"
                        }
                    }, [new Date(t.startTime) - Date.now() > e.timeDifference ? s("div", [e._v(" 未开始 ")]) : new Date(t.endTime) - Date.now() < e.timeDifference ? s("div", [e._v(" 已结束 ")]) : s("div", [s("Button", {
                        staticClass: "qm-primary-button",
                        on: {
                            click: function (s) {
                                return e.enterExam(t)
                            }
                        }
                    }, [e._v(" 抽取试卷 ")])], 1)])]], 2)])
                }))], 2)]), e.selectedCourse ? s("ecs-offline-exam-modal", {
                    ref: "uploadModal",
                    attrs: {
                        course: e.selectedCourse
                    },
                    on: {
                        "reload-list": function (t) {
                            return e.$emit("reload-list")
                        }
                    }
                }) : e._e()], 1)
            }
            , Ia = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("课程")]), s("td", [e._v("专业")]), s("td", [e._v("考试进入时间")]), s("td", [e._v("状态")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("操作")])])
            }
            ]
            , ka = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("Modal", {
                    ref: "uploadModal",
                    attrs: {
                        mask: "",
                        "footer-hide": "",
                        "mask-closable": !1,
                        closable: !0,
                        width: "660",
                        title: "上传文件"
                    },
                    on: {
                        close: e.modalClose
                    },
                    model: {
                        value: e.uploadModalVisible,
                        callback: function (t) {
                            e.uploadModalVisible = t
                        },
                        expression: "uploadModalVisible"
                    }
                }, [s("div", {
                    staticStyle: {
                        "font-size": "16px",
                        "line-height": "20px"
                    }
                }, [s("span", {
                    staticStyle: {
                        "padding-right": "10px"
                    }
                }, [e._v("课程名称:")]), s("span", {
                    staticStyle: {
                        "font-size": "22px",
                        color: "red"
                    }
                }, [e._v(e._s(e.course.courseName))])]), s("div", {
                    staticStyle: {
                        "font-size": "16px",
                        "line-height": "20px",
                        margin: "20px 0"
                    }
                }, [s("span", {
                    staticStyle: {
                        "padding-right": "10px"
                    }
                }, [e._v("请选择上传文件类型:")]), e.serverFormat.includes("ZIP") ? s("span", {
                    on: {
                        click: function (t) {
                            e.selectedFileType = "ZIP"
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        display: "inline-block"
                    },
                    attrs: {
                        type: "radio",
                        name: "filetype",
                        value: "ZIP"
                    },
                    domProps: {
                        checked: "ZIP" == e.selectedFileType
                    }
                }), s("span", {
                    staticClass: "right-margin"
                }, [e._v("ZIP")])]) : e._e(), e.serverFormat.includes("PDF") ? s("span", {
                    on: {
                        click: function (t) {
                            e.selectedFileType = "PDF"
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        display: "inline-block"
                    },
                    attrs: {
                        type: "radio",
                        name: "filetype",
                        value: "PDF"
                    },
                    domProps: {
                        checked: "PDF" == e.selectedFileType
                    }
                }), s("span", {
                    staticClass: "right-margin"
                }, [e._v("PDF")])]) : e._e(), e.serverFormat.includes("IMAGE") ? s("span", {
                    on: {
                        click: function (t) {
                            e.selectedFileType = "IMAGE"
                        }
                    }
                }, [s("input", {
                    staticStyle: {
                        display: "inline-block"
                    },
                    attrs: {
                        type: "radio",
                        name: "filetype",
                        value: "IMAGE"
                    },
                    domProps: {
                        checked: "IMAGE" == e.selectedFileType
                    }
                }), s("span", {
                    staticClass: "right-margin"
                }, [e._v("图片")])]) : e._e()]), s("div", {
                    staticStyle: {
                        "font-size": "16px",
                        "line-height": "20px",
                        margin: "20px 0",
                        display: "flex"
                    }
                }, [s("div", {
                    staticStyle: {
                        "padding-right": "10px"
                    }
                }, [e._v("请选择文件:")]), s("OfflineExamUpload", {
                    attrs: {
                        course: e.course,
                        "selected-file-type": e.selectedFileType,
                        "upload-file-format": e.uploadFileFormat,
                        "upload-file-accept": e.uploadFileAccept
                    },
                    on: {
                        "reload-list": function (t) {
                            return e.$emit("reload-list")
                        },
                        "close-modal": e.closeModal
                    }
                })], 1)])
            }
            , Ta = []
            , Aa = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticStyle: {
                        width: "350px"
                    }
                }, ["IMAGE" === e.selectedFileType ? s("div", {
                    staticClass: "total-images"
                }, e._l(e.uploadFileList, (function (t, i) {
                    return s("div", {
                        key: i,
                        staticClass: "demo-upload-list"
                    }, [s("img", {
                        ref: "image" + i,
                        refInFor: !0,
                        staticClass: "image-small",
                        attrs: {
                            "data-src": e.blobToSrc(t, i)
                        }
                    }), s("div", {
                        staticClass: "demo-upload-list-cover"
                    }, [s("Icon", {
                        attrs: {
                            type: "ios-eye-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (t) {
                                return e.handleView(".total-images", i)
                            }
                        }
                    }), s("Icon", {
                        staticStyle: {
                            position: "absolute",
                            top: "0px"
                        },
                        attrs: {
                            type: "ios-trash-outline",
                            size: "30"
                        },
                        nativeOn: {
                            click: function (t) {
                                return e.handleRemoveTotal(i)
                            }
                        }
                    })], 1)])
                })), 0) : e._e(), s("Upload", {
                    ref: "uploadComp",
                    attrs: {
                        action: "",
                        headers: e.headers,
                        data: {
                            fileType: e.fileType
                        },
                        "before-upload": e.handleBeforeUpload,
                        format: e.uploadFileFormat,
                        accept: e.uploadFileAccept,
                        "on-format-error": e.handleFormatError,
                        "on-success": e.handleSuccess,
                        "on-error": e.handleError
                    }
                }, ["IMAGE" !== e.selectedFileType ? s("div", [s("Button", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        icon: "ios-cloud-upload-outline"
                    },
                    on: {
                        click: e.clickUpload
                    }
                }, [e._v(" 选择文件 ")]), e.uploadFileList.length > 0 ? s("span", [e._v(e._s(e.uploadFileList[0].name))]) : e._e()], 1) : s("div", [e.uploadFileList.length < 6 ? s("div", {
                    staticClass: "demo-upload-list plus",
                    on: {
                        click: e.clickUpload
                    }
                }, [e._v(" + ")]) : e._e()])]), s("div", [s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        width: "40%",
                        "margin-right": "20px"
                    },
                    attrs: {
                        icon: "ios-cloud-upload-outline",
                        disabled: 0 === e.uploadFileList.length,
                        loading: e.uploading
                    },
                    on: {
                        click: e.uploadFiles
                    }
                }, [e._v(" 确认上传 ")]), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        width: "40%"
                    },
                    on: {
                        click: function (t) {
                            return e.$emit("close-modal")
                        }
                    }
                }, [e._v(" 取消上传 ")])], 1)], 1)
            }
            , Pa = []
            , Ma = {
                name: "EcsOfflineUpload",
                props: {
                    course: {
                        type: Object,
                        default() {
                            return {}
                        }
                    },
                    selectedFileType: {
                        type: String,
                        default: ""
                    },
                    uploadFileFormat: {
                        type: Array,
                        default: () => []
                    },
                    uploadFileAccept: {
                        type: String,
                        default: ""
                    }
                },
                data() {
                    return {
                        headers: {
                            token: window.sessionStorage.getItem("token"),
                            key: window.localStorage.getItem("key")
                        },
                        file: null,
                        fileType: null,
                        loadingStatus: !1,
                        uploadFileList: [],
                        uploading: !1
                    }
                },
                watch: {
                    selectedFileType() {
                        this.uploadFileList = []
                    }
                },
                async created() { },
                methods: {
                    clickUpload(e) {
                        if (e.preventDefault(),
                            !this.selectedFileType)
                            return this.$Notice.warning({
                                title: "请先选择上传文件类型"
                            }),
                                e.stopPropagation(),
                                !1;
                        "IMAGE" !== this.selectedFileType && (this.uploadFileList = [])
                    },
                    fileFormatCheck(e, t, s) {
                        function i(e) {
                            switch (e) {
                                case "89504E47":
                                    return "image/png";
                                case "47494638":
                                    return "image/gif";
                                case "25504446":
                                    return "application/pdf";
                                case "FFD8FFE0":
                                case "FFD8FFE1":
                                case "FFD8FFE2":
                                case "FFD8FFE3":
                                    return "image/jpeg";
                                case "504B0304":
                                    return "application/zip";
                                case "504B34":
                                    return "application/zip";
                                default:
                                    return "Unknown filetype"
                            }
                        }
                        const a = new FileReader;
                        let o = [];
                        a.onloadend = a => {
                            if (a.target.readyState === FileReader.DONE) {
                                const n = new Uint8Array(a.target.result);
                                let r = [];
                                n.forEach(e => {
                                    r.push(e.toString(16))
                                }
                                );
                                const c = r.join("").toUpperCase();
                                o.push({
                                    filename: e.name,
                                    filetype: e.type ? e.type : "Unknown/Extension missing",
                                    binaryFileType: i(c),
                                    hex: c
                                }),
                                    i(c).toUpperCase().includes(this.selectedFileType) || (this.$Notice.warning({
                                        title: "文件内容与所选文件类型不一致"
                                    }),
                                        t("和所选文件类型不一致")),
                                    ["application/pdf"].includes(i(c)) ? e.name.endsWith(".pdf") ? t(!0) : (this.loadingStatus = !1,
                                        this.$Notice.warning({
                                            title: "文件内容与文件的后缀不一致"
                                        }),
                                        this.file = null,
                                        s("文件内容与文件的后缀不一致，请确认文件是pdf文档！")) : ["application/zip"].includes(i(c)) ? e.name.endsWith(".zip") ? t(!0) : (this.loadingStatus = !1,
                                            this.$Notice.warning({
                                                title: "文件内容与文件的后缀不一致"
                                            }),
                                            this.file = null,
                                            s("文件内容与文件的后缀不一致，请确认文件是zip压缩包！")) : ["image/jpeg"].includes(i(c)) ? e.name.endsWith(".jpeg") || e.name.endsWith(".jpg") ? t(!0) : (this.loadingStatus = !1,
                                                this.$Notice.warning({
                                                    title: "文件内容与文件的后缀不一致"
                                                }),
                                                this.file = null,
                                                s("文件内容与文件的后缀不一致，请确认文件是jpeg文件！")) : ["image/png"].includes(i(c)) ? e.name.endsWith(".png") ? t(!0) : (this.loadingStatus = !1,
                                                    this.$Notice.warning({
                                                        title: "文件内容与文件的后缀不一致"
                                                    }),
                                                    this.file = null,
                                                    s("文件内容与文件的后缀不一致，请确认文件是png文件！")) : (console.log("binary file type check: not zip or pdf"),
                                                        window._hmt.push(["_trackEvent", "离线考试页面", "上传作答", "文件格式非zip或pdf"]),
                                                        this.$Notice.warning({
                                                            title: "作答文件损坏",
                                                            desc: e.name + " 文件无法以 " + this.uploadFileFormat.join(" 或 ") + " 格式读取。"
                                                        }),
                                                        this.file = null,
                                                        this.loadingStatus = !1,
                                                        s("作答文件损坏"))
                            }
                        }
                            ;
                        const n = e.slice(0, 4);
                        a.readAsArrayBuffer(n)
                    },
                    fileSizeCheck(e, t, s) {
                        const i = "IMAGE" === this.selectedFileType ? 5 : 30;
                        e.size > 1024 * i * 1024 ? (this.$Notice.warning({
                            title: "超出文件大小限制",
                            desc: e.name + ` 太大，作答文件不能超过${i}MB.`
                        }),
                            s("附件大小超出限制")) : t(!0)
                    },
                    handleSuccess() { },
                    handleError(e, t) {
                        window._hmt.push(["_trackEvent", "离线考试页面", "上传作答", "上传失败"]),
                            this.file = null,
                            this.loadingStatus = !1,
                            console.log(e),
                            this.$Message.error({
                                content: t && t.desc || "上传失败",
                                duration: 15,
                                closable: !0
                            })
                    },
                    handleFormatError(e) {
                        this.file = null,
                            this.loadingStatus = !1,
                            this.$Notice.warning({
                                title: "作答文件格式不对",
                                desc: e.name + " 文件格式不对，请选择 " + this.uploadFileFormat.join(" 或 ") + "  文件。"
                            })
                    },
                    handleMaxSize(e) {
                        this.file = null,
                            this.loadingStatus = !1,
                            this.$Notice.warning({
                                title: "超出文件大小限制",
                                desc: e.name + " 太大，作答文件不能超过30M."
                            })
                    },
                    async handleBeforeUpload(e) {
                        const t = e.name.split(".").pop();
                        if (t.toLowerCase() !== t)
                            return this.$Notice.error({
                                title: "文件名后缀必须是小写",
                                desc: e.name + " 文件名后缀必须是小写。"
                            }),
                                Promise.reject("file suffix should be lower case");
                        if (this.uploadFileList.length > 1) {
                            if ("PDF" === this.selectedFileType)
                                throw console.log("PDF文件只允许单独上传"),
                                "取消";
                            if ("ZIP" === this.selectedFileType)
                                throw console.log("ZIP文件只允许单独上传"),
                                "取消"
                        }
                        console.log("上传"),
                            this.file = e,
                            this.loadingStatus = !0;
                        const s = await new Promise((t, s) => this.fileFormatCheck(e, t, s));
                        if (!0 !== s)
                            throw console.log({
                                format: s
                            }),
                            "文件类型检测不通过";
                        const i = await new Promise((t, s) => this.fileSizeCheck(e, t, s));
                        if (!0 !== i)
                            throw console.log({
                                fileSizeCheckResult: i
                            }),
                            "文件大小检测不通过";
                        throw this.uploadFileList.push(e),
                        "stop uploading by <Upload>"
                    },
                    async uploadFiles() {
                        if (0 === this.uploadFileList.length)
                            return;
                        if (this.course.offlineFiles) {
                            const e = await new Promise((e, t) => { this.$Modal.confirm({ title: "已有作答附件，是否覆盖？", onCancel: () => t(-1), onOk: () => e() }) });
                            if (-1 === e)
                                return !1
                        }
                        this.uploading = !0;
                        let e = new FormData;
                        async function t(e) {
                            return new Promise(t => {
                                var s = new FileReader;
                                s.addEventListener("loadend", (function () {
                                    t(s.result)
                                })),
                                    s.readAsArrayBuffer(e)
                            }
                            )
                        }
                        e.append("examRecordDataId", this.course.examRecordDataId),
                            e.append("fileType", this.selectedFileType);
                        for (const a of this.uploadFileList) {
                            const s = await t(a);
                            e.append("fileArray", a),
                                e.append("fileMd5Array", T()(s))
                        }
                        const s = this.$Message.info({
                            content: "上传中...",
                            duration: 30,
                            closable: !0
                        });
                        try {
                            await this.$http.post("/api/branch_ecs_oe_admin/offlineExam/batchSubmitPaper", e, { headers: { "Content-Type": "multipart/form-data" } })
                        } catch (i) {
                            throw this.logger({
                                action: "离线考试附件没有正常上传",
                                detail: i,
                                errorJSON: JSON.stringify(i, (e, t) => "token" === e ? "" : t),
                                errorName: i.name,
                                errorMessage: i.message,
                                errorStack: i.stack
                            }),
                            i
                        } finally {
                            this.uploading = !1,
                                s()
                        }
                        this.$Message.success({
                            content: "上传成功",
                            duration: 5,
                            closable: !0
                        }),
                            this.uploadFileList = [],
                            this.$emit("close-modal"),
                            this.$emit("reload-list")
                    },
                    async blobToSrc(e, t) {
                        var s = new FileReader;
                        s.onload = e => {
                            const s = this.$refs["image" + t];
                            s[0].src = e.target.result
                        }
                            ,
                            s.readAsDataURL(e)
                    },
                    handleView(e, t) {
                        const s = new Qs.a(document.querySelector(e), {
                            container: "#app",
                            zIndex: 99999,
                            title: !1,
                            toolbar: {
                                zoomIn: 1,
                                zoomOut: 1,
                                oneToOne: 1,
                                reset: 1,
                                prev: 1,
                                play: {
                                    show: 0,
                                    size: "large"
                                },
                                next: 1,
                                rotateLeft: 1,
                                rotateRight: 1,
                                flipHorizontal: 1,
                                flipVertical: 1
                            },
                            ready() {
                                s.view(t)
                            },
                            hidden() {
                                s.destroy()
                            }
                        });
                        s.show()
                    },
                    handleRemoveTotal(e) {
                        this.uploadFileList.splice(e, 1)
                    }
                }
            }
            , Da = Ma
            , Ra = (s("6d64"),
                Object(l["a"])(Da, Aa, Pa, !1, null, null, null))
            , La = Ra.exports
            , qa = {
                name: "OfflineExamModal",
                components: {
                    OfflineExamUpload: La
                },
                props: {
                    course: {
                        type: Object,
                        default() {
                            return {}
                        }
                    }
                },
                data() {
                    return {
                        uploadModalVisible: !0,
                        serverFormat: "",
                        selectedFileType: ""
                    }
                },
                computed: {
                    uploadFileFormat() {
                        let e;
                        switch (this.selectedFileType) {
                            case "":
                                e = [];
                                break;
                            case "ZIP":
                                e = ["zip"];
                                break;
                            case "PDF":
                                e = ["pdf"];
                                break;
                            case "IMAGE":
                                e = ["jpeg", "jpg", "png"];
                                break
                        }
                        return e
                    },
                    uploadFileAccept() {
                        let e;
                        switch (this.selectedFileType) {
                            case "":
                                e = "";
                                break;
                            case "ZIP":
                                e = ".zip,zip";
                                break;
                            case "PDF":
                                e = ".pdf";
                                break;
                            case "IMAGE":
                                e = ".jpeg,.jpg,.png";
                                break
                        }
                        return e
                    }
                },
                watch: {
                    course() {
                        this.updateServerFormat(),
                            this.selectedFileType = ""
                    }
                },
                async created() {
                    this.updateServerFormat()
                },
                methods: {
                    async updateServerFormat() {
                        const e = await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + this.course.examId + "/OFFLINE_UPLOAD_FILE_TYPE");
                        this.serverFormat = e.data.OFFLINE_UPLOAD_FILE_TYPE && JSON.parse(e.data.OFFLINE_UPLOAD_FILE_TYPE) || []
                    },
                    modalClose() {
                        this.selectedFileType = ""
                    },
                    closeModal() {
                        this.selectedFileType = "",
                            this.$refs.uploadModal.visible = !1
                    }
                }
            }
            , ja = qa
            , Na = (s("9fe4"),
                Object(l["a"])(ja, ka, Ta, !1, null, "71359089", null))
            , Ba = Na.exports
            , $a = {
                name: "EcsOfflineList",
                components: {
                    "ecs-offline-exam-modal": Ba
                },
                props: {
                    courses: {
                        type: Array,
                        default() {
                            return []
                        }
                    }
                },
                data() {
                    return {
                        disableDownloadPaperBtn: !1,
                        downloadIds: new Set,
                        selectedCourse: null
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "timeDifference"])), Object(w["c"])(["isCug"])),
                methods: {
                    async enterExam(e) {
                        this.logger({
                            page: "离线考试页面",
                            button: "抽取试卷按钮",
                            action: "点击",
                            examStudentId: e.examStudentId
                        }),
                            await this.$http.get("/api/branch_ecs_oe_admin/offlineExam/startOfflineExam", { params: { examStudentId: e.examStudentId } }),
                            this.$emit("reload-list")
                    },
                    previewPaper(e) {
                        window._hmt.push(["_trackEvent", "离线考试页面", "预览"]),
                            this.logger({
                                page: "离线考试页面",
                                button: "查看试卷按钮",
                                action: "点击"
                            });
                        var t = {
                            loginName: e.examStudentId,
                            backUrl: window.document.location.href,
                            isOnlineExam: !0
                        };
                        window.name = JSON.stringify(t),
                            window.location.href = Y["i"] + "/admin/preview_paper/" + e.paperId + "?isback=true"
                    },
                    async downloadOfflineFile(e, t) {
                        function s(e) {
                            return fetch(e).then(e => e.blob()).then(e => URL.createObjectURL(e))
                        }
                        if (window._hmt.push(["_trackEvent", "离线考试页面", "下载作答"]),
                            [".png", ".jpg", ".jpeg"].some(e => t.endsWith(e))) {
                            const i = document.createElement("a");
                            i.href = await s(e),
                                i.download = t,
                                document.body.appendChild(i),
                                i.click(),
                                URL.revokeObjectURL(i.href),
                                document.body.removeChild(i)
                        } else
                            window.location.href = e
                    },
                    async tempDisableBtnAndDownloadPaper(e) {
                        window._hmt.push(["_trackEvent", "离线考试页面", "下载试卷"]),
                            this.downloadIds.add(e.examStudentId),
                            this.downloadIds = new Set(this.downloadIds),
                            setTimeout(() => {
                                this.downloadIds.delete(e.examStudentId),
                                    this.downloadIds = new Set(this.downloadIds)
                            }
                                , 1e4);
                        const t = await this.$http.get("/api/branch_ecs_ques/paper/export/" + e.paperId + "/PAPER/offLine", { responseType: "blob" });
                        console.log("离线考试，下载试卷：名称：", t.headers["content-disposition"]);
                        const s = decodeURI(t.headers["content-disposition"].match(/attachment;filename=(.*)/)[1])
                            , i = URL.createObjectURL(new Blob([t.data]));
                        Object(It["b"])(i, s)
                    },
                    downloadingCourse(e) {
                        return this.downloadIds.has(e.examStudentId)
                    },
                    uploadHandler(e) {
                        this.logger({
                            page: "离线考试页面",
                            button: "上传答案按钮",
                            action: "点击"
                        }),
                            this.selectedCourse = e,
                            this.$nextTick(() => {
                                this.$refs.uploadModal.$refs.uploadModal.visible = !0
                            }
                            )
                    }
                }
            }
            , Fa = $a
            , Ua = (s("74d1"),
                Object(l["a"])(Fa, Oa, Ia, !1, null, "16b6f4a4", null))
            , Qa = Ua.exports
            , Wa = {
                name: "OfflineExamHome",
                components: {
                    "ecs-offline-list": Qa
                },
                data() {
                    return {
                        courses: [],
                        answerCardUrl: null,
                        downloadUrlDisabled: !1
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    }
                }),
                async mounted() {
                    try {
                        window._hmt.push(["_trackEvent", "离线考试页面", "进入列表", ""]),
                            this.logger({
                                page: "离线考试页面",
                                action: "进入页面"
                            }),
                            await this.fetchData()
                    } catch (e) {
                        this.$Message.error({
                            content: "获取离线考试列表失败",
                            duration: 15,
                            closable: !0
                        })
                    }
                },
                methods: {
                    async fetchData() {
                        const e = await this.$http.get("/api/ecs_core/org/getAnswersUrl/" + this.$store.state.user.rootOrgId);
                        this.answerCardUrl = e.data;
                        const t = await this.$http.get("/api/branch_ecs_oe_admin/offlineExam/getOfflineCourse");
                        this.courses = t.data.map(e => ({
                            examId: e.examId,
                            examRecordDataId: e.examRecordDataId,
                            courseName: e.courseName,
                            specialtyName: e.specialtyName,
                            orgName: e.orgName,
                            examStudentId: e.examStudentId,
                            startTime: e.startTime,
                            endTime: e.endTime,
                            offlineFiles: e.offlineFiles,
                            paperId: e.paperId
                        }))
                    },
                    tempDisableBtnAndDownloadPaper() {
                        window._hmt.push(["_trackEvent", "离线考试页面", "下载答题纸"]),
                            this.downloadUrlDisabled = !0,
                            setTimeout(() => {
                                this.downloadUrlDisabled = !1
                            }
                                , 1e4),
                            Object(It["b"])(this.answerCardUrl, "答题纸模板.zip")
                    }
                }
            }
            , Va = Wa
            , Ha = (s("6913"),
                Object(l["a"])(Va, Sa, Ca, !1, null, "9c48e488", null))
            , za = Ha.exports
            , Ka = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 当前所在位置： "), s("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), s("div", {
                    staticClass: "home"
                }, [s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "margin-bottom": "20px"
                    }
                }, [e._v(" 选择考试批次： "), s("Select", {
                    staticStyle: {
                        width: "200px"
                    },
                    attrs: {
                        filterable: ""
                    },
                    on: {
                        "on-change": e.fetchList
                    },
                    model: {
                        value: e.examId,
                        callback: function (t) {
                            e.examId = t
                        },
                        expression: "examId"
                    }
                }, e._l(e.examList, (function (e) {
                    return s("Option", {
                        key: e.id,
                        attrs: {
                            value: e.id,
                            label: e.name
                        }
                    })
                })), 1)], 1), s("OnlinePracticeList", {
                    attrs: {
                        courses: e.courses,
                        "exam-list": e.examList
                    }
                })], 1)], 1)
            }
            , Ga = []
            , Ja = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [e._m(0), e._l(e.courses, (function (t) {
                    return s("tr", {
                        key: t.courseId
                    }, [s("td", [e._v(e._s(t.courseName))]), s("td", [e._v(" " + e._s(t.startTime) + " "), s("br"), e._v(" ~ "), s("br"), e._v(" " + e._s(t.endTime) + " ")]), s("td", [s("span", {
                        domProps: {
                            innerHTML: e._s(e.cycleDesc(t))
                        }
                    })]), s("td", [e._v(e._s(t.practiceCount))]), s("td", [e._v(e._s(t.recentObjectiveAccuracy) + "%")]), s("td", [e._v(e._s(t.aveObjectiveAccuracy) + "%")]), s("td", [e._v(e._s(t.maxObjectiveAccuracy) + "%")]), s("td", {
                        staticStyle: {
                            "min-width": "180px"
                        }
                    }, [s("div", {
                        staticStyle: {
                            display: "grid",
                            "grid-template-columns": "repeat(auto-fit, minmax(100px, 1fr))",
                            "grid-gap": "10px"
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        attrs: {
                            disabled: e.disableTheCourse(t) || e.enterButtonClicked,
                            title: e.disableTheCourse(t) ? e.disableReason(t) : ""
                        },
                        on: {
                            click: function (s) {
                                return e.enterPractice(t)
                            }
                        }
                    }, [e._v(" 进入练习 ")]), s("Button", {
                        staticClass: "qm-primary-button qm-primary-button-padding-fix",
                        on: {
                            click: function (s) {
                                return e.enterPracticeList(t)
                            }
                        }
                    }, [e._v(" 查看详情 ")])], 1)])])
                }))], 2)])])
            }
            , Xa = [function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("课程")]), s("td", [e._v("考试进入时间")]), s("td", [e._v("考试时间周期")]), s("td", [e._v("练习次数")]), s("td", [e._v("最近正确率")]), s("td", [e._v("平均正确率")]), s("td", [e._v("最高正确率")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("操作")])])
            }
            ];
        const { mapMutations: Ya } = Object(w["a"])("examHomeModule");
        var Za = {
            name: "OnlinePracticeList",
            props: {
                courses: {
                    type: Array,
                    default() {
                        return []
                    }
                }
            },
            data() {
                return {
                    now: new Date,
                    selectedCourse: null,
                    enterButtonClicked: !1
                }
            },
            computed: Object(p["a"])({}, Object(w["e"])(["user", "timeDifference"])),
            created() {
                this.getNow(),
                    this.intervalID = setInterval(() => this.getNow(), 1e3)
            },
            beforeDestroy() {
                clearInterval(this.intervalID)
            },
            methods: Object(p["a"])(Object(p["a"])({}, Ya(["toggleFaceCheckModal"])), {}, {
                cycleDesc(e) {
                    if (!e.examCycleEnabled)
                        return "";
                    const t = {
                        1: "一",
                        2: "二",
                        3: "三",
                        4: "四",
                        5: "五",
                        6: "六",
                        7: "日"
                    }
                        , s = e.examCycleWeek.map(e => "周" + t[e])
                        , i = e.examCycleTimeRange.map(e => e.timeRange).map(e => e[0] + "~" + e[1]).join("<br>");
                    return s + "<br>" + i
                },
                getNow() {
                    this.now = Date.now() + this.timeDifference
                },
                courseInBetween(e) {
                    return W()(this.now).isBetween(W()(e.startTime), W()(e.endTime))
                },
                disableReason(e) {
                    return this.courseInBetween(e) ? e.allowExamCount < 1 ? "无剩余练习次数" : this.countdown > 0 ? "请稍后点击" : this.courseInCycle(e) ? "" : "不在练习时间周期内" : "当前时间不在练习开放时间范围"
                },
                courseInCycle(e) {
                    if (!e.examCycleEnabled)
                        return !0;
                    const t = W()(this.now).isoWeekday();
                    if (!e.examCycleWeek.includes(t))
                        return !1;
                    const s = W()(this.now).format("HH:mm")
                        , i = e.examCycleTimeRange.map(e => e.timeRange)
                        , a = i.some(e => s >= e[0] && s <= e[1]);
                    return a
                },
                disableTheCourse(e) {
                    return !this.courseInBetween(e) || e.allowExamCount < 1 || this.countdown > 0 || !this.courseInCycle(e)
                },
                async enterPractice(e) {
                    this.enterButtonClicked = !0;
                    try {
                        this.logger({
                            page: "在线练习页面",
                            button: "进入练习按钮",
                            action: "点击"
                        });
                        const t = await this.checkExamInProgress();
                        if (t)
                            return window._hmt.push(["_trackEvent", "在线练习页面", "断点续考", "进入"]),
                                void this.logger({
                                    action: "断点续考",
                                    detail: "在线练习页面"
                                });
                        window._hmt.push(["_trackEvent", "在线练习页面", "进入练习"]),
                            this.$router.push(`/online-exam/exam/${e.examId}/overview?examStudentId=${e.examStudentId}`)
                    } finally {
                        this.enterButtonClicked = !1
                    }
                },
                async enterPracticeList(e) {
                    this.logger({
                        page: "在线练习页面",
                        button: "查看详情按钮",
                        action: "点击"
                    }),
                        this.$router.push(`/online-practice/exam/${e.examId}/list?examStudentId=${e.examStudentId}&examName=${encodeURIComponent(e.examName)}&courseName=${encodeURIComponent(e.courseName)}`)
                }
            })
        }
            , eo = Za
            , to = (s("1018"),
                s("aec2"),
                Object(l["a"])(eo, Ja, Xa, !1, null, "6e58cd4d", null))
            , so = to.exports
            , io = {
                name: "OnlinePracticeHome",
                components: {
                    OnlinePracticeList: so
                },
                data() {
                    return {
                        examId: null,
                        examList: [],
                        courses: []
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    }
                }),
                async mounted() {
                    if (window._hmt.push(["_trackEvent", "在线练习列表页面", "进入页面"]),
                        this.logger({
                            page: "在线练习列表页面",
                            action: "进入页面"
                        }),
                        this.$route.query.examId) {
                        this.examId = this.$route.query.examId - 0;
                        try {
                            await this.fetchList(this.examId)
                        } catch (e) {
                            return
                        }
                    }
                    try {
                        const t = await this.$http.get("/api/ecs_exam_work/exam/queryByNameLike?name=&examTypes=PRACTICE&studentId=" + this.user.id);
                        if (this.examList = (t.data || []).filter(e => e.enable),
                            void 0 === this.$route.query.examId && this.examList[0]) {
                            const t = this.examList[0].id;
                            this.examId = t;
                            try {
                                await this.fetchList(this.examId)
                            } catch (e) {
                                return
                            }
                        }
                    } catch (e) {
                        this.$Message.error({
                            content: "查询练习列表失败！",
                            duration: 15,
                            closable: !0
                        })
                    }
                },
                methods: {
                    async fetchList(e) {
                        this.$router.replace({
                            query: {
                                examId: e
                            }
                        });
                        try {
                            const t = await this.$http.get("/api/branch_ecs_oe_admin/practice/queryPracticeCourseList?examId=" + e);
                            this.courses = t.data
                        } catch (t) {
                            this.$Message.error({
                                content: "获取课程列表失败",
                                duration: 15,
                                closable: !0
                            })
                        }
                    }
                }
            }
            , ao = io
            , oo = (s("df53"),
                Object(l["a"])(ao, Ka, Ga, !1, null, "4e0a7ba2", null))
            , no = oo.exports
            , ro = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 当前所在位置： "), s("BreadcrumbItem", {
                    attrs: {
                        to: {
                            name: "OnlinePracticeHome"
                        }
                    }
                }, [e._v(" " + e._s(e.locationTitle) + " ")]), s("BreadcrumbItem", [e._v("练习详情")])], 1), s("div", {
                    staticClass: "home"
                }, [s("div", {
                    staticStyle: {
                        display: "grid",
                        "grid-template-columns": "repeat(4, 1fr)",
                        "margin-bottom": "20px",
                        "text-align": "left"
                    }
                }, [s("div", [e._v(" 批次: "), s("span", [e._v(e._s(e.examName))])]), s("div", [e._v(" 科目: "), s("span", [e._v(e._s(e.courseName))])]), s("div", [e._v(" 平均正确率: "), s("span", [e._v(e._s(e.aveAccuracy) + "%")])]), s("div", [e._v(" 最高正确率: "), s("span", [e._v(e._s(e.maxAccuracy) + "%")])])]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("练习编号")]), s("td", [e._v("开始日期")]), s("td", [e._v("结束日期")]), s("td", [e._v("练习时长")]), s("td", [e._v("总题量")]), s("td", [e._v("正确")]), s("td", [e._v("错误")]), s("td", [e._v("未答")]), s("td", [e._v("正确率")]), s("td", {
                    staticStyle: {
                        "max-width": "200px"
                    }
                }, [e._v("操作")])]), e._l(e.recordList, (function (t) {
                    return s("tr", {
                        key: t.examId
                    }, [s("td", [e._v(e._s(t.id))]), s("td", [e._v(e._s(t.startTime))]), s("td", [e._v(e._s(t.endTime))]), s("td", [e._v(e._s(e.formatTime(t.usedExamTime)))]), s("td", [e._v(e._s(t.totalQuestionCount))]), s("td", [e._v(e._s(t.succQuestionNum))]), s("td", [e._v(e._s(t.failQuestionNum))]), s("td", [e._v(e._s(t.notAnsweredCount))]), s("td", [e._v(e._s(t.objectiveAccuracy) + "%")]), s("td", {
                        staticStyle: {
                            "min-width": "120px"
                        }
                    }, [s("Button", {
                        staticClass: "qm-primary-button",
                        on: {
                            click: function () {
                                return e.enterPracticeRecordDetail(t)
                            }
                        }
                    }, [e._v(" 查看成绩报告 ")])], 1)])
                }))], 2)])])])], 1)
            }
            , co = []
            , lo = {
                name: "OnlinePracticeRecordList",
                data() {
                    return {
                        recordList: []
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.match(/\/[^/]*/)[0].toUpperCase()) || {}).name
                    },
                    examName() {
                        return this.$route.query.examName
                    },
                    courseName() {
                        return this.$route.query.courseName
                    },
                    maxAccuracy() {
                        return 0 === this.recordList.length ? 0 : Math.max(...this.recordList.map(e => e.objectiveAccuracy)).toFixed(2)
                    },
                    aveAccuracy() {
                        return 0 === this.recordList.length ? 0 : (this.recordList.map(e => e.objectiveAccuracy).reduce((e, t) => e + t) / this.recordList.length).toFixed(2)
                    }
                }),
                async created() {
                    try {
                        const e = await this.$http.get("/api/branch_ecs_oe_admin/practice/queryPracticeRecordList?examStudentId=" + this.$route.query.examStudentId);
                        this.recordList = (e.data || []).reverse()
                    } catch (e) {
                        this.$Message.error({
                            content: "查询练习记录列表出错！",
                            duration: 15,
                            closable: !0
                        })
                    }
                },
                methods: {
                    async enterPracticeRecordDetail(e) {
                        this.$router.push(`/online-practice/exam/${this.$route.params.examId}/detail?examRecordDataId=${e.id}`)
                    },
                    formatTime(e) {
                        return e && W.a.utc(e).format("HH:mm:ss") || ""
                    }
                }
            }
            , uo = lo
            , ho = (s("ec02"),
                Object(l["a"])(uo, ro, co, !1, null, "56b66085", null))
            , mo = ho.exports
            , po = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 当前所在位置： "), s("BreadcrumbItem", {
                    attrs: {
                        to: {
                            name: "OnlinePracticeHome"
                        }
                    }
                }, [e._v(" " + e._s(e.locationTitle) + " ")]), s("BreadcrumbItem", [e._v("练习详情")]), s("BreadcrumbItem", [e._v("成绩报告")])], 1), s("div", {
                    staticClass: "home"
                }, [s("div", {
                    staticClass: "qm-title-text"
                }, [e._v(" 练习情况概率(科目：" + e._s(e.examRecordResult.courseName) + ") ")]), s("div", {
                    staticStyle: {
                        display: "grid",
                        "grid-template-columns": "repeat(4, 1fr)",
                        "margin-bottom": "20px",
                        "text-align": "left"
                    }
                }, [s("div", [e._v(" 答题正确率: "), s("span", [e._v(e._s(e.examRecordResult.objectiveAccuracy) + "%")])])]), s("div", {
                    staticClass: "list"
                }, [s("table", [s("tbody", {
                    staticClass: "list-row"
                }, [s("tr", {
                    staticClass: "list-header qm-primary-strong-text"
                }, [s("td", [e._v("题目分类")]), s("td", [e._v("题量")]), s("td", [e._v("正确")]), s("td", [e._v("错误")]), s("td", [e._v("未答")])]), e._l(e.examRecordResult.paperStructInfos, (function (t) {
                    return s("tr", {
                        key: t.index
                    }, [s("td", [e._v(e._s(t.title))]), s("td", [e._v(e._s(t.questionCount))]), s("td", [e._v(e._s(t.succQuestionNum))]), s("td", [e._v(e._s(t.failQuestionNum))]), s("td", [e._v(e._s(t.notAnsweredCount))])])
                }))], 2)]), s("div", {
                    staticClass: "info-text"
                }, [s("h4", {
                    staticClass: "font-thin text-primary-lt m-t"
                }, [e._v("报告提示:")]), s("div", {
                    staticClass: "scroll-y wrapper-sm",
                    staticStyle: {
                        "min-height": "80px"
                    }
                }, [s("p", {
                    staticClass: "m-b-sm"
                }, [e._v(" 1、若本练习卷中包含部分主观题型，则报告统计数据仅供参考，因为部分题型需考生根据参考答案判断正确和错误，报告仅对可统计的题型进行统计。 ")]), s("p", {
                    staticClass: "m-b-sm"
                }, [e._v(" 2、若单题存在多处作答，只要有一处出错，该题就判为错题。 ")])])])])]), s("div", {
                    staticStyle: {
                        margin: "20px",
                        display: "grid",
                        "grid-template-columns": "repeat(auto-fit, minmax(100px, 1fr))",
                        "grid-gap": "20px"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    on: {
                        click: function (t) {
                            e.shouldShowPaper = !e.shouldShowPaper
                        }
                    }
                }, [e._v(" 展开试卷 ")]), e.disableGoBack ? e._e() : s("Button", {
                    staticClass: "qm-primary-button",
                    on: {
                        click: e.goBack
                    }
                }, [e._v(" 返回 ")])], 1), e.shouldShowPaper ? s("ExamPaper", {
                    attrs: {
                        "exam-id": e.examId,
                        "exam-record-data-id": e.examRecordDataId,
                        "from-cache": e.disableGoBack
                    }
                }) : e._e()], 1)
            }
            , _o = []
            , go = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return e.exam ? s("div", {
                    key: e.exam.id,
                    staticClass: "container"
                }, [s("div", {
                    staticClass: "main"
                }, e._l(e.questionGroupList, (function (t, i) {
                    return s("div", {
                        key: i
                    }, [s("div", [e._v(" " + e._s(e.toChineseNumber(i + 1)) + "、" + e._s(t.groupName) + " (" + e._s(t.groupScore) + "分) ")]), e._l(t.questionWrapperList, (function (t) {
                        return s("div", {
                            key: t.questionId,
                            staticClass: "question-wrapper"
                        }, [s("div", {
                            domProps: {
                                innerHTML: e._s(e.restoreAudio(t.body))
                            }
                        }), e._l(t.questionUnitList, (function (i, a) {
                            return s("div", {
                                key: a
                            }, [s("div", {
                                staticClass: "flex"
                            }, [s("div", [e._v(e._s(t.eqs[a].order) + "、")]), s("div", {
                                domProps: {
                                    innerHTML: e._s(e.restoreAudio(i.body))
                                }
                            })]), e._l(t.eqs[a].optionPermutation, (function (t, a) {
                                return s("div", {
                                    key: a
                                }, [s("div", {
                                    staticClass: "flex"
                                }, [s("div", [e._v(e._s(e.indexToABCD(a)) + "、")]), s("div", {
                                    domProps: {
                                        innerHTML: e._s(e.restoreAudio(i.questionOptionList[t - 0].body))
                                    }
                                })])])
                            })), "NO_ANSWER" !== e.practiceType ? s("div", {
                                staticClass: "flex"
                            }, [e._v(" 正确答案： "), s("div", {
                                domProps: {
                                    innerHTML: e._s(e.rightAnswerToABCD(i.questionType, i.rightAnswer, t.eqs[a].optionPermutation))
                                }
                            })]) : e._e(), s("div", {
                                staticClass: "flex"
                            }, [e._v(" 学生答案： "), s("div", {
                                domProps: {
                                    innerHTML: e._s(e.rightAnswerToABCD(i.questionType, t.eqs[a].studentAnswer, t.eqs[a].optionPermutation, i.rightAnswer))
                                }
                            })])], 2)
                        }))], 2)
                    }))], 2)
                })), 0)]) : s("div", [e._v("正在等待数据返回...")])
            }
            , wo = [];
        const fo = "ABCDEFGHIJ".split("");
        var vo = {
            name: "ExamPaper",
            props: {
                examId: {
                    type: Number,
                    default: 0
                },
                examRecordDataId: {
                    type: Number,
                    default: 0
                },
                fromCache: {
                    type: Boolean,
                    default: !1
                }
            },
            data() {
                return {
                    exam: null,
                    questionGroupList: null,
                    examQuestionList: null,
                    practiceType: null
                }
            },
            async created() {
                await this.initData()
            },
            methods: {
                async initData() {
                    const e = (await this.$http.get("/api/ecs_exam_work/exam/getExamPropertyFromCacheByStudentSession/" + this.examId + "/PRACTICE_TYPE")).data;
                    this.practiceType = e.PRACTICE_TYPE;
                    const [t, s, i, a, o] = await Promise.all([this.$http.get("/api/ecs_exam_work/exam/" + this.examId), this.$http.get("/api/branch_ecs_oe_admin/examRecordPaperStruct/getExamRecordPaperStruct?examRecordDataId=" + this.examRecordDataId + (this.fromCache ? "&fromCache=1" : "")), this.$http.get("/api/branch_ecs_oe_admin/examRecordQuestions/getExamRecordQuestions?examRecordDataId=" + this.examRecordDataId + (this.fromCache ? "&fromCache=1" : "")), this.$http.get("/api/branch_ecs_oe_admin/exam/record/data/findExamRecordDataEntity?examRecordDataId=" + this.examRecordDataId + (this.fromCache ? "&fromCache=1" : "")), this.$http.get("/api/branch_ecs_oe_admin/practice/getPracticeDetailInfo?examRecordDataId=" + this.examRecordDataId + (this.fromCache ? "&fromCache=1" : ""))])
                        , [n, r, c, l] = [t.data, s.data, a.data, o.data];
                    let d = i.data.examQuestionEntities;
                    if (void 0 === n || void 0 === r || void 0 === i)
                        return void this.$Message.error({
                            content: "获取试卷信息失败",
                            duration: 15,
                            closable: !0
                        });
                    let u = null
                        , h = 1;
                    d = d.map(e => (u == e.questionId || (h = 1,
                        u = e.questionId),
                        e.subNumber = h++,
                        e));
                    let m = 1
                        , p = 0;
                    d = d.map(e => {
                        p == e.mainNumber || (p = e.mainNumber,
                            m = 1),
                            e.groupOrder = m++;
                        const t = r.defaultPaper.questionGroupList[e.mainNumber - 1].questionWrapperList
                            , s = r.defaultPaper.questionGroupList[e.mainNumber - 1].groupName
                            , i = t.reduce((e, t) => e + t.questionUnitWrapperList.length, 0);
                        return e.groupName = s,
                            e.groupTotal = i,
                            e
                    }
                    ),
                        d = d.map(e => {
                            const t = r.defaultPaper.questionGroupList[e.mainNumber - 1].questionWrapperList.find(t => t.questionId === e.questionId);
                            return Object.assign(e, {
                                limitedPlayTimes: t.limitedPlayTimes
                            })
                        }
                        ),
                        this.exam = t.data,
                        this.examQuestionList = d;
                    const _ = s.data.defaultPaper.questionGroupList;
                    for (const g of _)
                        for (const e of g.questionWrapperList) {
                            const t = this.examQuestionList.filter(t => t.questionId === e.questionId);
                            Object.assign(e, {
                                eqs: t
                            })
                        }
                    for (const g of _)
                        for (const e of g.questionWrapperList) {
                            const t = await this.getQuestionContent(e.questionId, this.exam, l, c);
                            e.body = t.body,
                                e.hasAudios = t.hasAudios,
                                e.questionUnitList = t.questionUnitList
                        }
                    this.questionGroupList = _
                },
                async getQuestionContent(e, t, s, i) {
                    const a = await this.$http.post("/api/branch_ecs_ques/default_question/question", { questionId: e, examId: this.exam.id, courseCode: s.courseCode, groupCode: i.examRecord.paperType });
                    return a.data.masterVersion
                },
                restoreAudio(e) {
                    return (e || "").replace(/<a/g, "<audio controls ").replace(/url=/g, "src=").replace(/a>/g, "audio>")
                },
                toChineseNumber(e) {
                    return Object(It["i"])(e)
                },
                indexToABCD(e) {
                    return fo[e]
                },
                rightAnswerToABCD(e, t, s, i) {
                    if (null === t && (t = []),
                        ["SINGLE_CHOICE", "MULTIPLE_CHOICE"].includes(e)) {
                        "string" === typeof t && (t = t.split(""));
                        const e = t.map(e => s.indexOf(e - 0)).sort();
                        let a = e.map(e => this.indexToABCD(e + "")).join("");
                        return i && i.join("") == t.join("") ? a += '<i class="ivu-icon ivu-icon-md-checkmark" style="color: red"></i>' : i && i.join("") != t.join("") && (a += '<i class="ivu-icon ivu-icon-md-close" style="color: red"></i>'),
                            a
                    }
                    if (["TRUE_OR_FALSE"].includes(e)) {
                        "string" === typeof t && (t = [t]);
                        let e = {
                            true: "正确",
                            false: "错误"
                        }[t.join("")];
                        return e = e || "",
                            i && i.join("") == t.join("") ? e += '<i class="ivu-icon ivu-icon-md-checkmark" style="color: red"></i>' : i && i.join("") != t.join("") && (e += '<i class="ivu-icon ivu-icon-md-close" style="color: red"></i>'),
                            e
                    }
                    let a = "string" === typeof t ? t : t.join("");
                    return a
                }
            }
        }
            , yo = vo
            , bo = (s("97dc"),
                Object(l["a"])(yo, go, wo, !1, null, "59a971f0", null))
            , xo = bo.exports
            , Eo = {
                name: "OnlinePracticeRecordDetail",
                components: {
                    ExamPaper: xo
                },
                data() {
                    return {
                        examRecordResult: [],
                        shouldShowPaper: !1,
                        disableGoBack: !!this.$route.query.disableGoBack
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.match(/\/[^/]*/)[0].toUpperCase()) || {}).name
                    },
                    examRecordDataId() {
                        return this.$route.query.examRecordDataId - 0
                    },
                    examId() {
                        return this.$route.params.examId - 0
                    }
                }),
                async created() {
                    try {
                        const e = await this.$http.get("/api/branch_ecs_oe_admin/practice/getPracticeDetailInfo?examRecordDataId=" + this.$route.query.examRecordDataId + (this.disableGoBack ? "&fromCache=1" : ""));
                        this.examRecordResult = e.data || []
                    } catch (e) {
                        this.$Message.error({
                            content: "查询练习试卷详情出错！",
                            duration: 15,
                            closable: !0
                        })
                    }
                },
                methods: {
                    async enterPracticeRecord(e) {
                        this.$router.push(`/online-practice/exam/${e.examId}/detail?examStudentId=${e.examStudentId}`)
                    },
                    formatTime(e) {
                        return W.a.utc(e).format("HH:mm:ss") || ""
                    },
                    goBack() {
                        this.$router.back()
                    }
                }
            }
            , So = Eo
            , Co = (s("2e2a"),
                Object(l["a"])(So, po, _o, !1, null, "33551cca", null))
            , Oo = Co.exports
            , Io = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    staticClass: "home"
                }, [s("header", {
                    staticClass: "header"
                }, [s("div", {
                    staticClass: "school-logo-container"
                }, [s("img", {
                    directives: [{
                        name: "show",
                        rawName: "v-show",
                        value: e.logoPath,
                        expression: "logoPath"
                    }],
                    staticClass: "school-logo",
                    staticStyle: {
                        background: "linear-gradient(to bottom, #38f6f5 0%, #8efdf4 100%)"
                    },
                    attrs: {
                        src: e.logoPath,
                        alt: "school logo"
                    },
                    on: {
                        load: function (e) {
                            return e.target.style = ""
                        }
                    }
                })]), s("a", {
                    staticClass: "close",
                    on: {
                        click: e.closeApp
                    }
                }, [e._v(" 关闭 ")])]), s("div", {
                    staticClass: "center",
                    style: {
                        backgroundImage: e.backgroundUrl
                    }
                }, [s("div", {
                    staticClass: "content"
                }, [s("div", {
                    staticStyle: {
                        display: "flex"
                    }
                }, [e.allowLoginType.includes("STUDENT_CODE") ? s("a", {
                    key: "STUDENT_CODE",
                    class: ["qm-big-text", "login-type", "STUDENT_CODE" === e.loginType && "active-type", 1 === e.allowLoginType.length && "single-login-type"],
                    staticStyle: {
                        "border-top-left-radius": "6px"
                    },
                    on: {
                        click: function (t) {
                            e.loginType = "STUDENT_CODE"
                        }
                    }
                }, [e._v(" " + e._s(e.QECSConfig.STUDENT_CODE_LOGIN_ALIAS) + " ")]) : e._e(), e.allowLoginType.includes("IDENTITY_NUMBER") ? s("a", {
                    key: "IDENTITY_NUMBER",
                    class: ["qm-big-text", "login-type", "STUDENT_CODE" !== e.loginType && "active-type", 1 === e.allowLoginType.length && "single-login-type"],
                    staticStyle: {
                        "border-top-right-radius": "6px"
                    },
                    on: {
                        click: function (t) {
                            e.loginType = "STUDENT_IDENTITY_NUMBER"
                        }
                    }
                }, [e._v(" " + e._s(e.QECSConfig.IDENTITY_NUMBER_LOGIN_ALIAS) + " ")]) : e._e(), 0 === e.allowLoginType.length ? s("a", {
                    key: "loading",
                    class: ["qm-big-text", "login-type"]
                }, [e._v(" loading... ")]) : e._e()]), s("div", {
                    staticClass: "qm-title-text",
                    staticStyle: {
                        margin: "40px 0 20px 0"
                    }
                }, [e._v(" " + e._s(e.productName) + " ")]), s("div", {
                    staticStyle: {
                        margin: "0 40px 40px 40px"
                    }
                }, [s("Form", {
                    ref: "loginForm",
                    attrs: {
                        model: e.loginForm,
                        rules: e.loginFormRule
                    }
                }, [s("FormItem", {
                    staticClass: "form-item-style",
                    attrs: {
                        prop: "accountValue"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "text",
                        size: "large"
                    },
                    model: {
                        value: e.loginForm.accountValue,
                        callback: function (t) {
                            e.$set(e.loginForm, "accountValue", t)
                        },
                        expression: "loginForm.accountValue"
                    }
                }, [s("Icon", {
                    attrs: {
                        slot: "prepend",
                        type: "ios-person"
                    },
                    slot: "prepend"
                })], 1)], 1), s("FormItem", {
                    staticClass: "form-item-style",
                    attrs: {
                        prop: "password"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "password",
                        size: "large"
                    },
                    on: {
                        "on-enter": e.loginForuser
                    },
                    model: {
                        value: e.loginForm.password,
                        callback: function (t) {
                            e.$set(e.loginForm, "password", t)
                        },
                        expression: "loginForm.password"
                    }
                }, [s("Icon", {
                    attrs: {
                        slot: "prepend",
                        type: "ios-lock"
                    },
                    slot: "prepend"
                })], 1)], 1), e.isGeeTestEnabled ? s("FormItem", {
                    staticClass: "form-item-style",
                    staticStyle: {
                        height: "40px",
                        "margin-top": "0px"
                    }
                }, [s("GeeTest", {
                    attrs: {
                        reset: e.resetGeeTime
                    },
                    on: {
                        "on-load": e.handleGtResult
                    }
                })], 1) : e._e(), s("FormItem", {
                    staticStyle: {
                        position: "relative"
                    }
                }, ["" !== e.errorInfo ? s("div", {
                    staticStyle: {
                        position: "absolute",
                        top: "-25px",
                        width: "100%"
                    }
                }, [s("Alert", {
                    attrs: {
                        type: "error",
                        "show-icon": ""
                    }
                }, [e._v(e._s(e.errorInfo))])], 1) : e._e(), s("Button", {
                    staticClass: "qm-primary-button",
                    staticStyle: {
                        "margin-top": "10px"
                    },
                    attrs: {
                        size: "large",
                        long: "",
                        disabled: e.disableLoginBtn,
                        loading: e.loginBtnLoading
                    },
                    on: {
                        click: e.loginForuser
                    }
                }, [e._v(" " + e._s(e.newVersionAvailable ? "点击更新版本" : "登录") + " ")])], 1)], 1)], 1)])]), s("footer", {
                    staticClass: "footer"
                }, [s("div", {
                    staticStyle: {
                        position: "absolute",
                        right: "20px",
                        bottom: "20px"
                    }
                }, [e._v(" 版本: " + e._s(e.VUE_APP_GIT_REPO_VERSION) + " ")]), s("DevTools")], 1), s("GlobalNotice")], 1)
            }
            , ko = []
            , To = s("d0392")
            , Ao = To["a"]
            , Po = (s("e3fa"),
                s("9294"),
                Object(l["a"])(Ao, Io, ko, !1, null, "0b20592e", null))
            , Mo = Po.exports
            , Do = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", [e._v("第三方登录...")])
            }
            , Ro = []
            , Lo = {
                name: "StudentAccess",
                async mounted() {
                    const e = location.search;
                    let t = {};
                    for (const [d, u] of new URLSearchParams(location.search).entries())
                        t[d] = u;
                    const { accountType: s, accountValue: i, rootOrgId: a, appId: o, timestamp: n, token: r, redirectUrl: c } = t;
                    if (s && i && a && o && n && r && c)
                        try {
                            const t = await this.$http.post("/api/ecs_core/auth/thirdPartyStudentAccess" + e)
                                , s = t.data.rootOrgDomain;
                            this.$router.push("/login/" + s + e)
                        } catch (l) {
                            window._hmt.push(["_trackEvent", "第三方登录页面", "接口出错", ""]),
                                this.$Modal.error({
                                    title: "返回",
                                    content: "第三方登录访问错误",
                                    onOk: () => {
                                        history.back()
                                    }
                                })
                        }
                    else
                        this.$Modal.error({
                            title: "返回",
                            content: "第三方登录参数错误",
                            onOk: () => {
                                history.back()
                            }
                        })
                },
                methods: {
                    goBack() {
                        history.back()
                    }
                }
            }
            , qo = Lo
            , jo = Object(l["a"])(qo, Do, Ro, !1, null, null, null)
            , No = jo.exports
            , Bo = function () {
                var e = this
                    , t = e.$createElement
                    , i = e._self._c || t;
                return i("main-layout", [i("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 当前所在位置： "), i("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), i("div", {
                    staticClass: "home"
                }, [i("div", {
                    staticStyle: {
                        "font-size": "18px",
                        "font-weight": "500",
                        color: "#222c32"
                    }
                }, [e._v(" 公告通知 ")]), i("Button", [i("div", {
                    staticClass: "mark-read-block",
                    on: {
                        click: e.markRead
                    }
                }, [i("img", {
                    attrs: {
                        src: s("82c3")
                    }
                }), e._v(" 标记为已读 ")])])], 1), i("div", {
                    staticClass: "site-message-container"
                }, [i("div", {
                    staticStyle: {
                        "text-align": "left",
                        color: "#999",
                        "margin-bottom": "5px"
                    }
                }, [e._v(" *仅保留近1年的公告通知。 ")]), i("Table", {
                    ref: "selection",
                    attrs: {
                        border: "",
                        columns: e.columns,
                        data: e.siteMessagesComputed
                    }
                }), i("Page", {
                    staticStyle: {
                        "text-align": "right",
                        "margin-top": "10px"
                    },
                    attrs: {
                        total: e.siteMessages.length,
                        "page-size": e.pageSize,
                        current: e.page
                    },
                    on: {
                        "update:current": function (t) {
                            e.page = t
                        }
                    }
                })], 1)], 1)
            }
            , $o = []
            , Fo = {
                name: "SiteMessageHome",
                data() {
                    this.$createElement;
                    return {
                        columns: [{
                            type: "selection",
                            width: 60,
                            align: "center"
                        }, {
                            title: "标题",
                            key: "title",
                            render: (e, t) => e("router-link", {
                                attrs: {
                                    to: "/site-message/" + t.row.id + "?fromPage=" + this.page
                                },
                                style: "display: flex",
                                on: {
                                    dragstart: "return false;"
                                }
                            }, [e("img", {
                                class: t.row.hasRead ? "mhome-message-read" : "mhome-message-unread"
                            }), e("span", {
                                class: "mhome-message-title"
                            }, [t.row.title])])
                        }, {
                            title: "发送时间",
                            key: "publishTime",
                            width: "150"
                        }],
                        page: 1,
                        pageSize: 10
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "siteMessages", "siteMessagesTimeStamp", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    },
                    siteMessagesComputed() {
                        return this.siteMessages.slice((this.page - 1) * this.pageSize, this.page * this.pageSize)
                    }
                }),
                async mounted() {
                    window._hmt.push(["_trackEvent", "站内消息列表页面", "进入页面"]),
                        this.logger({
                            page: "站内消息列表页面",
                            action: "进入页面"
                        }),
                        await this.getList(),
                        this.$route.query.fromPage && (this.page = +this.$route.query.fromPage)
                },
                methods: Object(p["a"])(Object(p["a"])({}, Object(w["d"])(["updateSiteMessages", "updateSiteMessagesTimeStamp"])), {}, {
                    async getList() {
                        try {
                            const e = (await this.$http.get("/api/ecs_exam_work/notice/getUserNoticeList?" + this.user.id + this.siteMessagesTimeStamp)).data;
                            this.updateSiteMessages(e)
                        } catch (e) {
                            console.log(e),
                                this.$Message.error({
                                    content: "获取公告通知异常",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    },
                    async markRead() {
                        this.logger({
                            page: "在线练习页面",
                            button: "标记为已读按钮",
                            action: "点击"
                        });
                        const e = this.$refs.selection.getSelection().map(e => e.id);
                        0 !== e.length ? (await this.$http.post("/api/ecs_exam_work/notice/updateNoticeReadStatus?noticeId=" + e.join(",")),
                            window._hmt.push(["_trackEvent", "站内消息详情页面", "发送已读成功"]),
                            this.updateSiteMessagesTimeStamp(Date.now()),
                            await this.getList()) : this.$Message.warning({
                                content: "请先选择消息",
                                duration: 10,
                                closable: !0
                            })
                    }
                })
            }
            , Uo = Fo
            , Qo = (s("885d"),
                s("7ad4"),
                Object(l["a"])(Uo, Bo, $o, !1, null, "012937ca", null))
            , Wo = Qo.exports
            , Vo = function () {
                var e = this
                    , t = e.$createElement
                    , i = e._self._c || t;
                return i("main-layout", [i("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 当前所在位置： "), i("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), i("div", {
                    staticStyle: {
                        display: "flex",
                        "flex-direction": "row-reverse"
                    }
                }, [i("div", {
                    staticStyle: {
                        "margin-top": "20px",
                        "margin-right": "20px"
                    }
                }, [i("Button", [i("div", {
                    staticClass: "back-block",
                    on: {
                        click: e.goBack
                    }
                }, [i("img", {
                    attrs: {
                        src: s("0f11")
                    }
                }), e._v(" 返回列表 ")])])], 1)]), e.message ? i("div", {
                    staticClass: "site-message-container"
                }, [i("h3", {
                    staticStyle: {
                        "font-size": "24px",
                        "font-weight": "500",
                        color: "rgba(34, 34, 34, 1)",
                        "line-height": "33px"
                    }
                }, [e._v(" " + e._s(e.message.title) + " ")]), i("h5", {
                    staticStyle: {
                        "font-size": "13px",
                        "font-weight": "400",
                        color: "rgba(153, 153, 153, 1)",
                        "line-height": "18px",
                        "margin-top": "16px",
                        "margin-bottom": "40px"
                    }
                }, [e._v(" 发布时间: " + e._s(e.message.publishTime) + " ")]), i("div", {
                    staticClass: "site-message-content",
                    domProps: {
                        innerHTML: e._s(e.message.content)
                    }
                })]) : i("div", [e._v("加载中")])], 1)
            }
            , Ho = []
            , zo = {
                name: "SiteMessageDetail",
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["user", "siteMessages", "siteMessagesTimeStamp", "menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.match(/\/[^/]*/)[0].toUpperCase()) || {}).name
                    },
                    message() {
                        return this.siteMessages ? this.siteMessages.find(e => e.id === +this.$route.params.id) : null
                    }
                }),
                async mounted() {
                    await this.getList(),
                        await this.prepareData()
                },
                async beforeUpdate() {
                    await this.prepareData()
                },
                methods: Object(p["a"])(Object(p["a"])({}, Object(w["d"])(["updateSiteMessages", "updateSiteMessagesTimeStamp"])), {}, {
                    async getList() {
                        try {
                            const e = (await this.$http.get("/api/ecs_exam_work/notice/getUserNoticeList?" + this.user.id + this.siteMessagesTimeStamp)).data;
                            this.updateSiteMessages(e)
                        } catch (e) {
                            console.log(e),
                                this.$Message.error({
                                    content: "获取公告通知异常",
                                    duration: 15,
                                    closable: !0
                                })
                        }
                    },
                    async prepareData() {
                        this.message.hasRead || (await this.$http.post("/api/ecs_exam_work/notice/updateNoticeReadStatus?noticeId=" + this.message.id),
                            window._hmt.push(["_trackEvent", "站内消息详情页面", "发送已读成功"]),
                            this.updateSiteMessagesTimeStamp(Date.now()),
                            await this.getList())
                    },
                    goBack() {
                        this.logger({
                            page: "站内消息详情页面",
                            button: "返回按钮",
                            action: "点击"
                        }),
                            this.$router.push("/site-message" + location.search)
                    }
                })
            }
            , Ko = zo
            , Go = (s("84e7"),
                Object(l["a"])(Ko, Vo, Ho, !1, null, "0845bbe4", null))
            , Jo = Go.exports
            , Xo = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("main-layout", [s("Breadcrumb", {
                    staticStyle: {
                        "text-align": "left",
                        "padding-left": "20px",
                        height: "40px",
                        "line-height": "40px",
                        "background-color": "#fafafa"
                    }
                }, [e._v(" 当前所在位置： "), s("BreadcrumbItem", [e._v(e._s(e.locationTitle))])], 1), s("div", {
                    staticClass: "password-container"
                }, [s("Form", {
                    ref: "form",
                    staticStyle: {
                        width: "320px"
                    },
                    attrs: {
                        model: e.form,
                        rules: e.rules
                    }
                }, [s("FormItem", {
                    attrs: {
                        label: "",
                        prop: "oldPassword"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "password",
                        placeholder: "请输入旧密码"
                    },
                    model: {
                        value: e.form.oldPassword,
                        callback: function (t) {
                            e.$set(e.form, "oldPassword", t)
                        },
                        expression: "form.oldPassword"
                    }
                })], 1), s("FormItem", {
                    attrs: {
                        label: "",
                        prop: "newPassword"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "password",
                        placeholder: "请输入新密码(6到18位的数字或字母)"
                    },
                    model: {
                        value: e.form.newPassword,
                        callback: function (t) {
                            e.$set(e.form, "newPassword", t)
                        },
                        expression: "form.newPassword"
                    }
                })], 1), s("FormItem", {
                    attrs: {
                        label: "",
                        prop: "newPasswordAgain"
                    }
                }, [s("Input", {
                    attrs: {
                        type: "password",
                        placeholder: "请再次输入新密码"
                    },
                    model: {
                        value: e.form.newPasswordAgain,
                        callback: function (t) {
                            e.$set(e.form, "newPasswordAgain", t)
                        },
                        expression: "form.newPasswordAgain"
                    }
                })], 1), s("FormItem", {
                    staticStyle: {
                        "text-align": "left"
                    }
                }, [s("Button", {
                    staticClass: "qm-primary-button",
                    attrs: {
                        size: "large"
                    },
                    on: {
                        click: e.changePwd
                    }
                }, [e._v(" 保存 ")])], 1)], 1)], 1)], 1)
            }
            , Yo = []
            , Zo = {
                name: "Password",
                data() {
                    const e = (e, t, s) => {
                        "" === t ? s(new Error("请输入密码")) : t.match(/^([a-zA-Z]|[0-9]){6,18}$/) ? ("" !== this.form.newPasswordAgain && this.$refs.form.validateField("newPasswordAgain"),
                            s()) : s(new Error("请在输入法的英文输入状态下输入数字或大小写的英文字母."))
                    }
                        , t = (e, t, s) => {
                            "" === t ? s(new Error("请再次输入新密码")) : t !== this.form.newPassword ? s(new Error("两次输入的新密码不一致!")) : s()
                        }
                        ;
                    return {
                        form: {
                            oldPassword: "",
                            newPassword: "",
                            newPasswordAgain: ""
                        },
                        rules: {
                            oldPassword: [{
                                required: !0,
                                message: "请输入旧密码",
                                trigger: "blur"
                            }],
                            newPassword: [{
                                required: !0,
                                message: "请输入新密码",
                                trigger: "blur"
                            }, {
                                type: "string",
                                min: 6,
                                message: "密码不能少于6位",
                                trigger: "blur"
                            }, {
                                type: "string",
                                max: 18,
                                message: "密码不能多于18位",
                                trigger: "blur"
                            }, {
                                validator: e,
                                trigger: "blur"
                            }],
                            newPasswordAgain: [{
                                required: !0,
                                message: "请输入新密码",
                                trigger: "blur"
                            }, {
                                type: "string",
                                min: 6,
                                message: "密码不能少于6位",
                                trigger: "blur"
                            }, {
                                type: "string",
                                max: 18,
                                message: "密码不能多于18位",
                                trigger: "blur"
                            }, {
                                validator: t,
                                trigger: "blur"
                            }]
                        }
                    }
                },
                computed: Object(p["a"])(Object(p["a"])({}, Object(w["e"])(["menus"])), {}, {
                    locationTitle() {
                        return (this.menus.find(e => e.link.toUpperCase() === this.$route.path.toUpperCase()) || {}).name
                    }
                }),
                methods: {
                    async changePwd() {
                        this.logger({
                            page: "修改密码页面",
                            button: "保存按钮",
                            action: "点击"
                        });
                        const e = await this.$refs["form"].validate();
                        if (e)
                            try {
                                const e = await this.$http.put(`/api/ecs_core/student/password?newPassword=${this.form.newPassword}&password=${this.form.oldPassword}`);
                                200 == e.status && (this.$Message.success({
                                    content: "保存成功",
                                    duration: 5,
                                    closable: !0
                                }),
                                    window._hmt.push(["_trackEvent", "修改密码页面", "修改成功"]))
                            } catch (t) {
                                this.$Message.error({
                                    content: "保存失败",
                                    duration: 15,
                                    closable: !0
                                })
                            }
                    }
                }
            }
            , en = Zo
            , tn = (s("7938"),
                Object(l["a"])(en, Xo, Yo, !1, null, "63717e18", null))
            , sn = tn.exports;
        const an = a["a"].prototype.push;
        a["a"].prototype.push = function (e, t, s) {
            if (t || s)
                return an.call(this, e, t, s);
            try {
                return an.call(this, e).catch(e => e)
            } catch (i) {
                console.log(i)
            }
        }
            ,
            i["a"].use(a["a"]);
        let on = new a["a"]({
            mode: "history",
            base: "/oe-web/",
            routes: [{
                path: "/",
                name: "Home",
                redirect: "/login"
            }, {
                path: "/login/:domain?",
                name: "Login",
                component: Mo
            }, {
                path: "/StudentAccess",
                name: "StudentAccess",
                component: No
            }, {
                path: "/online-exam",
                name: "OnlineExamHome",
                component: Ve,
                props: {
                    examType: "ONLINE"
                }
            }, {
                path: "/online-homework",
                name: "OnlineHomeworkHome",
                component: Ve,
                props: {
                    examType: "ONLINE_HOMEWORK"
                }
            }, {
                path: "/online-exam/exam/:examId/overview",
                name: "OnlineExamOverview",
                component: Ze
            }, {
                path: "/online-exam/exam/:examId/examRecordData/:examRecordDataId/order/:order",
                name: "OnlineExamingHome",
                component: ga
            }, {
                path: "/online-exam/exam/:examId/examRecordData/:examRecordDataId/end",
                name: "ExamingEnd",
                component: Ea
            }, {
                path: "/online-practice",
                name: "OnlinePracticeHome",
                component: no
            }, {
                path: "/online-practice/exam/:examId/list",
                name: "OnlinePracticeRecordList",
                component: mo
            }, {
                path: "/online-practice/exam/:examId/detail",
                name: "OnlinePracticeRecordDetail",
                component: Oo
            }, {
                path: "/offline-exam",
                name: "OfflineExamHome",
                component: za
            }, {
                path: "/site-message",
                name: "SiteMessageHome",
                component: Wo
            }, {
                path: "/site-message/:id",
                name: "SiteMessageDetail",
                component: Jo
            }, {
                path: "/password",
                name: "Password",
                component: sn
            }, {
                path: "/check-computer",
                name: "CheckComputer",
                component: ge
            }, {
                path: "*",
                component: u
            }]
        });
        on.beforeEach((e, t, s) => {
            const i = "/login/" + localStorage.getItem("domain");
            e.path && window._hmt.push(["_trackPageview", "/oe-web" + e.fullPath]),
                e.path.match(/^\/?/) || e.path.match(/^\/login\/.?$/) || e.path.match(/^\/StudentAccess$/) ? s() : (localStorage.getItem("domain") || alert("地址出错，找不到机构！请关闭应用后重试！"),
                    window.sessionStorage.getItem("token") ? s() : s({
                        path: i
                    }))
        }
        );
        t["a"] = on
    },
    4307: function (e, t, s) { },
    "45d8": function (e, t, s) {
        "use strict";
        var i = s("797e")
            , a = s.n(i);
        a.a
    },
    "464d": function (e, t, s) { },
    "48ee": function (e, t, s) { },
    "4e36": function (e, t, s) {
        "use strict";
        var i = s("d85c")
            , a = s.n(i);
        a.a
    },
    "4e61": function (e, t, s) {
        "use strict";
        var i = s("240b")
            , a = s.n(i);
        a.a
    },
    5366: function (e, t, s) {
        "use strict";
        var i = s("6a85")
            , a = s.n(i);
        a.a
    },
    "54e5": function (e, t, s) { },
    "55c6": function (e, t, s) { },
    5660: function (e, t, s) { },
    "56d7": function (e, t, s) {
        "use strict";
        s.r(t);
        s("e260"),
            s("e6cf"),
            s("a79d"),
            s("9b33");
        var i = s("2b0e")
            , a = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("div", {
                    attrs: {
                        id: "app",
                        onpaste: "return false",
                        oncopy: "return false",
                        oncut: "return false"
                    }
                }, [s("router-view"), s("video", {
                    staticStyle: {
                        display: "none"
                    },
                    attrs: {
                        id: "ssVideo"
                    }
                })], 1)
            }
            , o = []
            , n = (s("5319"),
                s("f3f3"))
            , r = s("2f62")
            , c = s("15ad")
            , l = s("ca00");
        const { mapMutations: d } = Object(r["a"])("examingHomeModule");
        var u = {
            name: "APP",
            computed: Object(n["a"])({}, Object(r["e"])(["user", "QECSConfig"])),
            watch: {
                QECSConfig() {
                    if (this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("FULL_SCREEN_TOP")) {
                        if ("undefined" == typeof nodeRequire)
                            return console.log("非考生端，不检测置顶状态"),
                                void this.logger({
                                    action: "非考生端，不检测置顶状态"
                                });
                        console.log("考生端，设置检测置顶状态"),
                            this.logger({
                                action: "考生端，设置检测置顶状态"
                            });
                        let e = window.nodeRequire("electron").remote;
                        const t = e.getCurrentWindow();
                        let s = 0;
                        const i = () => {
                            Date.now() - s < 1e3 || (s = Date.now(),
                                this.logger({
                                    page: window.location.pathname,
                                    action: "学生端不是置顶状态"
                                }),
                                window._hmt.push(["_trackEvent", window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "学生端不是置顶状态"]),
                                "OnlineExamingHome" === this.$route.name && (this.$Message.warning({
                                    content: "考试过程请勿尝试切屏，可能影响考试成绩",
                                    duration: 10,
                                    closable: !0
                                }),
                                    this.$http.post("/api/ecs_oe_student/examControl/switchScreen?examRecordDataId=" + this.$route.params.examRecordDataId).then(e => {
                                        if (this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("RECORD_SWITCH_SCREEN") && e.data) {
                                            const { switchScreenCount: t, maxSwitchScreenCount: s } = e.data;
                                            "number" === typeof t && "number" === typeof s && t > s && this.updateExceedSwitchCount(!0)
                                        }
                                    }
                                    )))
                        }
                            ;
                        t.removeListener("blur", i),
                            t.on("blur", i)
                    }
                }
            },
            async created() {
                this.interval = setInterval(() => {
                    this.sendOnlineSignal()
                }
                    , 18e4),
                    Object(l["e"])() && (Object(c["c"])(),
                        this.processInterval = setInterval(() => Object(c["c"])(), 12e4))
            },
            beforeDestroy() {
                clearInterval(this.interval),
                    clearInterval(this.processInterval)
            },
            methods: Object(n["a"])(Object(n["a"])({}, d(["updateExceedSwitchCount"])), {}, {
                async sendOnlineSignal() {
                    if (window.sessionStorage.getItem("token"))
                        try {
                            await this.$http.get("/api/ecs_core/student/online_signal/" + this.user.id)
                        } catch (e) {
                            this.logger({
                                page: window.location.pathname,
                                action: "发送在线信号",
                                userId: this.user.id
                            })
                        }
                }
            })
        }
            , h = u
            , m = (s("034f"),
                s("2877"))
            , p = Object(m["a"])(h, a, o, !1, null, null, null)
            , _ = p.exports
            , g = s("41cb")
            , w = s("c0d6")
            , f = s("9483");
        Object(f["a"])("/oe-web/service-worker.js", {
            ready() {
                console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")
            },
            registered() {
                console.log("Service worker has been registered.")
            },
            cached() {
                console.log("Content has been cached for offline use.")
            },
            updatefound() {
                console.log("New content is downloading.")
            },
            updated(e) {
                console.log("New content is available; please refresh."),
                    document.dispatchEvent(new CustomEvent("__newSWAvailable", {
                        detail: e
                    }))
            },
            offline() {
                console.log("No internet connection found. App is running in offline mode.")
            },
            error(e) {
                console.error("Error during service worker registration:", e)
            }
        });
        var v = s("6005")
            , y = s("279d")
            , b = s("ee85")
            , x = s("2ca9")
            , E = s("ea31")
            , S = s("7149")
            , C = s("cf8e")
            , O = s("c57e")
            , I = s("feab")
            , k = s("093f")
            , T = s("a8ee")
            , A = s("ff8e")
            , P = s("311a")
            , M = s("e9ce")
            , D = s("6be2")
            , R = s("a142")
            , L = s("df88")
            , q = s("6079")
            , j = s("117e")
            , N = s("d3b2")
            , B = s("2d66")
            , $ = s("f2d8")
            , F = s("d842")
            , U = s("01f8");
        s("dcad");
        i["a"].component("Button", U["a"]),
            i["a"].component("Form", F["a"]),
            i["a"].component("FormItem", $["a"]),
            i["a"].component("Input", B["a"]),
            i["a"].component("Icon", N["a"]),
            i["a"].component("Message", j["a"]),
            i["a"].component("Poptip", q["a"]),
            i["a"].component("Breadcrumb", L["a"]),
            i["a"].component("BreadcrumbItem", R["a"]),
            i["a"].component("Modal", D["a"]),
            i["a"].component("Upload", M["a"]),
            i["a"].component("Select", P["a"]),
            i["a"].component("Spin", A["a"]),
            i["a"].component("Notice", T["a"]),
            i["a"].component("Option", k["a"]),
            i["a"].component("Progress", I["a"]),
            i["a"].component("Alert", O["a"]),
            i["a"].component("Table", C["a"]),
            i["a"].component("Badge", S["a"]),
            i["a"].component("Tabs", E["a"]),
            i["a"].component("TabPane", x["a"]),
            i["a"].component("Steps", b["a"]),
            i["a"].component("Step", y["a"]),
            i["a"].component("Page", v["a"]),
            i["a"].prototype.$Message = j["a"],
            i["a"].prototype.$Modal = D["a"],
            i["a"].prototype.$Spin = A["a"],
            i["a"].prototype.$Notice = T["a"];
        s("ddb0");
        var Q = s("823b");
        i["a"].mixin({
            beforeCreate() {
                document.getElementById("app-placeholder") && document.getElementById("app-placeholder").remove()
            },
            mounted() {
                [...document.getElementsByTagName("a")].forEach(e => {
                    e.addEventListener("click", (function (e) {
                        e.preventDefault()
                    }))
                }
                )
            },
            methods: {
                logger(e) {
                    Object(Q["b"])(e)
                },
                async checkExamInProgress() {
                    const e = this.$createElement;
                    try {
                        let t;
                        for (let e = 0; e < 4; e++)
                            if (t = await this.$http.get("/api/ecs_oe_student/examControl/checkExamInProgress"),
                                503 !== t.status && "S-101000" !== t.data.code) {
                                if ("000000" === t.data.code)
                                    break
                            } else
                                await new Promise(e => setTimeout(() => e(), 2e3));
                        if (200 !== t.status || "000000" !== t.data.code)
                            throw window._hmt.push(["_trackEvent", "断点续考处理异常", "调用断点续考接口超过次数"]),
                            new Error("调用断点续考接口超过次数");
                        if (t = t.data.data,
                            t && (t.isExceed || t.exceedMaxSwitchScreenCount)) {
                            const s = t.isExceed ? `超出最大断点续考次数(${t.maxInterruptNum})，正在自动交卷...` : `超出最大切屏次数(${t.maxSwitchScreenCount})，正在自动交卷...`;
                            this.$Message.info({
                                content: s,
                                duration: 15,
                                closable: !0
                            }),
                                this.$Spin.show({
                                    render: () => e("div", {
                                        style: "font-size: 24px"
                                    }, [s])
                                });
                            const i = await this.$http.get("/api/ecs_oe_student/examControl/endExam");
                            if (this.$Spin.hide(),
                                200 !== i.status)
                                throw window._hmt.push(["_trackEvent", "断点续考处理异常", "交卷失败"]),
                                this.$Message.error({
                                    content: "交卷失败",
                                    duration: 15,
                                    closable: !0
                                }),
                                new Error("交卷失败");
                            return this.$router.replace({
                                path: `/online-exam/exam/${t.examId}/examRecordData/${t.examRecordDataId}/end`
                            }),
                                !0
                        }
                        if (t)
                            return this.$Spin.show({
                                render: () => e("div", {
                                    style: "font-size: 24px"
                                }, ["正在进入断点续考..."])
                            }),
                                this.$router.push(`/online-exam/exam/${t.examId}/examRecordData/${t.examRecordDataId}/order/1`),
                                setTimeout(() => this.$Spin.hide(), 1e3),
                                !0
                    } catch (t) {
                        throw this.$Spin.hide(),
                        window._hmt.push(["_trackEvent", "断点续考处理异常"]),
                        this.$Message.error({
                            content: "断点续考处理异常",
                            duration: 15,
                            closable: !0
                        }),
                        t
                    }
                },
                logout(e = "") {
                    console.log("退出登录：", e),
                        this.logger({
                            action: "退出登录",
                            cause: e
                        }),
                        localStorage.removeItem("phoneVerified"),
                        window._hmt.push(["_trackEvent", "退出", e]);
                    const t = sessionStorage.getItem("redirectUrl");
                    t ? this.$Modal.error({
                        title: "确认返回",
                        content: "",
                        onOk: () => {
                            window.location = t
                        }
                    }) : this.$router.push("/login/" + e)
                }
            }
        });
        s("acc7");
        var W = s("a27e");
        i["a"].prototype.$httpGetRetry = async function (...e) {
            let t, s = !1;
            for (let o = 0; o < 5; o++)
                try {
                    const t = await i["a"].prototype.$http.get.apply(i["a"], e);
                    return s = !0,
                        t
                } catch (a) {
                    if (console.log(a),
                        t = a,
                        !a.response) {
                        await new Promise(e => setTimeout(e, 1e3));
                        continue
                    }
                }
            if (!s)
                throw t
        }
            ,
            i["a"].prototype.$httpPostRetry = async function (...e) {
                let t, s = !1;
                for (let o = 0; o < 5; o++)
                    try {
                        const t = await i["a"].prototype.$http.post.apply(i["a"], e);
                        return s = !0,
                            t
                    } catch (a) {
                        if (console.log(a),
                            t = a,
                            !a.response) {
                            await new Promise(e => setTimeout(e, 1e3));
                            continue
                        }
                    }
                if (!s)
                    throw t
            }
            ,
            i["a"].config.errorHandler = e => {
                throw window._hmt.push(["_trackEvent", "Vue组件错误"]),
                Object(Q["b"])({
                    action: "Vue组件错误",
                    path: window.location,
                    errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                    errorName: e.name,
                    errorMessage: e.message,
                    errorStack: e.stack
                }),
                console.trace(e),
                e
            }
            ,
            window.addEventListener("error", (function (e) {
                window._hmt.push(["_trackEvent", "全局JS错误:" + window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), e.message, "detail see ali"]),
                    Object(Q["b"])({
                        action: "全局JS错误",
                        page: window.location,
                        message: e.message,
                        errorJSON: JSON.stringify(e.error, (e, t) => "token" === e ? "" : t),
                        errorName: e.error.name,
                        errorMessage: e.error.message,
                        errorStack: e.error.stack,
                        errorFileName: e.error.filename,
                        errorLineNo: e.error.lineno,
                        errorColNo: e.error.colno
                    }),
                    console.trace(e)
            })),
            window.addEventListener("unhandledrejection", (function (e) {
                var t, s, i, a;
                if ("NavigationDuplicated" !== e.reason.name) {
                    try {
                        console.log("unhandledrejection event", e, e.reason, JSON.stringify(e.reason)),
                            Object(Q["b"])({
                                action: "unhandledrejection错误",
                                page: window.location.pathname,
                                reason: e.reason,
                                reasonJson: JSON.stringify(e.reason)
                            }),
                            console.trace(e)
                    } catch (r) {
                        console.log("promise error log")
                    }
                    var o, n;
                    if ((null === (t = e.reason) || void 0 === t || null === (s = t.message) || void 0 === s ? void 0 : s.includes("Box.constructor")) || (null === (i = e.reason) || void 0 === i || null === (a = i.message) || void 0 === a ? void 0 : a.includes("Error: toNetInput")))
                        window._hmt.push(["_trackEvent", "全局Promise未处理错误", e.reason.message.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]);
                    else
                        window._hmt.push(["_trackEvent", "全局Promise未处理错误", window.location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), null === (o = e.reason) || void 0 === o || null === (n = o.message) || void 0 === n ? void 0 : n.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")])
                } else
                    Object(Q["b"])({
                        action: "unhandledrejection错误",
                        page: window.location.pathname,
                        reason: "NavigationDuplicated"
                    })
            })),
            window.addEventListener("rejectionhandled", (function (e) {
                console.log("rejectionhandled"),
                    window._hmt.push(["_trackEvent", "全局Promise已处理错误", e.reason])
            }));
        s("d093");
        var V = function () {
            var e = this
                , t = e.$createElement
                , s = e._self._c || t;
            return s("div", {
                staticClass: "main-layout"
            }, [s("header", {
                staticClass: "header qm-primary-text"
            }, [e.ifShowQr ? s("Poptip", {
                attrs: {
                    trigger: "hover",
                    width: "280"
                }
            }, [s("span", {
                staticClass: "name-arrow"
            }, [e._v("手机端登录(Android)")]), s("div", {
                attrs: {
                    slot: "content"
                },
                slot: "content"
            }, [s("Tabs", {
                attrs: {
                    type: "card"
                }
            }, [s("TabPane", {
                attrs: {
                    label: "下载安卓apk"
                }
            }, [s("div", {
                staticClass: "qm-primary-text flex-center"
            }, [s("qrcode", {
                attrs: {
                    value: e.appDownloadUrl,
                    options: {
                        width: 200
                    }
                }
            })], 1)]), s("TabPane", {
                attrs: {
                    label: "绑定用户"
                }
            }, [s("div", {
                staticClass: "qm-primary-text flex-center"
            }, [s("qrcode", {
                attrs: {
                    value: e.qrValue,
                    options: {
                        width: 200
                    }
                }
            }), s("div", [e._v("请使用“云考”App扫描")])], 1)])], 1)], 1)]) : e._e(), e.ifShowQr ? s("span", {
                staticStyle: {
                    margin: "auto 20px"
                }
            }, [e._v("|")]) : e._e(), s("Poptip", {
                attrs: {
                    trigger: "hover",
                    width: "300"
                }
            }, [s("span", {
                staticClass: "name-arrow"
            }, [e._v(e._s(e.user.displayName) + " "), s("i", {
                staticClass: "ivu-icon ivu-icon-md-arrow-dropdown",
                staticStyle: {
                    "vertical-align": "middle"
                }
            })]), s("div", {
                attrs: {
                    slot: "content"
                },
                slot: "content"
            }, [s("div", {
                staticClass: "info qm-primary-text"
            }, [s("div", {
                staticClass: "hr info-row"
            }, [s("div", [e._v("底照")]), s("div", [s("img", {
                staticClass: "user-avatar",
                attrs: {
                    src: e.user.photoPath,
                    alt: "无底照"
                }
            })])]), s("div", {
                staticClass: "hr info-row"
            }, [s("div", [e._v("学号")]), s("div", [e._v(e._s(e.user.studentCodeList.join(",")))])]), s("div", {
                staticClass: "hr info-row"
            }, [s("div", [e._v("身份证号")]), s("div", [e._v(e._s(e.user.identityNumber))])]), s("div", {
                staticClass: "hr info-row"
            }, [s("div", [e._v("学习中心")]), s("div", [e._v(e._s(e.user.orgName))])]), e.isEpcc ? e._e() : s("div", {
                staticStyle: {
                    "grid-column": "span 2",
                    "place-self": "center",
                    width: "100%",
                    "padding-top": "10px"
                }
            }, [s("Button", {
                staticClass: "qm-primary-button",
                attrs: {
                    long: ""
                },
                on: {
                    click: e.goChangePwd
                }
            }, [e._v(" 修改密码 ")])], 1)])])]), s("span", {
                staticStyle: {
                    margin: "auto 20px"
                }
            }, [e._v("|")]), s("a", {
                staticClass: "qm-primary-text",
                staticStyle: {
                    display: "inline-block",
                    "margin-right": "20px",
                    "text-align": "center"
                },
                on: {
                    click: function () {
                        e.logger({
                            page: "MainLayout",
                            button: "退出按钮",
                            action: "点击"
                        }),
                            e.logout("?LogoutReason=正常退出")
                    }
                }
            }, [e._v(" " + e._s(e.isEpcc ? "返回" : "退出登录") + " ")])], 1), s("transition", {
                attrs: {
                    name: "fade",
                    appear: ""
                }
            }, [s("main", {
                key: e.$route.path,
                staticClass: "content"
            }, [e._t("default")], 2)]), s("nav", {
                staticClass: "nav"
            }, [s("img", {
                staticClass: "qm-logo",
                attrs: {
                    src: e.getLogo
                }
            }), s("ul", e._l(e.menus, (function (t, i) {
                return s("li", {
                    key: i
                }, [s("router-link", {
                    staticClass: "link",
                    attrs: {
                        to: t.link,
                        ondragstart: "return false;"
                    }
                }, ["STU_NOTICE" === t.routeCode ? s("Badge", {
                    attrs: {
                        count: e.messageUnread,
                        offset: [20, -20]
                    }
                }, [e._v(" " + e._s(t.name) + " ")]) : s("span", [e._v(" " + e._s(t.name) + " ")])], 1)], 1)
            })), 0)]), s("footer", {
                staticClass: "footer"
            }, [e._v("©️2020 启明泰和")]), s("SiteMessagePopup")], 1)
        }
            , H = []
            , z = (s("4e82"),
                s("b2e5"))
            , K = s.n(z)
            , G = function () {
                var e = this
                    , t = e.$createElement
                    , s = e._self._c || t;
                return s("transition", {
                    attrs: {
                        name: "fade",
                        mode: "out-in",
                        appear: "",
                        duration: {
                            enter: 500,
                            leave: 300
                        }
                    }
                }, [e.unreadMessage ? s("div", {
                    key: e.unreadMessage.id,
                    staticClass: "popup"
                }, [s("h5", {
                    staticStyle: {
                        padding: "5px",
                        background: "rgba(19, 187, 138, 1)",
                        "border-radius": "6px 6px 0px 0px",
                        "font-size": "14px",
                        "font-weight": "500",
                        color: "rgba(255, 255, 255, 1)",
                        "line-height": "20px"
                    }
                }, [e._v(" " + e._s(e.unreadMessage.title) + " ")]), s("p", {
                    staticStyle: {
                        "text-overflow": "ellipsis",
                        "text-indent": "2em",
                        "text-align": "left",
                        height: "100px",
                        overflow: "hidden",
                        margin: "20px"
                    }
                }, [e._v(" " + e._s(e.unreadMessageContent) + " ")]), s("div", {
                    staticStyle: {
                        "text-align": "left",
                        "margin-left": "20px",
                        "margin-bottom": "10px"
                    }
                }, [s("router-link", {
                    attrs: {
                        to: "/site-message/" + e.unreadMessage.id,
                        ondragstart: "return false;"
                    }
                }, [e._v(" 详情 >>> ")]), s("span", {
                    staticStyle: {
                        display: "inline-block",
                        "margin-left": "20px",
                        cursor: "pointer"
                    },
                    on: {
                        click: e.ignoreMessage
                    }
                }, [e._v("忽略")])], 1)]) : e._e()])
            }
            , J = []
            , X = {
                name: "SiteMessagePopup",
                data() {
                    let e = window.sessionStorage.getItem("ignoreMessageIds");
                    return e = e ? JSON.parse(e) : [],
                    {
                        ignoreMessageIds: e
                    }
                },
                computed: Object(n["a"])(Object(n["a"])({}, Object(r["e"])(["siteMessages"])), {}, {
                    unreadMessage() {
                        const e = this.siteMessages.filter(e => !1 === e.hasRead).filter(e => !1 === this.ignoreMessageIds.includes(e.id)).reverse();
                        return e.length > 0 ? e[0] : null
                    },
                    unreadMessageContent() {
                        const e = document.createElement("div");
                        e.innerHTML = this.unreadMessage.content;
                        const t = e.textContent || e.innerText || "";
                        return t.slice(0, 90) + (t.length > 90 ? "..." : "")
                    }
                }),
                methods: {
                    ignoreMessage() {
                        this.logger({
                            page: "SiteMessagePopup",
                            button: "忽略按钮",
                            action: "点击"
                        }),
                            this.ignoreMessageIds.push(this.unreadMessage.id),
                            window.sessionStorage.setItem("ignoreMessageIds", JSON.stringify(this.ignoreMessageIds))
                    }
                }
            }
            , Y = X
            , Z = (s("097c"),
                Object(m["a"])(Y, G, J, !1, null, "65bdce4a", null))
            , ee = Z.exports
            , te = {
                name: "MainLayout",
                components: {
                    qrcode: K.a,
                    SiteMessagePopup: ee
                },
                data() {
                    return {
                        appDownloadUrl: "fetching...",
                        ifShowQr: !1,
                        menus: []
                    }
                },
                computed: Object(n["a"])(Object(n["a"])(Object(n["a"])({}, Object(r["e"])(["user", "siteMessages", "QECSConfig"])), Object(r["c"])(["isEpcc", "isCug"])), {}, {
                    messageUnread() {
                        return this.siteMessages.filter(e => !1 === e.hasRead).length
                    },
                    qrValue() {
                        const { rootOrgId: e, studentCodeList: t, identityNumber: s } = this.user;
                        return JSON.stringify({
                            rootOrgId: e,
                            studentCode: t.join(","),
                            identityNumber: s
                        })
                    },
                    getLogo() {
                        return "true" === this.QECSConfig.IS_CUSTOM_MENU_LOGO ? this.QECSConfig.CUS_MENU_LOGO_FILE_URL : s("d4aa")
                    }
                }),
                async created() {
                    const e = await this.$http.get("/api/ecs_core/systemProperty/APP_DOWNLOAD_URL");
                    this.appDownloadUrl = e.data;
                    const t = await this.$http.get(`/api/ecs_core/org/property/${this.user.rootOrgId}/APP_ENABLED`);
                    this.ifShowQr = t.data;
                    var s = "/api/ecs_core/rolePrivilege/getStudentClientMenu?rootOrgId=" + this.user.rootOrgId;
                    const i = {
                        STU_ONLINE_EXAM: "/online-exam",
                        STU_ONLINE_HOMEWORK: "/online-homework",
                        STU_ONLINE_PRACTICE: "/online-practice",
                        STU_OFFLINE_EXAM: "/offline-exam",
                        STU_NOTICE: "/site-message",
                        STU_MODIFY_PWD: "/password"
                    }
                        , a = await this.$http.get(s);
                    this.menus = a.data.sort((e, t) => t.weight - e.weight).map(e => ({
                        routeCode: e.routeCode.toUpperCase(),
                        name: e.name,
                        link: i[e.routeCode.toUpperCase()]
                    })),
                        this.updateMenus(this.menus)
                },
                methods: Object(n["a"])(Object(n["a"])({}, Object(r["d"])(["updateMenus"])), {}, {
                    goChangePwd() {
                        this.logger({
                            page: "MainLayout",
                            button: "修改密码按钮",
                            action: "点击"
                        }),
                            this.$router.push("/password")
                    }
                })
            }
            , se = te
            , ie = (s("b843"),
                Object(m["a"])(se, V, H, !1, null, "bbae2eb2", null))
            , ae = ie.exports;
        Object(l["h"])(),
            i["a"].use(W["a"]),
            i["a"].config.productionTip = !1,
            i["a"].component("MainLayout", ae),
            new i["a"]({
                router: g["a"],
                store: w["a"],
                render: e => e(_)
            }).$mount("#app")
    },
    5785: function (e, t, s) { },
    6463: function (e, t, s) { },
    "669d": function (e, t, s) { },
    6745: function (e, t, s) {
        "use strict";
        var i = s("54e5")
            , a = s.n(i);
        a.a
    },
    "685a": function (e, t, s) {
        "use strict";
        s.d(t, "a", (function () {
            return n
        }));
        s("5319");
        var i = s("2b80")
            , a = s.n(i);
        const o = [[/(electron-exam-shell)\/([\w.]+)/i], [a.a.BROWSER.NAME, a.a.BROWSER.VERSION]];
        t["b"] = new a.a(navigator.userAgent, {
            browser: o
        });
        const n = new a.a(navigator.userAgent.replace("electron-exam-shell/", ""), null).getBrowser()
    },
    6913: function (e, t, s) {
        "use strict";
        var i = s("7bc1")
            , a = s.n(i);
        a.a
    },
    "6a85": function (e, t, s) { },
    "6af0": function (e, t, s) { },
    "6c20": function (e, t, s) { },
    "6d64": function (e, t, s) {
        "use strict";
        var i = s("48ee")
            , a = s.n(i);
        a.a
    },
    "6fb0": function (e, t, s) {
        "use strict";
        var i = s("464d")
            , a = s.n(i);
        a.a
    },
    7139: function (e, t, s) {
        "use strict";
        var i = s("1eee")
            , a = s.n(i);
        a.a
    },
    7257: function (e, t, s) { },
    "73db": function (e, t, s) { },
    "74d1": function (e, t, s) {
        "use strict";
        var i = s("669d")
            , a = s.n(i);
        a.a
    },
    "754c": function (e, t, s) { },
    "75a8": function (e, t, s) { },
    "78d8": function (e, t, s) { },
    7938: function (e, t, s) {
        "use strict";
        var i = s("14b7")
            , a = s.n(i);
        a.a
    },
    "797e": function (e, t, s) { },
    "7ad4": function (e, t, s) {
        "use strict";
        var i = s("f43d")
            , a = s.n(i);
        a.a
    },
    "7bc1": function (e, t, s) { },
    "7cb1": function (e, t, s) { },
    "7e89": function (e, t, s) {
        "use strict";
        var i = s("f8fb")
            , a = s.n(i);
        a.a
    },
    "7e8b": function (e, t, s) {
        "use strict";
        var i = s("754c")
            , a = s.n(i);
        a.a
    },
    "7f41": function (e, t, s) { },
    "80a2": function (e, t, s) {
        "use strict";
        var i = s("1121")
            , a = s.n(i);
        a.a
    },
    "81ef": function (e, t, s) { },
    "823b": function (e, t, s) {
        "use strict";
        s.d(t, "c", (function () {
            return h
        })),
            s.d(t, "b", (function () {
                return m
            })),
            s.d(t, "a", (function () {
                return p
            }));
        s("ddb0"),
            s("af2d");
        var i = s("e6fd")
            , a = s("c1df")
            , o = s.n(a)
            , n = function () {
                if ("undefined" == typeof nodeRequire)
                    return console.log("nodeRequire failed"),
                        {};
                const e = window.nodeRequire("os");
                let t = {};
                return t.arch = e.arch(),
                    t.platform = e.platform(),
                    t.release = e.release(),
                    t.type = e.type(),
                    t.hostname = e.hostname(),
                    t.totalmem = e.totalmem() / 1024 / 1024 / 1024,
                    t.freemem = e.freemem() / 1024 / 1024 / 1024,
                    t.cpus = JSON.stringify(e.cpus()),
                    t.networkInterfaces = JSON.stringify(e.networkInterfaces()),
                    t.userInfo = JSON.stringify(e.userInfo()),
                    t.loadavg = JSON.stringify(e.loadavg()),
                    t
            }
            , r = s("c0d6");
        const c = "cn-shenzhen.log.aliyuncs.com"
            , l = "examcloud"
            , d = i["k"]
            , u = new window.Tracker("" + c, "" + l, "" + d);
        function h(e) {
            try {
                const t = r["a"].state.user;
                u.push("userName", t.displayName),
                    u.push("userId", t.id),
                    u.push("userIdentityNumber", t.identityNumber),
                    u.push("userStudentCodeList", t.studentCodeList.join(",")),
                    u.push("rootOrgName", t.rootOrgName),
                    u.push("rootOrgId", t.rootOrgId);
                const s = localStorage.getItem("uuidForEcs");
                s && u.push("uuidForEcs", s);
                for (let [a, o] of Object.entries(e))
                    u.push(a, o);
                const i = n();
                for (let [e, a] of Object.entries(i))
                    u.push(e, a);
                u.push("clientDate", o()().format("YYYY-MM-DD HH:mm:ss.SSS")),
                    u.push("UA", navigator.userAgent),
                    u.logger()
            } catch (t) {
                console.log(t),
                    window._hmt.push(["_trackEvent", "创建用户日志出错-1"])
            }
        }
        function m(e) {
            try {
                const t = r["a"].state.user
                    , s = localStorage.getItem("uuidForEcs");
                s && u.push("uuidForEcs", s),
                    t && u.push("userId", t.id);
                for (let [i, a] of Object.entries(e))
                    u.push(i, a);
                u.push("clientDate", o()().format("YYYY-MM-DD HH:mm:ss.SSS")),
                    u.logger()
            } catch (t) {
                console.log(t),
                    window._hmt.push(["_trackEvent", "创建用户日志出错-2"])
            }
        }
        function p() {
            const e = "undefined" != typeof nodeRequire;
            if (e)
                try {
                    const e = r["a"].state.user
                        , s = localStorage.getItem("uuidForEcs");
                    if (!s)
                        return;
                    u.push("uuidForEcs", s),
                        e && u.push("userId", e.id);
                    let i = null;
                    try {
                        let e = (localStorage.getItem("lastLogIndex") || 0) - 0;
                        i = window.nodeRequire("electron-log");
                        const t = i.transports.file.findLogPath()
                            , s = window.nodeRequire("fs")
                            , a = s.readFileSync(t, "utf-8")
                            , o = a.toString().split("\r\n").join("\n").split("\n");
                        o.length < e && (e = 0);
                        let n = 10;
                        const r = o.slice(e, e + n).filter(e => e);
                        if (!r.length)
                            return;
                        e += r.length,
                            localStorage.setItem("lastLogIndex", e),
                            u.push("encryptLog", r.join("\n"))
                    } catch (t) {
                        return void console.debug(t)
                    }
                    u.push("clientDate", o()().format("YYYY-MM-DD HH:mm:ss.SSS")),
                        u.logger()
                } catch (t) {
                    console.log(t),
                        window._hmt.push(["_trackEvent", "创建用户日志出错-3"])
                }
        }
    },
    "82c3": function (e, t, s) {
        e.exports = s.p + "img/sms-read.8ea6bf73.svg"
    },
    8482: function (e, t, s) { },
    8489: function (e, t, s) {
        "use strict";
        var i = s("7257")
            , a = s.n(i);
        a.a
    },
    "84e7": function (e, t, s) {
        "use strict";
        var i = s("e85b")
            , a = s.n(i);
        a.a
    },
    "853c": function (e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAACgCAMAAABKfUWuAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABqlBMVEX/nGX/nWX+pmT+oGT/lmX+qWT+pWT/mGX+p2T/nmX/l2X/mWX+qGT+o2T+omT/n2X+pGT+oWT/m2UAAAD/mmX/lWX+qmT/gUn/fkb/iFD/h1D/hEz/k13/gkv/fEX/fUX/jlf/gEj/fUX/f0j/ilP/hU7/f0f/oGT+p2T/oGT/mGX/m2X/l2X/oGT/oGT/pWT/mGX/l2X+qGT/oGT+p2T+pWT/nWX/mWX/mWX+p2T/oGT/l2X+p2T+p2T+pmT/iVP/oGT/oGT+pWT+pmT+pGT/mGX/mmX/oWT+qWT/oGT+pmT/m2X+p2T+p2T+qmT/nGX/l2X+p2T+o2T+qGT/m2X/jVf/kl3/i1P/j1f+qWT/mmX/mmX/nGX/nGX+omT/g0v/omT/f0f/oGT/fET/n2X/nmX+oGT+pGT+pWT/mmX/nWX/mWX+pmT/nGX+o2T/////mGX+omT+qGT/m2X/l2X+p2T+oWT+qWT/lmX+qmT/lWX/0LL/4s//+vb/uIv+v5X+xZ7/7uP/rHf+tIH+pm7/yan/6Nn+qW7/om//28b/9Oz/u5X/17z/r4Ihy6JVAAAAY3RSTlMzMzMzMzMzMzMzMzMzMzMzMzMzADMzM5nNZmaAQI3z5k2m2bNZc8ASLhorWfMdDSEwAwMK5kBAs5nzBiAqWVlZFiaZzfPZzVmzwHONs2bz8+bZs5lzTUBZTY1m5uZmjY26vNlkK8iLAAAKB0lEQVR42u3d6X8TxxkHcLW0aVw3JdWq3dXep2T5kMH4wtgBwn1DIITcL6Zt0pRUDbTQ1NyBHJD8z3memV1pJaQgaVbx8MnzeyFpR3vMfvXMzOI3lLRR06w3Fg/P/IUiUhrFbqO+uElk4wLuW6CyGx+Q9KQA65u/pQzIiwGXGjPEND4g8ckBHiI+GcAm8ckALi0SjwxgncpPBnBpgWxkADc2/0AZKqUBqwfJyADWyUUKsEEsUoCLpCIFSH5ygOQnB9h4lTJSegDrJCIF2CQQKcCNGQKRAVzaJA8pwAXikAKkBUQOcIkmQDnAxV9TxkgbsEkWcoAzZCEFeIgopACXqADlABskIQVIBSgJ2HhFuWy9e/LIl2mOnHx36xVFIwBnFOvV6ZPnv+zJ+ZOn1QWsK9WllcvLt/tm+fKKooCbKvXo8vnbA3P+spKA+xTqz7nl2z+Z5XMKAi6oM3rP3nhhzq4oB6jMErJ16cYQubSlGKAyI3hr/42hsn9LLcCF19XIG/v/O2T2v/G6MgHAmZfNTynBkrahit/1EaKOYEmrK9GPlUvXR8qlFWUAF5Xox9nrI+asMoCbKnTj3Kcj55wqgEp0Y3l0wGVFAJuvKZA3Px0jb6rQ89dKdQU6sXL0kzFydEUJwIYKBfjJWFGiBEuLCnRieTzAZSUAD+98H07/a6jc395+8k1Xy2kVAGd2vg9v5Uy+b7Vad+714fvmIXzTuvtVvu0tFQAV6MPRDsmDFs/3zwPeEd/czdfgUQLEnPiik69Sp+++6MmjVpoH+dYTCgD+ccfzUTfVfW54vwfwXga4nW/9aOd7rwDgqa4KvNt6ik4PhwI8RYCQI7c62c6cWre60xnC+dYjBAjJi9zPnL7uAbyVLSKPu1oJEPL3njy692D7wePe1sfpY0x3KwH2ARwUfJDudSXAEQD7hQAhf5WIAoB/2vHIAO587wnw5Qf8m0QIEHJ8fL/jBAg5NUDn0fYP6fu9QYCnCBBy5rP++br1lL/fad0dsMdnZwgQcmIgYIu/P03f++SEAoC7dj4X+uvAv36fwNuzVuvhAL8LCnReBcC1z/vmGf5h9R7+feZJ/x0+XyNAnisDfNI/wLQefjtghysEKPJBf59vvxN/2Rrk98EuAhRZvzkgP2xvbz8b9OXNdQJMs3rh5hi5sEqA7RL8xxhRogAVAdz1/uh+76vR89JuJfLh6IAfqtFzRQB3r/1zxKztJsB8Vo+N5ndslQC7Mzc/it/83G4CfE7w30NHHT+FAEcQVMhPJcChBVXy212aUihzx/4zRI7NqdRnpQCnVtde7Le2OkWAg/PexZ/mu/ieYh1WDXBqan3+fwMzv65cd9UDnFpdv9if7+L66hQBDpUra/P/78n82hUlu6omIK7IZ9aOZ3jH187MqdpPZQFflpR+RZEKARIgARIgAVIIcMcAKRQK5ZebWSKQy2EikMsiEcil8bNcJQnt3qaq8XHpmmf0tL5j9LaUIv1a17ZlWJ0N++Ncs32t50zvWN0HBhO4tXqpXHCqjEdnWarlssGCcjkw0li4m8GicsSMqkju4Oyj7Rj45jNmd51fZzp/t5z0LFlz4LpxZ7cYjnPb34o9jHLxaRYOGKORyxz+GsJrjAquDTebBgEcaInbxqwPYNljDr/tsIPcOUC3GLP4/k7b1WK1XD/gTHZo2NkPWp0QoFYq/pxV6LSHZRMyXlq+roeB7hvMQYcIAWOX6XbIIh1TY17ehgfu1UJ1YMwh42/jMQ9ew1ROZzW/Kk4bVZ2qL/bBwDkM+P2sbEToBgvxalah9zo7AcCIOTiYLF3HbkOHxS1UDcGJQxD8mB6gUlWvQmla/QDBTkdFzhG2SxOPt2vMrWa/lp47TH/uRLooxs5exZbhgQkAQmWhiNHusF2tJlBNOUCH35letXDLdpxslrPwAL/c3vJwHEMBwwQKw5NPDrwCwR8nBwuLD34DjME8eK0KrXQI50Yz7BUyA3crFrBePKBftXDaghGLI8sRHQ7AKwdoh9gAk3wVtngBCnoXATsTmcWnSj4veizJZrNcdemd6dPKZDqAftmK/E6TgdVY9ES4UTxgOlbABa2qvMMJzomGmPL4ffDKgzkQ3xOWCdYYzlzZsoBJPIcvLLHrtVVdZmRFahm4VIg1pgOIdRrw3yv9bSYHOKsVD1jVIxhNXYAw5QVO9yrMdzBwwtTT1YKvzIAZM5Y91USJaMZR7afPNp1FhYl1OZtiO4Bi4sARwLxyHtAqHHABACuFx2RGzKA4KqAEnysWH5mRhYuKB2Vowj7wVVyzA2iHrcDCw2ACTEyGR7lmeh7mwxvs5IgTxxGcyc2WWSOGJtg/5tMiXogHWrAHcBhODu0mfDXxukaRt7pvUoAJizmgg7fisJAFIXQfbsRgKQ5nDDw9gc+8BXgDNKtUolQsYjV8AzSvkgozD3bKh9vAr1GxhVIHEOqZhbmd8Im8aEAYwRMC9B2gqtSYibfiBybMeAnco8sBoaxgFYF/e8FohRJx0AQeTFhUEYAoWPORRNQqPNNxUNvV/ajzoJPa2CYHTMusEqN2AqfEx/TY98VOuuFYnFPHqxSWhYkBwqvB4DevmUbAW3ReQTUOCBvwEe8apjc70hEKPkUBf9zDx5MIB6/OCy8WA9tMz23pevrUkgGGugDEEvcSvLhp1qAhFhXtJGLuhcnDSYu10BE8OcCKH8Ig8uJKBggPKQkC+rARsoTfih6bzHNgja64VqWzylQcqBMPyzNxcRzDc7PVfQ09HcoMhztsmAksRzYcyac+qGx8Vq/BNxYOfLcGK5tr8+LWix3BkwBMENDWYQrya2I6Q0DwNLAuHbgpUIN7C00TiyWqGMADdxebJhQitPlixnNtXGVCG0c8FKgtzm6bZlwxPQEBOlBiuDLDtOtZ8At5zIRKtmDhwmuHzI8Dyxc7+qYJzU5xN1qfCGCCz8IVLACsEYePPgD0BQV/SvT9wMHpTsSs2HaneFn20bZwHmU1/h38M8aNRbsvjnJ9MeNZaOMZulVBRtsSC06CV8c13muf1xBXdO3C7nQP/z8NS9MF523DqB2cno4Mk28eDOAFAKf12lXchklMfDFtitns7fzBcI/5zauhnn10rOxT12Fwpavp+Q7Ck/L0dCCOCBLc0zAOpgcFIVwdnq+7LyeXxmQAfzHZs5cACyhAApQsQAIcN4c0ApTJrEaAUmm2AX9HGSMHNAKUSbaCEOCYqWsEKJMFjQBlMruXAKUmwA2NAGXS1AiwoAWEA/6eMlIaGgHK5IBGgIX6EaCkHwHKzH8EOFrqGgFKZE9T6wv4G8pQmd3QCFAiC3s1Ahw/e+qaRoDj58BejQAlZr+mphHg+KP3kKYR4Ph8jb0aAU6QDwD/TBmQ2bo2RAhwgN7CPk0jwEnrEWAfvAP1DW2EEGBb7vBio97URs2PMEtldQ7FgEkAAAAASUVORK5CYII="
    },
    "885d": function (e, t, s) {
        "use strict";
        var i = s("4307")
            , a = s.n(i);
        a.a
    },
    "8bc3": function (e, t, s) {
        "use strict";
        var i = s("55c6")
            , a = s.n(i);
        a.a
    },
    "8cae": function (e, t, s) {
        "use strict";
        var i = s("8482")
            , a = s.n(i);
        a.a
    },
    "8cd0": function (e, t, s) { },
    9294: function (e, t, s) {
        "use strict";
        var i = s("d79d")
            , a = s.n(i);
        a.a
    },
    "93f8": function (e, t, s) {
        "use strict";
        var i = s("170f")
            , a = s.n(i);
        a.a
    },
    "949d": function (e, t, s) { },
    "94b9": function (e, t, s) { },
    9584: function (e, t, s) {
        "use strict";
        var i = s("ca62")
            , a = s.n(i);
        a.a
    },
    "97dc": function (e, t, s) {
        "use strict";
        var i = s("6463")
            , a = s.n(i);
        a.a
    },
    "9b33": function (e, t, s) {
        s("ddb0");
        const i = console.log
            , a = "undefined" != typeof nodeRequire;
        let o = null;
        if (a) {
            try {
                o = window.nodeRequire("electron-log")
            } catch (n) {
                console.debug(n)
            }
            console.log = async function (...e) {
                if (o && o.info) {
                    const t = [window.location.pathname, ...e];
                    t.map(e => (e = JSON.stringify(e),
                        e));
                    const s = t.join(";;; ");
                    let i = new TextEncoder;
                    const a = i.encode(s)
                        , n = {
                            alg: "RSA-OAEP-256",
                            e: "AQAB",
                            ext: !0,
                            key_ops: ["encrypt"],
                            kty: "RSA",
                            n: "3vl4K5l_XhHYnm28Nz0YoaP7UTUPRQD4_S2btf1R1kzuVbbqg3eBru7OOcPSVOVFd0GGwy1cXlq1-J9XqFTEscFLIQYCimvLhtSDs7797b6DMwpWQ7Y_QvaVXhwgZZh7KlD0pLUtF2NwDYK10bPaWHEik-OwDCQE5P5Gv6Oz4TZZAjSpxOCNx_ui_KGeu8c63if1-mNwzn70U82LjhbHy3edDjAdT0JDPxqYPiMwSo8lhDy1CqFiyQxq2unPHJcRxb9fAwV3siyWOdHQaaKH2GvCxhpsPUHnVlIng02yeZBzv-UIz6fAPWNhC-6H_5GeZ_Qlk6qQIPzFQ3DPD82VGF9GWGbkdWgHm3JZsSyjjZXYSU3lmc3gaO8q5ZDGGlmh31ApOYddEsFcfYobI3RJwhlvAFHxr9YtRjXlaL-YUf_KwztJFFNw75WSWp8-WtMy96LL3cljjR3rxHYBjiOYDsReTIIeLEDEigcKFyswuc71qSIB6XQFxM6J6u3Urvu3uoPiu-aqujVj6gtOSfOHGvCXq05n3eBk89o2kY92J10v1ANDbZo6HneqKFKJ2Dh8uUaavdSJfHWc8QTy2b50HasxZj9mv_ADaBYaGb2C_tnNvgkusnHu87qxt95iqLPJOzMy4au0UD6kPZ8aTkGZq_b2gT9LHxi6PPdEOjRdVxs"
                        }
                        , r = await window.crypto.subtle.importKey("jwk", n, { name: "RSA-OAEP", modulusLength: 4096, publicExponent: new Uint8Array([1, 0, 1]), hash: "SHA-256" }, !0, ["encrypt"])
                        , c = await window.crypto.subtle.encrypt({ name: "RSA-OAEP", modulusLength: 4096, publicExponent: new Uint8Array([1, 0, 1]), hash: "SHA-256" }, r, a)
                        , l = function (e) {
                            return String.fromCharCode.apply(null, new Uint8Array(e))
                        };
                    o.info(">>==>>" + window.btoa(l(c)) + "<<==<<")
                }
                try {
                    i.call(window, ...e)
                } catch (n) {
                    console.debug(n)
                }
            }
        }
    },
    "9fe4": function (e, t, s) {
        "use strict";
        var i = s("0af9")
            , a = s.n(i);
        a.a
    },
    a156: function (e, t, s) {
        "use strict";
        var i = s("75a8")
            , a = s.n(i);
        a.a
    },
    a27e: function (module, __webpack_exports__, __webpack_require__) {
        "use strict";
        var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5319")
            , core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__)
            , iview_src_components_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("6be2")
            , iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("117e")
            , vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2b0e")
            , axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("bc3a")
            , axios__WEBPACK_IMPORTED_MODULE_4___default = __webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__)
            , _axiosProgress__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("aa02")
            , _axiosCache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("17b4")
            , _router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("41cb")
            , _utils_logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("823b");
        const qmInstance = axios__WEBPACK_IMPORTED_MODULE_4___default.a.create({});
        let wk_token, wk_key;
        qmInstance.interceptors.request.use(e => (!1 === e.url.includes("/login") || !1 === e.url.includes("/api/ecs_core/auth/thirdPartyStudentAccess") ? (wk_token = window.sessionStorage.getItem("token"),
            wk_key = window.localStorage.getItem("key"),
            wk_token && null == e.headers.common["token"] && (e.headers.common["token"] = wk_token,
                e.headers.common["key"] = wk_key)) : wk_token = null,
            e), e => (iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                content: e,
                duration: 15,
                closable: !0
            }),
                Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                    action: "axios request",
                    errorJSON: JSON.stringify(e, (e, t) => "token" === e ? "" : t),
                    errorName: e.name,
                    errorMessage: e.message,
                    errorStack: e.stack
                }),
                Promise.resolve(e))),
            qmInstance.interceptors.response.use(e => e, error => {
                if (console.log("axios response error: " + JSON.stringify(error)),
                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                        action: "axios response",
                        errorJSON: JSON.stringify(error, (e, t) => "token" === e ? "" : t),
                        errorName: error.name,
                        errorMessage: error.message,
                        errorStack: error.stack
                    }),
                    !error.response) {
                    (void 0 === window.___lastNetworkError || window.___lastNetworkError < Date.now() - 15e3) && (iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                        content: "网络连接异常，请检查网络设置。",
                        duration: 15,
                        closable: !0
                    }),
                        window.___lastNetworkError = Date.now(),
                        Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                            action: "网络连接异常，请检查网络设置" + (eval(["nav", "iga", "tor", ".c", "onn", "ec", "ti", "on", ".r", "t", "t"].join("")) && ".")
                        }));
                    let detailInfo = "";
                    try {
                        detailInfo += error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "/{id}"),
                            error.message
                    } catch (error) {
                        console.log("detailInfo error")
                    }
                    return window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "网络连接异常，请检查网络设置。", detailInfo]),
                        Promise.reject(error)
                }
                let status = error.response.status;
                if (403 != status && 401 != status) {
                    if (502 == status)
                        return window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "服务器异常(502)！", error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]),
                            iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: "服务器异常(502)！",
                                duration: 15,
                                closable: !0
                            }),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                                action: "axios response error",
                                errorMessage: "服务器异常(502)",
                                url: error.config.url
                            }),
                            Promise.reject(error);
                    if (503 == status) {
                        const e = ["/api/ecs_oe_student/examControl/checkExamInProgress", "/api/branch_ecs_oe_admin/examControl/queryExamList"];
                        return e.includes(error.config.url) ? Promise.resolve({
                            status: 503
                        }) : (window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "服务器繁忙(503)！请稍后重试。", error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]),
                            iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: "服务器繁忙(503)！请稍后重试。",
                                duration: 15,
                                closable: !0
                            }),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                                action: "axios response error",
                                errorMessage: "服务器繁忙(503)！请稍后重试。",
                                url: error.config.url
                            }),
                            Promise.reject(error))
                    }
                    if (504 == status)
                        return window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "服务器异常(504)！", error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]),
                            iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: "服务器异常(504)！",
                                duration: 15,
                                closable: !0
                            }),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                                action: "axios response error",
                                errorMessage: "服务器异常",
                                url: error.config.url
                            }),
                            Promise.reject(error);
                    if (200 != status) {
                        function showDescOrNot(e) {
                            e && e.desc ? iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: e.desc,
                                duration: 15,
                                closable: !0
                            }) : iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                                content: "未定义异常: " + JSON.stringify(e, 2),
                                duration: 15,
                                closable: !0
                            })
                        }
                        window._hmt.push(["_trackEvent", location.pathname.replace(/=\w*/g, "=").replace(/\d+/g, "{id}"), "status: " + status, error.config.url.replace(/=\w*/g, "=").replace(/\d+/g, "{id}")]),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_8__["b"])({
                                action: "axios response error",
                                errorMessage: `服务器繁忙(${status})`,
                                url: error.config.url
                            }),
                            !wk_token || [401, 403].includes(status) || error.config.url.includes("/api/ecs_core/log/studentClient/") || setTimeout(() => {
                                qmInstance.post("/api/ecs_core/log/studentClient/debug/S-009001", error.config.url + " 请求失败", {
                                    headers: {
                                        "Content-Type": "text/plain"
                                    }
                                })
                            }
                                , 3e3);
                        let e = error.response.data;
                        if (e instanceof Blob) {
                            const t = new FileReader;
                            t.addEventListener("load", () => {
                                let e = t.result;
                                "string" === typeof e && (e = JSON.parse(e)),
                                    showDescOrNot(e)
                            }
                                , !1),
                                t.readAsText(e)
                        } else
                            showDescOrNot(e);
                        return Promise.reject(error)
                    }
                } else {
                    if (void 0 === window.___lastInvalidDate || window.___lastInvalidDate < Date.now() - 1e3) {
                        iview_src_components_message__WEBPACK_IMPORTED_MODULE_2__["a"].error({
                            content: "登录失效，请重新登录！",
                            duration: 15,
                            closable: !0
                        }),
                            window.___lastInvalidDate = Date.now();
                        const e = sessionStorage.getItem("redirectUrl");
                        e ? iview_src_components_modal__WEBPACK_IMPORTED_MODULE_1__["a"].error({
                            title: "确认返回",
                            content: "token失效",
                            onOk: () => {
                                window.location = e
                            }
                        }) : _router__WEBPACK_IMPORTED_MODULE_7__["a"].push("/login/")
                    }
                    wk_token = null
                }
            }
            ),
            qmInstance.defaults.withCredentials = !0,
            qmInstance.defaults.timeout = 3e4,
            qmInstance.defaults.headers.common["X-Requested-With"] = "XMLHttpRequest",
            qmInstance.get = Object(_axiosCache__WEBPACK_IMPORTED_MODULE_6__["a"])(qmInstance.get, [/\/api\/exam_question\/question\/\?question_id/, /\/api\/exam_question\/paper_struct\/\?exam_record_id=/, /\/api\/ecs_oe_student\/examQuestion\/getQuestionContent\?questionId=.*&exam_record_id=/, /\/api\/ecs_oe_student\/examFaceLivenessVerify\/checkFaceLiveness$/]),
            Object(_axiosProgress__WEBPACK_IMPORTED_MODULE_5__["a"])(qmInstance),
            vue__WEBPACK_IMPORTED_MODULE_3__["a"].prototype.$http = qmInstance,
            __webpack_exports__["a"] = {
                install: function (e) {
                    Object.defineProperty(e.prototype, "$http", {
                        value: qmInstance
                    })
                }
            }
    },
    a332: function (e, t, s) { },
    a49f: function (e, t, s) { },
    a69f: function (e, t, s) { },
    a741: function (e, t, s) {
        "use strict";
        var i = s("b686")
            , a = s.n(i);
        a.a
    },
    aa02: function (e, t, s) {
        "use strict";
        s.d(t, "a", (function () {
            return r
        }));
        var i = s("2b1a")
            , a = s("bc3a")
            , o = s.n(a);
        const n = (e, t) => Math.floor(1 * e) / t;
        function r(e = o.a) {
            let t = 0;
            const s = () => {
                e.interceptors.request.use(e => (t++,
                    i["a"].start(),
                    e))
            }
                , a = () => {
                    const t = e => i["a"].update(n(e.loaded, e.total));
                    e.defaults.onDownloadProgress = t,
                        e.defaults.onUploadProgress = t
                }
                , r = () => {
                    const s = e => (0 === --t && i["a"].finish(),
                        e)
                        , a = e => {
                            throw 0 === --t && i["a"].error(),
                            console.log(e),
                            e
                        }
                        ;
                    e.interceptors.response.use(s, a)
                }
                ;
            s(),
                a(),
                r()
        }
    },
    acc7: function (e, t, s) { },
    aec2: function (e, t, s) {
        "use strict";
        var i = s("a49f")
            , a = s.n(i);
        a.a
    },
    af2d: function (e, t) {
        (function (e, t) {
            function s() {
                return e.ActiveXObject ? new ActiveXObject("Microsoft.XMLHTTP") : e.XMLHttpRequest ? new XMLHttpRequest : void 0
            }
            function i(e, t, i) {
                this.uri_ = "https://" + t + "." + e + "/logstores/" + i + "/track?APIVersion=0.6.0",
                    this.params_ = new Array,
                    this.httpRequest_ = s()
            }
            i.prototype = {
                push: function (e, t) {
                    e && t && (this.params_.push(e),
                        this.params_.push(t))
                },
                logger: async function () {
                    var t = this.uri_
                        , s = 0;
                    while (this.params_.length > 0)
                        t += s % 2 == 0 ? "&" + encodeURIComponent(this.params_.shift()) : "=" + encodeURIComponent(this.params_.shift()),
                            ++s;
                    try {
                        await e.fetch(t)
                    } catch (i) {
                        e && e.console && "function" === typeof e.console.log && (console.log("Failed to log to ali log service because of this exception:\n" + i),
                            console.log("Failed log data:", t),
                            (location.pathname.startsWith("/oe-web/login") || "/oe-web" === location.pathname) && localStorage.setItem("lastLogIndex", 0))
                    }
                }
            },
                e.Tracker = i
        })(window, document)
    },
    b1ed: function (e, t, s) {
        "use strict";
        var i = s("8cd0")
            , a = s.n(i);
        a.a
    },
    b3a4: function (e, t, s) { },
    b479: function (e, t, s) { },
    b686: function (e, t, s) { },
    b843: function (e, t, s) {
        "use strict";
        var i = s("fdd6")
            , a = s.n(i);
        a.a
    },
    b8fe: function (e, t, s) {
        "use strict";
        var i = s("b479")
            , a = s.n(i);
        a.a
    },
    c0d6: function (e, t, s) {
        "use strict";
        s("ddb0");
        var i = s("2b0e")
            , a = s("2f62")
            , o = s("e6fd")
            , n = s("823b");
        i["a"].use(a["b"]);
        const r = {
            namespaced: !0,
            state: {
                faceCheckModalOpen: !1
            },
            mutations: {
                toggleFaceCheckModal(e, t) {
                    e.faceCheckModalOpen = void 0 === t ? !e.faceCheckModalOpen : t
                }
            },
            actions: {},
            getters: {}
        }
            , c = {
                namespaced: !0,
                state: {
                    exam: null,
                    paperStruct: null,
                    examQuestionList: null,
                    questionFilterType: "ALL",
                    snapNow: !1,
                    remainTime: null,
                    snapProcessingCount: 0,
                    shouldSubmitPaper: !1,
                    allAudioPlayTimes: [],
                    questionQrCode: null,
                    questionQrCodeScanned: null,
                    questionAnswerFileUrl: [],
                    pictureAnswer: {},
                    uploadModalVisible: !1,
                    isDoingFaceLiveness: !1,
                    exceedSwitchCount: !1
                },
                mutations: {
                    updateRemainTime(e, t) {
                        e = Object.assign(e, {
                            remainTime: t
                        })
                    },
                    toggleSnapNow(e) {
                        e.snapNow = !e.snapNow,
                            e.snapNow && (e.snapProcessingCount = e.snapProcessingCount + 1)
                    },
                    decreaseSnapCount(e) {
                        e.snapProcessingCount = e.snapProcessingCount - 1
                    },
                    updateExamState(e, t) {
                        e = Object.assign(e, t)
                    },
                    updateExamResult(e, t) {
                        e = Object.assign(e, {
                            examResult: t
                        })
                    },
                    updateQuestionFilter(e, t) {
                        window._hmt.push(["_trackEvent", "答题页面", "筛选问题"]),
                            e.questionFilterType = t
                    },
                    updateQuestionAudioPlayTimes(e, t) {
                        let s = !1
                            , i = e.allAudioPlayTimes.map(e => {
                                if (e.name === t) {
                                    s = !0;
                                    const i = e.times + 1;
                                    return {
                                        name: t,
                                        times: i
                                    }
                                }
                                return e
                            }
                            );
                        s || i.push({
                            name: t,
                            times: 1
                        });
                        const a = e.examQuestionList.map(e => 1 == e.order ? Object.assign({}, e, {
                            dirty: !0
                        }, {
                            getQuestionContent: !0
                        }, {
                            audioPlayTimes: JSON.stringify(i)
                        }) : e);
                        e = Object.assign(e, {
                            allAudioPlayTimes: i,
                            examQuestionList: a
                        })
                    },
                    updateExamQuestion(e, { order: t, studentAnswer: s, isSign: i, audioPlayTimes: a, getQuestionContent: o }) {
                        const n = e.examQuestionList.map(e => e.order == t ? Object.assign({}, e, void 0 === o && {
                            dirty: !0
                        }, void 0 !== s && {
                            studentAnswer: s
                        }, void 0 !== a && {
                            audioPlayTimes: a
                        }, void 0 !== i && {
                            isSign: i
                        }, void 0 !== o && {
                            getQuestionContent: o
                        }) : e);
                        e = Object.assign(e, {
                            examQuestionList: n
                        })
                    },
                    resetExamQuestionDirty(e) {
                        const t = e.examQuestionList.map(e => Object.assign({}, e, {
                            dirty: !1
                        }));
                        e = Object.assign(e, {
                            examQuestionList: t
                        })
                    },
                    setShouldSubmitPaper(e) {
                        e.shouldSubmitPaper = !e.shouldSubmitPaper
                    },
                    setQuestionQrCode(e, t) {
                        e.questionQrCode = t
                    },
                    setQuestionQrCodeScanned(e, t) {
                        e.questionQrCodeScanned = t
                    },
                    setQuestionFileAnswerUrl(e, t) {
                        e.questionAnswerFileUrl = e.questionAnswerFileUrl.filter(e => !e.saved);
                        let s = e.questionAnswerFileUrl
                            , i = !1;
                        for (const a of s)
                            if (a.order === t.order) {
                                a.fileUrl = t.fileUrl,
                                    i = !0;
                                break
                            }
                        i ? e.questionAnswerFileUrl = [...s] : e.questionAnswerFileUrl.push(t)
                    },
                    updatePicture(e, t) {
                        e.pictureAnswer = t
                    },
                    updateUploadModalVisible(e, t) {
                        e.uploadModalVisible = t
                    },
                    updateIsDoingFaceLiveness(e, t) {
                        e.isDoingFaceLiveness = t
                    },
                    updateExceedSwitchCount(e, t) {
                        e.exceedSwitchCount = t
                    }
                },
                actions: {},
                getters: {
                    examShouldShowAnswer(e) {
                        return !(!e.exam || "IN_PRACTICE" !== e.exam.practiceType)
                    }
                }
            }
            , l = window.localStorage.getItem("user-for-reload")
            , d = l ? JSON.parse(l) : {};
        t["a"] = new a["b"].Store({
            state: {
                user: d,
                timeDifference: 0,
                siteMessages: [],
                siteMessagesTimeStamp: Date.now(),
                QECSConfig: {},
                menus: []
            },
            mutations: {
                updateUser(e, t) {
                    e = Object.assign(e, {
                        user: t
                    })
                },
                updateTimeDifference(e, t) {
                    e = Object.assign(e, {
                        timeDifference: t
                    }),
                        Object(n["b"])({
                            action: "updateTimeDifference",
                            timeDifference: t
                        }),
                        console.log("与服务器时间差异：" + t)
                },
                updateSiteMessages(e, t) {
                    Array.isArray(t) && (t = t.map(e => (e.hasRecalled && (e.title = "发送者已撤回消息：" + e.title,
                        e.content = "该消息已经被发送者撤回。"),
                        e))),
                        e = Object.assign(e, {
                            siteMessages: t
                        })
                },
                updateSiteMessagesTimeStamp(e, t) {
                    e = Object.assign(e, {
                        siteMessagesTimeStamp: t
                    })
                },
                updateQECSConfig(e, t) {
                    e = Object.assign(e, {
                        QECSConfig: t
                    })
                },
                updateMenus(e, t) {
                    e = Object.assign(e, {
                        menus: t
                    })
                }
            },
            actions: {},
            modules: {
                examHomeModule: r,
                examingHomeModule: c
            },
            getters: {
                isEpcc(e) {
                    return e.user.schoolDomain === o["c"]
                },
                isCug(e) {
                    const t = !0;
                    return e.user.schoolDomain === o["a"] && t
                }
            }
        })
    },
    c232: function (e, t, s) {
        "use strict";
        var i = s("b3a4")
            , a = s.n(i);
        a.a
    },
    c2d5: function (e, t, s) {
        "use strict";
        var i = s("40c2")
            , a = s.n(i);
        a.a
    },
    c3ab: function (e, t, s) { },
    c427: function (e, t, s) {
        "use strict";
        var i = s("28be")
            , a = s.n(i);
        a.a
    },
    c47a: function (e, t, s) {
        "use strict";
        var i = s("2941")
            , a = s.n(i);
        a.a
    },
    c4d1: function (e, t, s) {
        "use strict";
        var i = s("73db")
            , a = s.n(i);
        a.a
    },
    ca00: function (module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, "i", (function () {
            return toChineseNumber
        })),
            __webpack_require__.d(__webpack_exports__, "f", (function () {
                return isThisMachineOwnByStudent
            })),
            __webpack_require__.d(__webpack_exports__, "h", (function () {
                return setUUID
            })),
            __webpack_require__.d(__webpack_exports__, "e", (function () {
                return isElectron
            })),
            __webpack_require__.d(__webpack_exports__, "g", (function () {
                return registerOnResize
            })),
            __webpack_require__.d(__webpack_exports__, "b", (function () {
                return downloadFileURL
            })),
            __webpack_require__.d(__webpack_exports__, "a", (function () {
                return checkMainExe
            })),
            __webpack_require__.d(__webpack_exports__, "d", (function () {
                return initScreenShot
            })),
            __webpack_require__.d(__webpack_exports__, "c", (function () {
                return getScreenShot
            }));
        var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5319")
            , core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__)
            , core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("498a")
            , core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1___default = __webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1__)
            , core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ddb0")
            , core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2___default = __webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__)
            , core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2b3d")
            , core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3___default = __webpack_require__.n(core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3__)
            , _constants_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("e6fd")
            , lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("2ef0")
            , lodash__WEBPACK_IMPORTED_MODULE_5___default = __webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__)
            , vue__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("2b0e")
            , _logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("823b");
        function toChineseNumber(e) {
            let t;
            if (e < 10)
                t = e.toLocaleString("zh-u-nu-hanidec");
            else if (10 === e)
                t = "十";
            else if (e > 10 && e < 20)
                t = "十" + (e % 10).toLocaleString("zh-u-nu-hanidec");
            else if (e >= 20 && e < 100) {
                let s = e.toLocaleString("zh-u-nu-hanidec", {
                    useGrouping: !1
                }).split("");
                s.splice(1, 0, "十"),
                    t = s.join("").replace("〇", "")
            } else
                t = e.toLocaleString("zh-u-nu-hanidec");
            return t
        }
        function isThisMachineOwnByStudent() {
            return (JSON.parse(localStorage.getItem("userIds")) || []).length < 5
        }
        function setUUID() {
            if (!localStorage.getItem("uuidForEcs")) {
                const e = "" + Date.now() + Math.random();
                localStorage.setItem("uuidForEcs", e)
            }
        }
        function isElectron() {
            return "undefined" != typeof nodeRequire
        }
        function registerOnResize() {
            const e = Object(lodash__WEBPACK_IMPORTED_MODULE_5__["throttle"])(() => {
                Object(_logger__WEBPACK_IMPORTED_MODULE_7__["b"])({
                    page: window.location.pathname,
                    action: "registerOnResize",
                    width: window.screen.width,
                    height: window.screen.height,
                    screenX: window.screen.availWidth,
                    screenY: window.screen.availHeight,
                    clientWidth: document.documentElement.clientWidth,
                    clientHeight: document.documentElement.clientHeight,
                    windowInnerWidth: window.innerWidth,
                    windowInnerHeight: window.innerHeight,
                    windowOuterWidth: window.outerWidth,
                    windowOuterHeight: window.outerHeight
                }),
                    getScreenShot({
                        cause: "ss-registerOnResize"
                    })
            }
                , 3e3);
            window.onresize = e
        }
        async function downloadFileURL(e, t) {
            const s = document.createElement("a");
            s.style.display = "none";
            const i = t || e.split("/").pop().split("?")[0];
            console.log(i),
                s.setAttribute("download", i),
                s.href = e,
                document.body.appendChild(s),
                s.click(),
                document.body.removeChild(s)
        }
        function checkMainExe() {
            try {
                let iid = window.nodeRequire("process").pid;
                const cp = window.nodeRequire("child_process");
                iid = cp.execSync(`cmd /c chcp 65001>nul && C:\\Windows\\System32\\wbem\\wmic process where ^(processid^=${iid}^) get parentprocessid /value`).toString(),
                    iid = iid.replace("ParentProcessId=", "").trim(),
                    console.log(iid),
                    iid = cp.execSync(`cmd /c chcp 65001>nul && C:\\Windows\\System32\\wbem\\wmic process where ^(processid^=${iid}^) get parentprocessid /value`).toString(),
                    iid = iid.replace("ParentProcessId=", "").trim(),
                    console.log(iid);
                let executablePath = cp.execSync(`cmd /c chcp 65001>nul && C:\\Windows\\System32\\wbem\\wmic process where ^(processid^=${iid}^) get executablepath /value`);
                console.log(executablePath);
                const encoding = window.nodeRequire("encoding");
                if (executablePath = encoding.convert(executablePath, "utf8", "gbk").toString(),
                    console.log(executablePath),
                    executablePath = executablePath.replace("ExecutablePath=", "").trim().replace(/&amp;/g, "&"),
                    executablePath === eval("process.env.PORTABLE_EXECUTABLE_FILE")) {
                    const e = window.nodeRequire("crypto").createHmac("sha256", "abcdefg").update(window.nodeRequire("fs").readFileSync(executablePath)).digest("hex");
                    if (console.log("the hash: ", e),
                        _constants_constants__WEBPACK_IMPORTED_MODULE_4__["f"].get(window.location.hostname) === e)
                        return !0
                }
            } catch (error) {
                console.log(error)
            }
            return !1
        }
        function initScreenShot() {
            function e(e) {
                const t = document.querySelector("#ssVideo");
                t.srcObject = e,
                    t.onloadedmetadata = () => t.play()
            }
            window.nodeRequire("electron").desktopCapturer.getSources({
                types: ["window", "screen"]
            }, async (t, s) => {
                console.log(s);
                for (const i of s)
                    if (console.log(i),
                        "Entire screen" === i.name) {
                        try {
                            const t = await navigator.mediaDevices.getUserMedia({ audio: !1, video: { mandatory: { chromeMediaSource: "desktop", chromeMediaSourceId: i.id, minWidth: 600, maxWidth: 600, minHeight: 480, maxHeight: 480 } } });
                            e(t)
                        } catch (t) {
                            console.log(t),
                                Object(_logger__WEBPACK_IMPORTED_MODULE_7__["b"])({
                                    page: window.location.pathname,
                                    action: "ss-failed",
                                    sse: t
                                })
                        }
                        return
                    }
            }
            )
        }
        async function getScreenShot({ cause: e = "ss-none" }) {
            const t = document.querySelector("#ssVideo");
            async function s() {
                return new Promise((e, s) => {
                    4 === t.readyState && t.srcObject.active || s("desktop没有正常启用"),
                        t.pause();
                    var i = document.createElement("canvas");
                    i.width = 220,
                        i.height = 165;
                    var a = i.getContext("2d");
                    a.drawImage(t, 0, 0, 220, 165),
                        i.toBlob(e, "image/png", .95)
                }
                )
            }
            const i = await s()
                , a = new URLSearchParams;
            if (a.append("fileSuffix", "png"),
                window.location.pathname.includes("/login"))
                return;
            const o = await vue__WEBPACK_IMPORTED_MODULE_6__["a"].prototype.$http.get("/api/ecs_oe_student/examControl/getCapturePhotoYunSign?" + a);
            let n = new FormData;
            for (let [c, l] of Object.entries(o.data.formParams))
                n.append(c, l);
            n.append("file", i);
            try {
                const s = await fetch(o.data.formUrl, { method: "POST", body: n });
                if (console.log(s, {
                    "res2.headers": s.headers,
                    'res2.headers.get("Content-MD5")': s.headers.get("Content-MD5"),
                    'res2.headers.get("Content-Type")': s.headers.get("Content-Type")
                }),
                    !s.ok)
                    throw s.status;
                Object(_logger__WEBPACK_IMPORTED_MODULE_7__["b"])({
                    page: window.location.pathname,
                    detail: "桌面抓拍保存成功",
                    resultUrl: o.data.accessUrl,
                    cause: e
                })
            } catch (r) {
                console.log(r),
                    Object(_logger__WEBPACK_IMPORTED_MODULE_7__["b"])({
                        page: window.location.pathname,
                        detail: "桌面抓拍失败",
                        error: r,
                        cause: e
                    })
            } finally {
                // t && t.play()
            }
        }
    },
    ca62: function (e, t, s) { },
    ccab: function (e, t, s) {
        "use strict";
        var i = s("a69f")
            , a = s.n(i);
        a.a
    },
    cddd: function (e, t, s) {
        "use strict";
        s.d(t, "b", (function () {
            return i
        })),
            s.d(t, "a", (function () {
                return a
            }));
        const i = ["17GuaGua Cam", "91KBOX", "e2eSoft iVCam", "e2eSoft VCam", "FaceRig Virtual Camera", "MagicCamera Capture", "MeiSe", "Virtual Cam", "YY伴侣", "WebcamMax Capture", "Wecam", "Vcam ", "softcam", "Vandate Virtual Camera", "video2webcam", "VCDCut Pro", "9158虚拟视频", "9158Capture", "Insta360 Virtual Camera", "无他直播伴侣PC客户端", "无他相机电脑版", "mobiola webcamera", "艾米秀宝(ImiShowBox)", "video2Webcam", "飞翔虚拟视频", "魔力秀", "YY开播", "无他伴侣", "视频连麦", "酷狗直播伴侣", "screen-capture-recorder", "OBS Virtual Camera", "OBS-Camera", "ManyCam Virtual Webcam", "小葫芦直播助手", "yyplayer", "秀色直播伴侣", "秀色直播助手", "Citrix HDX Web Camera"]
            , a = "qq;teamviewer;lookmypc;xt;winaw32;pcaquickconnect;sessioncontroller;sunloginclient;sunloginremote;wemeetapp;wechat;todesk"
    },
    d0392: function (module, __webpack_exports__, __webpack_require__) {
        "use strict";
        var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5319")
            , core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_0__)
            , core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("498a")
            , core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1___default = __webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_1__)
            , core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("ddb0")
            , core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2___default = __webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__)
            , core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2b3d")
            , core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3___default = __webpack_require__.n(core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_3__)
            , _home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("f3f3")
            , moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("c1df")
            , moment__WEBPACK_IMPORTED_MODULE_5___default = __webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__)
            , vuex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("2f62")
            , _constants_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("e6fd")
            , _constants_constant_namelist__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("cddd")
            , _DevTools_vue__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("21d8")
            , _utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("15ad")
            , _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("685a")
            , _utils_logger__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("823b")
            , _utils_util__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("ca00")
            , _GeeTest__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("e031")
            , _GlobalNotice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("f694")
            , _utils_tryLimit__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("ff04");
        let element = new Image;
        Object.defineProperty(element, "id", {
            get: function () {
                return window._hmt.push(["_trackEvent", "控制台打开", window.location.href, "|||" + localStorage.getItem("domain") + "|||" + localStorage.getItem("key")]),
                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                        currentPage: "登录页面",
                        action: "控制台打开",
                        UA: navigator.userAgent,
                        url: window.location.href
                    }),
                    null
            }
        }),
            __webpack_exports__["a"] = {
                name: "Login",
                components: {
                    DevTools: _DevTools_vue__WEBPACK_IMPORTED_MODULE_9__["a"],
                    GeeTest: _GeeTest__WEBPACK_IMPORTED_MODULE_14__["a"],
                    GlobalNotice: _GlobalNotice__WEBPACK_IMPORTED_MODULE_15__["a"]
                },
                data() {
                    return {
                        QECSConfig: {},
                        loginType: "STUDENT_CODE",
                        errorInfo: "",
                        loginForm: {
                            accountValue: "",
                            password: "",
                            tid: ""
                        },
                        loginFormRule: {
                            accountValue: [{
                                required: !0,
                                message: "请填写登录账号",
                                trigger: "blur"
                            }],
                            password: [{
                                required: !0,
                                message: "请填写密码",
                                trigger: "blur"
                            }]
                        },
                        captchaObj: null,
                        resetGeeTime: Date.now(),
                        loginBtnLoading: !1,
                        disableLoginBtnBecauseRemoteApp: !0,
                        disableLoginBtnBecauseVCam: !0,
                        disableLoginBtnBecauseAppVersionChecker: !1,
                        disableLoginBtnBecauseRefreshServiceWorker: !1,
                        disableLoginBtnBecauseNotAllowedNative: !0,
                        newVersionAvailable: !1,
                        VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
                        GeeTestConfig: {}
                    }
                },
                computed: {
                    logoPath() {
                        return this.QECSConfig.LOGO_FILE_URL ? this.QECSConfig.LOGO_FILE_URL : ""
                    },
                    backgroundUrl() {
                        return `url(${this.QECSConfig.STUDENT_CLIENT_BG_PICTURE_URL || "https://cdn.qmth.com.cn/ui/ecs-client-bg.jpg!/progressive/true"})`
                    },
                    productName() {
                        return this.QECSConfig.OE_STUDENT_SYS_NAME || "远程教育网络考试"
                    },
                    allowLoginType() {
                        return this.QECSConfig.LOGIN_TYPE && this.QECSConfig.LOGIN_TYPE.split(",") || []
                    },
                    schoolDomain() {
                        const e = _constants_constants__WEBPACK_IMPORTED_MODULE_7__["b"];
                        return e && e.includes("qmth.com.cn") || this.$Message.error({
                            content: "机构地址出错，请关闭程序后再登录。",
                            duration: 15,
                            closable: !0
                        }),
                            e
                    },
                    isEPCC() {
                        return this.schoolDomain === _constants_constants__WEBPACK_IMPORTED_MODULE_7__["c"]
                    },
                    usernameInputPlaceholder() {
                        return "STUDENT_CODE" === this.loginType ? "请输入学号" : "请输入身份证号"
                    },
                    passwordInputPlaceholder() {
                        return this.loginType,
                            "初始密码为身份证号后6位"
                    },
                    disableLoginBtn() {
                        return Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])() && (this.disableLoginBtnBecauseRemoteApp || this.disableLoginBtnBecauseVCam) || this.disableLoginBtnBecauseAppVersionChecker || this.disableLoginBtnBecauseRefreshServiceWorker || this.disableLoginBtnBecauseNotAllowedNative
                    },
                    isGeeTestEnabled() {
                        const e = this.GeeTestConfig[this.QECSConfig.ROOT_ORG_ID]
                            , t = void 0 === e
                            , s = this.GeeTestConfig["-1"];
                        return t ? s : e
                    }
                },
                watch: {
                    "loginForm.accountValue": function () {
                        Date.now() - this.resetGeeTime > 6e4 && (this.captchaObj.destroy(),
                            this.resetGeeTime = Date.now())
                    },
                    "loginForm.password": function () {
                        Date.now() - this.resetGeeTime > 6e4 && (this.captchaObj.destroy(),
                            this.resetGeeTime = Date.now())
                    }
                },
                async mounted() {
                    if (this.examShellStats(),
                        localStorage.getItem("__swReload") && (localStorage.removeItem("__swReload"),
                            this.$Message.info({
                                content: "正在更新版本..."
                            }),
                            this.disableLoginBtnBecauseRefreshServiceWorker = !0,
                            await new Promise(e => { setTimeout(() => { e() }, 2e3) }),
                            location.reload(!0)),
                        fetch(_constants_constants__WEBPACK_IMPORTED_MODULE_7__["e"] + "tiny_face_detector_model-weights_manifest.json"),
                        fetch(_constants_constants__WEBPACK_IMPORTED_MODULE_7__["e"] + "face_landmark_68_model-weights_manifest.json"),
                        fetch(_constants_constants__WEBPACK_IMPORTED_MODULE_7__["e"] + "face_expression_model-weights_manifest.json"),
                        this.checkNewVersionListener = document.addEventListener("__newSWAvailable", () => {
                            this.newVersionAvailable = !0
                        }
                            , {
                                once: !0
                            }),
                        this.isEPCC) {
                        const e = new URLSearchParams(location.search).get("redirectUrl");
                        e && sessionStorage.setItem("redirectUrl", e),
                            this.login()
                    }
                    this.uploadLogInterval = setInterval(() => Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["a"])(), 5e3),
                        Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])() && Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                            currentPage: "登录页面",
                            action: "versonstats",
                            packageVersion: "ua-" + _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().version,
                            file: eval("process.env.PORTABLE_EXECUTABLE_FILE"),
                            uaGood: "uagood-" + (eval("process.env.PORTABLE_EXECUTABLE_FILE") ? 1 : 0)
                        })
                },
                async created() {
                    const h = this.$createElement;
                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                        currentPage: "登录页面",
                        action: "page created",
                        UA: navigator.userAgent
                    }),
                        navigator.connection && navigator.connection.rtt && (console.log("UA: ", navigator.userAgent),
                            console.log("_trackEvent", "登录页面", `当前网速: ${Number(navigator.connection.downlink).toPrecision(1)}Mib; 网络延迟: ${Number(navigator.connection.rtt).toPrecision(1)}ms`),
                            window._hmt.push(["_trackEvent", "登录页面", `当前网速: ${Number(navigator.connection.downlink).toPrecision(1)}Mib; 网络延迟: ${Number(navigator.connection.rtt).toPrecision(1)}ms`]),
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                currentPage: "登录页面",
                                action: "page　created",
                                UA: navigator.userAgent
                            })),
                        this.isEPCC && this.$Spin.show({
                            render: () => h("div", {
                                style: "font-size: 44px"
                            }, ["正在登录..."])
                        }),
                        -1 != navigator.userAgent.indexOf("WOW64") || -1 != navigator.userAgent.indexOf("Win64") ? window._hmt.push(["_trackEvent", "登录页面", "64Bit OS"]) : window._hmt.push(["_trackEvent", "登录页面", "非64Bit OS"]),
                        this.$Message.config({
                            duration: 15,
                            size: "large",
                            closable: !0
                        }),
                        window.sessionStorage.removeItem("token"),
                        window.sessionStorage.clear(),
                        window.localStorage.removeItem("key"),
                        Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])() && !eval("process.env.PORTABLE_EXECUTABLE_FILE") && (this.disableLoginBtnBecauseAppVersionChecker = !0,
                            "1.9.3" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().version ? this.$Message.error({
                                content: "请与学校申请最新的客户端，进行考试！",
                                duration: 172800
                            }) : this.$Message.error({
                                content: "电脑环境达不到考试要求，请清理与考试无关软件或更换电脑",
                                duration: 172800
                            })),
                        Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["g"])(),
                        Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["d"])(),
                        _constants_constants__WEBPACK_IMPORTED_MODULE_7__["h"].includes(window.location.hostname) && (Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["a"])() || (this.disableLoginBtnBecauseAppVersionChecker = !0,
                            "1.9.3" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().version ? this.$Message.error({
                                content: "请与学校申请最新的客户端，进行考试！",
                                duration: 172800
                            }) : this.$Message.error({
                                content: "电脑环境达不到考试要求，请清理与考试无关软件或更换电脑",
                                duration: 172800
                            }),
                            this.checkInCaseOldTimeout = setTimeout(() => {
                                this.newVersionAvailable && this.$Message.error({
                                    content: "程序有更新，请重新打开客户端！",
                                    duration: 172800
                                })
                            }
                                , 1e4))),
                        ["xjtu.ecs.qmth.com.cn", "ccnu.ecs.qmth.com.cn", "snnu.ecs.qmth.com.cn", "swjtu.ecs.qmth.com.cn"].includes(this.schoolDomain) && (Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])() && window.nodeRequire("fs").existsSync("multiCamera.exe") || (this.disableLoginBtnBecauseAppVersionChecker = !0,
                            this.$Message.error({
                                content: "请与学校申请最新的客户端，进行考试！",
                                duration: 172800
                            }))),
                        ["cup.ecs.qmth.com.cn"].includes(this.schoolDomain) && ("electron-exam-shell" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().name || "2" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().major && "1" !== _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().major || _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["a"].major < "58") && (this.disableLoginBtnBecauseAppVersionChecker = !0,
                            this.$Message.error({
                                content: "请与学校申请最新的客户端，进行考试！",
                                duration: 172800
                            })),
                        await this.checkElectronConfig(),
                        await this.checkGeeTestConfig(),
                        await this.checkVCam(),
                        await this.checkAllowedClient(),
                        1 === this.allowLoginType.length && "IDENTITY_NUMBER" === this.allowLoginType[0] && (this.loginType = "STUDENT_IDENTITY_NUMBER")
                },
                beforeDestroy() {
                    clearTimeout(this.loginTimeout),
                        clearInterval(this.uploadLogInterval),
                        clearTimeout(this.checkInCaseOldTimeout),
                        document.removeEventListener("__newSWAvailable", this.checkNewVersionListener)
                },
                methods: Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({}, Object(vuex__WEBPACK_IMPORTED_MODULE_6__["d"])(["updateUser", "updateTimeDifference", "updateQECSConfig"])), {}, {
                    testServiceWorker() {
                        "serviceWorker" in navigator && navigator.serviceWorker.register("/service-worker-test.js").then((function (e) {
                            console.log("Registration OK!. Scope is " + e.scope)
                        })).catch((function (e) {
                            console.error("Registration FAILED! " + e)
                        }))
                    },
                    async loginForuser() {
                        Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                            currentPage: "登录页面",
                            action: "点击登录按钮"
                        });
                        try {
                            const e = await this.checkNewVersion();
                            if (e)
                                return
                        } catch (i) {
                            console.log("检测新版本出错")
                        }
                        if (this.loginBtnLoading)
                            return;
                        this.loginBtnLoading = !0;
                        const { limitResult: e, serverOk: t } = await Object(_utils_tryLimit__WEBPACK_IMPORTED_MODULE_16__["a"])({ action: "login", limit: 500 });
                        if (this.logger({
                            action: "登录页面--login clicked",
                            logId: "登录限流API call"
                        }),
                            !e)
                            return Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                currentPage: "登录页面--login clicked",
                                action: "登录被限流",
                                serverOk: t
                            }),
                                this.$Modal.warning({
                                    title: "提示",
                                    content: "网络繁忙，请稍后再试。"
                                }),
                                await new Promise(e => setTimeout(() => e(), 3e3)),
                                void (this.loginBtnLoading = !1);
                        Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                            currentPage: "登录页面--login clicked",
                            action: "登录未限流"
                        });
                        const s = Date.now();
                        if (this.isGeeTestEnabled && (!this.captchaObj || !this.captchaObj.getValidate()))
                            return this.$Message.error("请完成验证"),
                                void (this.loginBtnLoading = !1);
                        try {
                            await this.login()
                        } finally {
                            const e = Date.now();
                            this.loginTimeout = setTimeout(() => {
                                this.loginBtnLoading = !1
                            }
                                , 1e4 - (e - s))
                        }
                    },
                    async login() {
                        if (Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                            currentPage: "登录页面--login clicked",
                            action: "in login()",
                            UA: navigator.userAgent
                        }),
                            this.errorInfo = "",
                            !this.isEPCC && this.disableLoginBtn)
                            return;
                        let e;
                        if (this.isEPCC) {
                            try {
                                const e = await this.checkNewVersion();
                                if (e)
                                    return
                            } catch (s) {
                                console.log("检测新版本出错")
                            }
                            if (e = await this.epccLogin(),
                                !e)
                                return;
                            e.data = {
                                content: e.data,
                                code: "200"
                            }
                        } else {
                            const t = await this.$refs.loginForm.validate();
                            if (!t)
                                return;
                            let s = this.loginForm
                                , i = {};
                            if (this.isGeeTestEnabled) {
                                const e = this.captchaObj.getValidate();
                                i = {
                                    user_id: localStorage.getItem("uuidForEcs"),
                                    client_type: "Web",
                                    challenge: e.geetest_challenge,
                                    validate: e.geetest_validate,
                                    seccode: e.geetest_seccode
                                }
                            }
                            Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                currentPage: "登录页面",
                                action: "send params",
                                domain: this.schoolDomain,
                                rootOrgId: this.QECSConfig.ROOT_ORG_ID,
                                accountType: this.loginType,
                                accountValue: this.loginForm.accountValue
                            }),
                                e = await this.$http.post("/api/ecs_core/verifyCode/gt/login", Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({}, s), {}, { accountType: this.loginType, domain: this.schoolDomain, rootOrgId: this.QECSConfig.ROOT_ORG_ID, alwaysOK: !0 }, i))
                        }
                        let t = e.data;
                        if (this.updateTimeDifference(moment__WEBPACK_IMPORTED_MODULE_5___default()(e.headers.date).diff(moment__WEBPACK_IMPORTED_MODULE_5___default()())),
                            "200" == t.code) {
                            t = t.content,
                                this.errorInfo = "",
                                window.sessionStorage.setItem("token", t.token),
                                window.localStorage.setItem("key", t.key),
                                window.localStorage.setItem("domain", this.schoolDomain);
                            try {
                                const [{ data: e }, { data: s }] = await Promise.all([this.$http.get("/api/ecs_core/student/getStudentInfoBySession"), this.$http.get("/api/ecs_exam_work/exam_student/specialtyNameList/")])
                                    , i = Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])(Object(_home_admin_jenkins_workspace_oe_web_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__["a"])({}, t), e), {}, {
                                        specialty: s.join(),
                                        schoolDomain: this.schoolDomain
                                    });
                                this.updateUser(i),
                                    window.localStorage.setItem("user-for-reload", JSON.stringify(i)),
                                    window._hmt.push(["_trackEvent", "登录页面", "登录", this.$route.query.LogoutReason]);
                                const a = await this.checkExamInProgress();
                                if (window._hmt.push(["_trackEvent", "登录页面", "登录成功"]),
                                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["c"])({
                                        action: "登录成功"
                                    }),
                                    a)
                                    return this.logger({
                                        action: "断点续考",
                                        detail: "登录页面"
                                    }),
                                        void window._hmt.push(["_trackEvent", "登录页面", "断点续考", "重新登录"]);
                                Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["c"])({
                                    cause: "ss-login"
                                }),
                                    this.$router.push("/online-exam");
                                let o = JSON.parse(localStorage.getItem("userIds"));
                                o = [...new Set(o).add(i.id)],
                                    localStorage.setItem("userIds", JSON.stringify(o)),
                                    this.$Spin.hide(),
                                    this.$Message.destroy()
                            } catch (s) {
                                window._hmt.push(["_trackEvent", "登录页面", "登录失败", "getStudentInfoBySession失败"]),
                                    this.logger({
                                        action: "登录失败",
                                        detail: "getStudentInfoBySession失败"
                                    }),
                                    this.$Message.error({
                                        content: "获取学生信息失败，请重试！",
                                        duration: 15,
                                        closable: !0
                                    }),
                                    this.isEPCC && (this.$Spin.hide(),
                                        this.logout())
                            }
                        } else
                            window._hmt.push(["_trackEvent", "登录页面", "登录失败", t.desc]),
                                Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                    currentPage: "登录页面",
                                    action: "登录失败",
                                    desc: t.desc
                                }),
                                this.errorInfo = t.desc,
                                this.captchaObj.destroy(),
                                this.resetGeeTime = Date.now()
                    },
                    async checkNewVersion() {
                        let e = new Headers;
                        e.append("Content-Type", "application/javascript"),
                            e.append("Cache-Control", "no-cache");
                        const t = await fetch(document.scripts[document.scripts.length - 1].src + "?x" + Date.now(), { method: "HEAD", headers: e });
                        if (!t.ok || this.newVersionAvailable)
                            return t.ok && this.newVersionAvailable && localStorage.getItem("__swReload") ? (window._hmt.push(["_trackEvent", "登录页面", "service worker刷新失败"]),
                                this.$Message.destroy(),
                                this.$Message.info({
                                    content: "请重新打开程序。",
                                    duration: 172800
                                }),
                                !0) : (window._hmt.push(["_trackEvent", "登录页面", "新版本发布后，客户端自动刷新"]),
                                    this.$Message.info({
                                        content: "正在获取新版本..."
                                    }),
                                    localStorage.setItem("__swReload", "anything"),
                                    this.disableLoginBtnBecauseRefreshServiceWorker = !0,
                                    await new Promise(e => { setTimeout(() => { e() }, 1e3) }),
                                    location.reload(!0),
                                    !0)
                    },
                    async checkElectronConfig() {
                        try {
                            const e = _constants_constants__WEBPACK_IMPORTED_MODULE_7__["j"]
                                , t = await fetch(e + "/org_properties/byOrgDomain/" + _constants_constants__WEBPACK_IMPORTED_MODULE_7__["b"] + "/studentClientConfig.json?" + Date.now() + Math.random());
                            if (!t.ok)
                                return void this.$Message.error({
                                    content: "获取远程配置文件出错，请重新打开程序！",
                                    duration: 15,
                                    closable: !0
                                });
                            {
                                const e = await t.json();
                                this.QECSConfig = e,
                                    this.updateQECSConfig(e)
                            }
                        } catch (e) {
                            return void this.$Message.error({
                                content: "获取远程配置文件出错，请重新打开程序！",
                                duration: 15,
                                closable: !0
                            })
                        }
                        await this.checkRemoteApp()
                    },
                    async checkGeeTestConfig() {
                        try {
                            const e = _constants_constants__WEBPACK_IMPORTED_MODULE_7__["j"]
                                , t = await fetch(e + "/org_properties/geetestConfig.json?" + Date.now() + Math.random());
                            if (!t.ok)
                                return void this.$Message.error({
                                    content: "获取远程配置文件出错，请重新打开程序！",
                                    duration: 15,
                                    closable: !0
                                });
                            {
                                const e = await t.json();
                                this.GeeTestConfig = e
                            }
                        } catch (e) {
                            return void this.$Message.error({
                                content: "获取远程配置文件出错，请重新打开程序！",
                                duration: 15,
                                closable: !0
                            })
                        }
                    },
                    async checkRemoteApp() {
                        const e = this.$createElement;
                        if (Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])())
                            if (this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("DISABLE_REMOTE_ASSISTANCE")) {
                                let e = "Project1.exe";
                                if (Object(_utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__["b"])("Project2.exe")) {
                                    const t = _constants_constant_namelist__WEBPACK_IMPORTED_MODULE_8__["a"];
                                    e = `Project2.exe "${t}" `
                                }
                                const i = window.nodeRequire("fs");
                                try {
                                    i.unlinkSync("remoteApplication.txt")
                                } catch (s) {
                                    console.log(s)
                                }
                                await Object(_utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__["a"])(e, t.bind(this))
                            } else
                                this.disableLoginBtnBecauseRemoteApp = !1;
                        async function t() {
                            let t;
                            try {
                                const e = window.nodeRequire("fs");
                                try {
                                    t = e.readFileSync("remoteApplication.txt", "utf-8")
                                } catch (s) {
                                    console.log(s),
                                        window._hmt.push(["_trackEvent", "登录页面", "读取remoteApplication.txt出错--0"]),
                                        await new Promise(e => setTimeout(() => e(), 3e3)),
                                        t = e.readFileSync("remoteApplication.txt", "utf-8")
                                }
                            } catch (s) {
                                return console.log(s),
                                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                        currentPage: "登录页面",
                                        errorType: "e-01",
                                        error: s.message,
                                        detail: t
                                    }),
                                    window._hmt.push(["_trackEvent", "登录页面", "读取remoteApplication.txt出错"]),
                                    void this.$Message.error({
                                        content: "系统检测出错(e-01)，请退出程序后重试！",
                                        duration: 172800
                                    })
                            }
                            if ("undefined" !== typeof nodeRequire) {
                                const e = Object(_utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__["d"])();
                                e.hasSun && (t ? t += ",sunloginclient" : t = "sunloginclient"),
                                    e.hasTodesk && (t ? t += ",todesk" : t = "todesk")
                            }
                            if (t && t.trim()) {
                                let s = t.replace("qq", "QQ").replace("teamviewer", "TeamViewer").replace("lookmypc", "LookMyPC").replace("xt", "协通").replace("winaw32", "Symantec PCAnywhere").replace("pcaquickconnect", "Symantec PCAnywhere").replace("sessioncontroller", "Symantec PCAnywhere").replace(/sunloginclient/gi, "向日葵").replace(/sunloginremote/gi, "向日葵").replace(/选择免安装运行，截图识别/gi, "向日葵").replace("wemeetapp", "腾讯会议").replace("wechat", "微信").replace("todesk", "ToDesk");
                                s = [...new Set(s.split(",").map(e => e.trim()))].join("，"),
                                    this.disableLoginBtnBecauseRemoteApp = !0,
                                    this.$Message.info({
                                        render: () => e("div", {
                                            style: "padding-left: 4px; line-height: 80px; font-size: 36px; color: white; background-color: #D9001B"
                                        }, ["在考试期间，请关掉", s, "软件，诚信考试。"]),
                                        duration: 172800
                                    })
                            } else
                                this.disableLoginBtnBecauseRemoteApp = !1
                        }
                    },
                    async checkVCam() {
                        const e = this.$createElement;
                        if (!Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])())
                            return;
                        const t = _constants_constant_namelist__WEBPACK_IMPORTED_MODULE_8__["b"];
                        async function s() {
                            let s;
                            try {
                                const e = window.nodeRequire("fs");
                                try {
                                    s = e.readFileSync("CameraInfo.txt", "utf-8")
                                } catch (i) {
                                    console.log(i),
                                        window._hmt.push(["_trackEvent", "登录页面", "CameraInfo.txt出错--0"]),
                                        await new Promise(e => setTimeout(() => e(), 3e3)),
                                        s = e.readFileSync("CameraInfo.txt", "utf-8")
                                }
                            } catch (i) {
                                return console.log(i),
                                    Object(_utils_logger__WEBPACK_IMPORTED_MODULE_12__["b"])({
                                        currentPage: "登录页面",
                                        errorType: "e-02",
                                        error: i.message,
                                        detail: s
                                    }),
                                    window._hmt.push(["_trackEvent", "登录页面", "读取CameraInfo.txt出错"]),
                                    void this.$Message.error({
                                        content: "系统检测出错(e-02)，请退出程序后重试！",
                                        duration: 172800
                                    })
                            }
                            if (this.disableLoginBtnBecauseVCam = !1,
                                s && s.trim())
                                for (const a of t)
                                    s.toUpperCase().includes(a.toUpperCase()) && (this.disableLoginBtnBecauseVCam = !0,
                                        this.$Message.info({
                                            render: () => e("div", {
                                                style: "padding-left: 4px; line-height: 80px; font-size: 36px; color: white; background-color: #D9001B"
                                            }, ["在考试期间，请关掉虚拟摄像头软件，诚信考试。"]),
                                            duration: 172800
                                        }),
                                        console.log(s))
                        }
                        this.QECSConfig.PREVENT_CHEATING_CONFIG.includes("DISABLE_VIRTUAL_CAMERA") ? await Object(_utils_nativeExe__WEBPACK_IMPORTED_MODULE_10__["a"])("multiCamera.exe", s.bind(this)) : this.disableLoginBtnBecauseVCam = !1
                    },
                    async checkAllowedClient() {
                        if ("true" === Object({
                            VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
                            VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
                            VUE_APP_ROUTER_PATH: "/oe-web/",
                            VUE_APP_PUBLIC_PATH: "/oe-web/",
                            VUE_APP_SLS_STORE_NAME: "student-client",
                            NODE_ENV: "production",
                            BASE_URL: "/oe-web/"
                        }).VUE_APP_SKIP_CHECK_NATIVE)
                            return console.log("环境检查: process.env.VUE_APP_SKIP_CHECK_NATIVE === " + Object({
                                VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
                                VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
                                VUE_APP_ROUTER_PATH: "/oe-web/",
                                VUE_APP_PUBLIC_PATH: "/oe-web/",
                                VUE_APP_SLS_STORE_NAME: "student-client",
                                NODE_ENV: "production",
                                BASE_URL: "/oe-web/"
                            }).VUE_APP_SKIP_CHECK_NATIVE, " 允许浏览器访问"),
                                void (this.disableLoginBtnBecauseNotAllowedNative = !1);
                        if (this.QECSConfig.LOGIN_SUPPORT.includes("NATIVE")) {
                            const e = "electron-exam-shell" === _utils_ua_js__WEBPACK_IMPORTED_MODULE_11__["b"].getBrowser().name
                                , t = Object(_utils_util__WEBPACK_IMPORTED_MODULE_13__["e"])();
                            let s = !1
                                , i = !1;
                            if (e && t) {
                                const e = window.nodeRequire("fs");
                                e && "function" === typeof e.readFileSync && (s = !0,
                                    i = !0,
                                    this.disableLoginBtnBecauseNotAllowedNative = !1)
                            }
                            this.disableLoginBtnBecauseNotAllowedNative && (window._hmt.push(["_trackEvent", "登录页面", "不允许访问-" + JSON.stringify({
                                hasShell: e,
                                hasNode: t,
                                hasFs: s,
                                hasReadFileSync: i
                            })]),
                                this.$Message.error({
                                    content: "请与学校申请最新的客户端，进行考试！",
                                    duration: 172800
                                }))
                        } else
                            this.$Message.error({
                                content: "本考试不支持在考生端中进行！",
                                duration: 172800
                            })
                    },
                    closeApp() {
                        this.logger({
                            page: "登录页",
                            button: "关闭按钮",
                            action: "点击"
                        }),
                            console.log("关闭应用"),
                            window.close()
                    },
                    examShellStats() {
                        const e = window.navigator.userAgent.split(" ").find(e => e.startsWith("electron-exam-shell/"))
                            , t = window.navigator.userAgent.split(" ").find(e => e.startsWith("Chrome/"));
                        e ? window._hmt.push(["_trackEvent", "登录页面", "学生端版本", e + "/" + t]) : (window._hmt.push(["_trackEvent", "登录页面", "浏览器登录"]),
                            t ? window._hmt.push(["_trackEvent", "登录页面", "学生端版本/chrome", t]) : window._hmt.push(["_trackEvent", "登录页面", "学生端版本/其他浏览器", window.navigator.userAgent]))
                    },
                    async epccLogin() {
                        const { accountType: e, accountValue: t, rootOrgId: s, appId: i, timestamp: a, token: o, redirectUrl: n } = this.$route.query;
                        if (e && t && s && i && a && o && n)
                            try {
                                const e = await this.$http.post("/api/ecs_core/auth/thirdPartyStudentAccess" + location.search);
                                return e
                            } catch (r) {
                                window._hmt.push(["_trackEvent", "第三方登录页面", "接口出错", ""]),
                                    this.$Spin.hide(),
                                    this.logout()
                            }
                        else
                            this.$Spin.hide(),
                                this.logout()
                    },
                    handleGtResult(e) {
                        this.captchaObj = e
                    }
                })
            }
    },
    d4aa: function (e, t, s) {
        e.exports = s.p + "img/qm-logo.cdd0ebd8.png"
    },
    d79d: function (e, t, s) { },
    d85c: function (e, t, s) { },
    df53: function (e, t, s) {
        "use strict";
        var i = s("0ce7")
            , a = s.n(i);
        a.a
    },
    dffe: function (e, t, s) {
        "use strict";
        var i = s("6c20")
            , a = s.n(i);
        a.a
    },
    e031: function (e, t, s) {
        "use strict";
        var i = function () {
            var e = this
                , t = e.$createElement
                , s = e._self._c || t;
            return s("div", [s("div", {
                attrs: {
                    id: "captcha"
                }
            }, [e.loading ? s("p", {
                staticClass: "show"
            }, [e._v("正在加载验证码......")]) : e._e()])])
        }
            , a = []
            , o = s("823b")
            , n = {
                name: "GeeTest",
                props: {
                    reset: {
                        type: Number,
                        default: 0
                    }
                },
                data() {
                    return {
                        loading: !0
                    }
                },
                watch: {
                    reset: {
                        immediate: !0,
                        handler() {
                            this.resetGee()
                        }
                    }
                },
                methods: {
                    async resetGee() {
                        const e = this;
                        function t(t) {
                            e.$emit("on-load", t),
                                t.appendTo("#captcha"),
                                t.onReady((function () {
                                    e.loading = !1
                                })),
                                t.onError(t => {
                                    Object(o["b"])({
                                        currentPage: "极验",
                                        errorCode: t.error_code,
                                        msg: t.msg
                                    }),
                                        e.$Message.error({
                                            content: "资源加载失败，请关闭程序，检查网络状况后重试。",
                                            duration: 60,
                                            closable: !0
                                        })
                                }
                                )
                        }
                        let s = null;
                        try {
                            s = await this.$http.post("/api/ecs_core/verifyCode/register", { user_id: localStorage.getItem("uuidForEcs"), client_type: "Web" })
                        } catch (a) {
                            return Object(o["b"])({
                                currentPage: "极验",
                                action: "register接口调用失败",
                                errorJSON: JSON.stringify(a, (e, t) => "token" === e ? "" : t),
                                errorName: a.name,
                                errorMessage: a.message,
                                errorStack: a.stack
                            }),
                                void this.$Message.error({
                                    content: "资源注册失败，请关闭程序，检查网络状况后重试。",
                                    duration: 300,
                                    closable: !0
                                })
                        }
                        const i = s.data;
                        i.success || Object(o["b"])({
                            currentPage: "极验",
                            error: "极验API宕机"
                        }),
                            window.initGeetest({
                                gt: i.gt,
                                challenge: i.challenge,
                                new_captcha: i.new_captcha,
                                offline: !i.success,
                                product: "float",
                                width: "100%"
                            }, t)
                    }
                }
            }
            , r = n
            , c = (s("b1ed"),
                s("2877"))
            , l = Object(c["a"])(r, i, a, !1, null, null, null);
        t["a"] = l.exports
    },
    e3fa: function (e, t, s) {
        "use strict";
        var i = s("f530")
            , a = s.n(i);
        a.a
    },
    e42f: function (e, t, s) { },
    e6fd: function (e, t, s) {
        "use strict";
        s.d(t, "d", (function () {
            return n
        })),
            s.d(t, "i", (function () {
                return r
            })),
            s.d(t, "l", (function () {
                return c
            })),
            s.d(t, "m", (function () {
                return l
            })),
            s.d(t, "j", (function () {
                return d
            })),
            s.d(t, "k", (function () {
                return u
            })),
            s.d(t, "e", (function () {
                return h
            })),
            s.d(t, "c", (function () {
                return m
            })),
            s.d(t, "a", (function () {
                return p
            })),
            s.d(t, "b", (function () {
                return g
            })),
            s.d(t, "g", (function () {
                return w
            })),
            s.d(t, "f", (function () {
                return f
            })),
            s.d(t, "h", (function () {
                return v
            }));
        s("5319"),
            s("ddb0"),
            s("2b3d");
        let i, a, o;
        if (Object({
            VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
            VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
            VUE_APP_ROUTER_PATH: "/oe-web/",
            VUE_APP_PUBLIC_PATH: "/oe-web/",
            VUE_APP_SLS_STORE_NAME: "student-client",
            NODE_ENV: "production",
            BASE_URL: "/oe-web/"
        }).VUE_APP_CORE_HOST_URL) {
            const e = new URL(Object({
                VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
                VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
                VUE_APP_ROUTER_PATH: "/oe-web/",
                VUE_APP_PUBLIC_PATH: "/oe-web/",
                VUE_APP_SLS_STORE_NAME: "student-client",
                NODE_ENV: "production",
                BASE_URL: "/oe-web/"
            }).VUE_APP_CORE_HOST_URL);
            i = e.toString(),
                a = e.host,
                o = e.protocol.replace("http", "ws")
        } else
            i = window.location.origin,
                a = window.location.host,
                o = window.location.protocol.replace("http", "ws");
        const n = "https://api.megvii.com/faceid/liveness/v2/do?token="
            , r = i
            , c = o + "//" + a + "/api/ws/faceBiopsy"
            , l = o + "//" + a + "/api/ws/fileAnswer"
            , d = "https://ecs-static.qmth.com.cn"
            , u = "student-client"
            , h = "/oe-web/models/20190620/"
            , m = "bds.ecs.qmth.com.cn"
            , p = "cug.ecs.qmth.com.cn";
        let _;
        "true" === Object({
            VUE_APP_GIT_REPO_VERSION: "2022-05-06 14:47:44 - 72bd71d",
            VUE_APP_CONFIG_FILE_SEVER_URL: "https://ecs-static.qmth.com.cn",
            VUE_APP_ROUTER_PATH: "/oe-web/",
            VUE_APP_PUBLIC_PATH: "/oe-web/",
            VUE_APP_SLS_STORE_NAME: "student-client",
            NODE_ENV: "production",
            BASE_URL: "/oe-web/"
        }).VUE_APP_SELF_DEFINE_DOMAIN && (_ = window.localStorage.getItem("exam_cloud_domain_in_url")),
            _ || (_ = window.location.hostname.split(".")[0]);
        const g = _ + ".ecs.qmth.com.cn"
            , w = "1"
            , f = new Map([["pc-test.ea100.com.cn", "7501fb797d0bac668e13f392b42e1b9f6464442c2ffc03c2a3243416ef226eb8"]])
            , v = [...f.keys()]
    },
    e85b: function (e, t, s) { },
    e902: function (e, t, s) {
        "use strict";
        var i = s("5660")
            , a = s.n(i);
        a.a
    },
    e989: function (e, t, s) { },
    ec02: function (e, t, s) {
        "use strict";
        var i = s("a332")
            , a = s.n(i);
        a.a
    },
    f195: function (e, t, s) { },
    f3c0: function (e, t, s) {
        "use strict";
        var i = s("6af0")
            , a = s.n(i);
        a.a
    },
    f43d: function (e, t, s) { },
    f530: function (e, t, s) { },
    f5d8: function (e, t, s) {
        "use strict";
        var i = s("e989")
            , a = s.n(i);
        a.a
    },
    f694: function (e, t, s) {
        "use strict";
        var i = function () {
            var e = this
                , t = e.$createElement
                , s = e._self._c || t;
            return s("div")
        }
            , a = []
            , o = s("e6fd")
            , n = {
                name: "GlobalNotice",
                data() {
                    return {
                        clicked: !1
                    }
                },
                watch: {
                    clicked(e) {
                        e && this.$Spin.hide()
                    },
                    $route(e) {
                        "Login" !== e.name && this.$Spin.hide()
                    }
                },
                async created() {
                    this.fetchNotice(),
                        this.fetchInterval = setInterval(() => {
                            this.fetchNotice()
                        }
                            , 6e4)
                },
                beforeDestroy() {
                    clearInterval(this.fetchInterval)
                },
                methods: {
                    async fetchNotice() {
                        const e = this.$createElement
                            , t = o["j"] + "/sys_notice/org_all.json?" + Date.now() + Math.random()
                            , s = await this.$http.get(t, { withCredentials: !1 })
                            , i = s.data;
                        !this.clicked && i.enable && this.$Spin.show({
                            render: () => e("div", {
                                style: "width: 600px; border: 1px solid #999; border-radius: 5px; padding: 20px; color: black"
                            }, [e("div", {
                                style: "font-size: 28px"
                            }, [i.title]), e("div", {
                                style: "font-size: 18px; text-align: left"
                            }, [i.content.repeat(1)]), e("div", [e("Button", {
                                attrs: {
                                    size: "large",
                                    long: !0
                                },
                                class: "qm-primary-button",
                                style: "margin-top: 30px; width: 160px",
                                on: {
                                    click: this.clickBtn
                                }
                            }, ["确定"])])])
                        })
                    },
                    clickBtn() {
                        this.logger({
                            page: "GlobalNotice",
                            button: "确定按钮",
                            action: "点击"
                        }),
                            this.clicked = !0
                    }
                }
            }
            , r = n
            , c = s("2877")
            , l = Object(c["a"])(r, i, a, !1, null, null, null);
        t["a"] = l.exports
    },
    f6a7: function (e, t, s) { },
    f748: function (e, t, s) { },
    f8fb: function (e, t, s) { },
    f9c5: function (e, t, s) {
        "use strict";
        var i = s("94b9")
            , a = s.n(i);
        a.a
    },
    fdd6: function (e, t, s) { },
    ff04: function (e, t, s) {
        "use strict";
        s.d(t, "a", (function () {
            return n
        }));
        var i = s("bc3a")
            , a = s.n(i)
            , o = s("823b");
        async function n({ action: e, limit: t = 100 }) {
            let s = null
                , i = !1;
            try {
                if (s = await a.a.get(`https://tcc.qmth.com.cn/rate_limit/prod/${e}/${t}`, { timeout: 1e4 }),
                    i = s.data.pass,
                    Object(o["b"])({
                        action: "第一次限流调用",
                        limitAction: e,
                        detail: i ? "进入" : "限流"
                    }),
                    !i) {
                    s = null;
                    const n = 4 * Math.random() + 1;
                    console.log({
                        sleepTime: n,
                        now: Date.now()
                    }),
                        await new Promise(e => setTimeout(e, 1e3 * n)),
                        console.log({
                            sleepTime: n,
                            now: Date.now()
                        }),
                        s = await a.a.get(`https://tcc.qmth.com.cn/rate_limit/prod/${e}/${t}`, { timeout: 1e4 }),
                        i = s.data.pass,
                        Object(o["b"])({
                            action: "限流后自动重试",
                            limitAction: e,
                            detail: i ? "进入" : "依然限流"
                        })
                }
            } catch (n) {
                console.log(n),
                    window._hmt.push(["_trackEvent", e, "获取rateLimit失败"])
            }
            return {
                limitResult: i,
                serverOk: !!s
            }
        }
    }
});
//# sourceMappingURL=app.9e67cac0.js.map
